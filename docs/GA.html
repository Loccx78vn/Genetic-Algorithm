<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="description" content="Đây là bài viết của tôi về cách sử dụng R trong ứng dụng Genetic Algorithm trong Supply Chain">

<title>Genetic Algorithm - Genetic Algorithms in R</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link href="site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<script src="site_libs/viz-1.8.2/viz.js"></script>
<link href="site_libs/DiagrammeR-styles-0.2/styles.css" rel="stylesheet">
<script src="site_libs/grViz-binding-1.0.9/grViz.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="site_libs/leaflet-1.3.1/leaflet.css" rel="stylesheet">
<script src="site_libs/leaflet-1.3.1/leaflet.js"></script>
<link href="site_libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet">
<script src="site_libs/proj4-2.6.2/proj4.min.js"></script>
<script src="site_libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="site_libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet">
<script src="site_libs/leaflet-binding-2.2.2/leaflet.js"></script>
<script src="site_libs/leaflet-providers-2.0.0/leaflet-providers_2.0.0.js"></script>
<script src="site_libs/leaflet-providers-plugin-2.2.2/leaflet-providers-plugin.js"></script>
<script src="site_libs/d3-4.5.0/d3.min.js"></script>
<script src="site_libs/sankey-1/sankey.js"></script>
<script src="site_libs/sankeyNetwork-binding-0.4/sankeyNetwork.js"></script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Genetic Algorithm</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link active" href="./GA.html" rel="" target="" aria-current="page">
 <span class="menu-text">Genetic Algorithms in R</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto tools-wide">
    <a href="https://github.com/Loccx78vn/Forecasting_time_series" rel="" title="Github" class="quarto-navigation-tool px-1" aria-label="Github"><i class="bi bi-github"></i></a>
    <a href="https://rpubs.com/loccx" rel="" title="Another projects" class="quarto-navigation-tool px-1" aria-label="Another projects"><i class="bi bi-twitter"></i></a>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#giới-thiệu" id="toc-giới-thiệu" class="nav-link active" data-scroll-target="#giới-thiệu"><span class="header-section-number">1</span> Giới thiệu:</a>
  <ul class="collapse">
  <li><a href="#vài-điểm-về-thuật-toán-genetic" id="toc-vài-điểm-về-thuật-toán-genetic" class="nav-link" data-scroll-target="#vài-điểm-về-thuật-toán-genetic"><span class="header-section-number">1.1</span> Vài điểm về thuật toán Genetic:</a></li>
  <li><a href="#cách-hoạt-động-ga-trong-ml" id="toc-cách-hoạt-động-ga-trong-ml" class="nav-link" data-scroll-target="#cách-hoạt-động-ga-trong-ml"><span class="header-section-number">1.2</span> Cách hoạt động GA trong ML:</a></li>
  </ul></li>
  <li><a href="#thực-hành-trong-r" id="toc-thực-hành-trong-r" class="nav-link" data-scroll-target="#thực-hành-trong-r"><span class="header-section-number">2</span> Thực hành trong R:</a>
  <ul class="collapse">
  <li><a href="#thuật-toán-genetic" id="toc-thuật-toán-genetic" class="nav-link" data-scroll-target="#thuật-toán-genetic"><span class="header-section-number">2.1</span> Thuật toán Genetic:</a></li>
  <li><a href="#mô-hình-milp" id="toc-mô-hình-milp" class="nav-link" data-scroll-target="#mô-hình-milp"><span class="header-section-number">2.2</span> Mô hình MILP:</a>
  <ul class="collapse">
  <li><a href="#giới-thiệu-sơ-lược" id="toc-giới-thiệu-sơ-lược" class="nav-link" data-scroll-target="#giới-thiệu-sơ-lược"><span class="header-section-number">2.2.1</span> Giới thiệu sơ lược:</a></li>
  <li><a href="#ví-dụ" id="toc-ví-dụ" class="nav-link" data-scroll-target="#ví-dụ"><span class="header-section-number">2.2.2</span> Ví dụ:</a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">Genetic Algorithms in R</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
<p class="subtitle lead">Việt Nam, 2024</p>
  <div class="quarto-categories">
    <div class="quarto-category">SupplyChainManagement</div>
    <div class="quarto-category">Logistics</div>
    <div class="quarto-category">Genetic Algorithm</div>
  </div>
  </div>

<div>
  <div class="description">
    Đây là bài viết của tôi về cách sử dụng R trong ứng dụng Genetic Algorithm trong Supply Chain
  </div>
</div>


<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="giới-thiệu" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Giới thiệu:</h1>
<section id="vài-điểm-về-thuật-toán-genetic" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="vài-điểm-về-thuật-toán-genetic"><span class="header-section-number">1.1</span> Vài điểm về thuật toán Genetic:</h2>
<p><strong>GA</strong> hay <strong>Genetic Algorithm</strong> là 1 thuật toán tối ưu hóa ngẫu nhiên (<strong>stochastic search algorithms</strong>), được phát triển dựa trên lý thuyết tiến hóa và sự chọn lọc tự nhiên của sinh học <span class="citation" data-cites="lucascrucca2013">(<a href="#ref-lucascrucca2013" role="doc-biblioref">Luca Scrucca 2013</a>)</span>.</p>
<p>Ở thời cấp 3, bạn đã từng học về lý thuyết tiến hóa và chọn lọc tự nhiên của <a href="https://vi.wikipedia.org/wiki/Charles_Darwin">Charles Darwin</a> và <a href="https://vi.wikipedia.org/wiki/Alfred_Russel_Wallace">Alfred Russel</a> ở môn Sinh học. Nếu bạn cũng từng liệt Sinh như tôi thì bạn quên cũng không sao 😅😅. Vậy thì để tôi giải thích lại như sau:</p>
<p>Sự tiến hóa là sự thay đổi đặc điểm di truyền của 1 quần thể sinh vật, ví dụ điển hình chính là từ loại vượn đã tiến hóa thành hình dạng con người văn minh như các bạn bây giờ. Vậy quá trình tiến hóa đó diễn ra khi có sự chọn lọc tự nhiên tạo ra các biến dị di truyền (Ví dụ: đột biến,…) và kết quả là các cá thể đột biến trở nên phổ biến hơn hoặc hiếm gặp hơn trong quần thể. Vậy điều kiện để xảy ra sự chọn lọc tự nhiên có thể là sự thay đổi về môi trường sống, địa lý,… dẫn tới sự khác nhau về khả năng sống sót và sinh sản.</p>
<p>Kết cục là xuất hiện các cá thể đột biến “mạnh mẽ hơn” hoặc đúng là “đặc biệt hơn” có khả năng tồn tại khi xuất hiện sự thay đổi lớn, ví dụ như dưới đây, do sự thay đổi về địa điểm sống, từ một loại chim sẻ đã phát triển thành 3 phân họ khác nhau.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://www.biologyonline.com/dictionary/natural-selection"><img src="Natural_selection.jpg" class="img-fluid figure-img"></a></p>
<figcaption class="figure-caption">Hình 1: Ví dụ về chọn lọc tự nhiên</figcaption>
</figure>
</div>
<p>Vậy lí thuyết này liên quan gì tới vấn đề tối ưu hóa. Thông thường khi bạn muốn tối ưu hóa một vấn đề gì đó, bạn cần xây dựng mô hình định lượng nó, ví dụ như dưới ảnh này ta đang có mô hình <a href="https://www.mathworks.com/help/optim/ug/mixed-integer-linear-programming-algorithms.html">MILP</a> nhằm hoạch định tuyến đường và tối ưu hóa quãng đường di chuyển.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://medium.com/@rihot_gusron/capacitated-vehicle-routing-problem-with-lingo-427c2d3bf724"><img src="MILP.png" class="img-fluid figure-img"></a></p>
<figcaption class="figure-caption">Hình 2: Mô hình VRP</figcaption>
</figure>
</div>
<p>Mục tiêu của hàm chính là tìm ra giá trị nhỏ nhất nghĩa là chi phí cho việc di chuyển của xe là nhỏ nhất. Do đó, bạn có thể hình dung rằng <strong>giá trị nhỏ nhất</strong> đó như là các <strong>cá thể đột biến</strong> có khả năng sống sót cao nhất trong quẩn thể.</p>
<p>Vì vậy thuật toán <strong>Genetic</strong> (GA) chính là lặp đi lặp lại sự chọn lọc tự nhiên trong một quần thể hoặc một mẫu để đến cuối cùng tìm ra cá thể vượt trội nhất.</p>
</section>
<section id="cách-hoạt-động-ga-trong-ml" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="cách-hoạt-động-ga-trong-ml"><span class="header-section-number">1.2</span> Cách hoạt động GA trong ML:</h2>
<p>Trong Machine Learning, GA nhằm tìm ra đúng các biến cần thiết để xây dựng mô hình tốt nhất. Gỉa sử chúng ta có 2 mô hình là:</p>
<ul>
<li>Mô hình 1: gồm các biến A,C,D.</li>
<li>Mô hình 2: gồm biến A,B,E.</li>
</ul>
<p>Vậy mô hình nào mới là tốt nhất cho mô hình dự đoán ? Chúng ta chưa biết được và chỉ có thể so sánh nó thông qua thuật toán Genetic.</p>
<p>Về quy trình, thuật toán Genetic sẽ có cách hoạt động như dưới đây. Quy trình này mình tham khảo của <span class="citation" data-cites="rohithgandhi2018">(<a href="#ref-rohithgandhi2018" role="doc-biblioref">Rohith Gandhi 2018</a>)</span>.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://medium.datadriveninvestor.com/genetic-algorithms-9f920939f7cc"><img src="Genetic_Algorithm.png" class="img-fluid figure-img"></a></p>
<figcaption class="figure-caption">Hình 3: Thuật toán Genetic</figcaption>
</figure>
</div>
<p>Diễn giải cách hoạt động:</p>
<ul>
<li>Bước 1 (<strong>Initialisation</strong>): mỗi biến được xem là <em>Gene</em> và nhiều <em>Gene</em> gộp lại thành một mô hình hay gọi là <em>Chromosome</em> và nhiều <em>Chromosome</em> sẽ tạo thành một quần thể (<em>Population</em>). Việc này giống như là bạn đang trình bày hết các phương án có thể sử dụng.</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://www.doc.ic.ac.uk/research/technicalreports/2003/DTR03-4.pdf"><img src="Term.png" class="img-fluid figure-img"></a></p>
<figcaption class="figure-caption">Hình 4: Các thuật ngữ trong GA</figcaption>
</figure>
</div>
<ul>
<li><p>Bước 2 (<strong>Fitness Function</strong>): Bạn cần xây dựng một hàm mục tiêu để tính toán giá trị cho các mô hình ở bước 1.</p></li>
<li><p>Bước 3 (<strong>Selection</strong>): Biến nào có giá trị yếu kém sẽ bị loại và quá trình tính toán sẽ tiếp tục ở thế hệ của nó tiếp theo. Diễn giải đơn giản hơn là chúng ta thử một cách khác và cố gắng cải thiện kết quả.</p></li>
<li><p>Bước 4 (<strong>Crossover</strong>): Tạo ra mô hình gồm các biến tốt đã lựa chọn ở bước 3. Ví dụ như biến A, B là tốt cho mô hình.</p></li>
<li><p>Bước 5 (<strong>Mutation</strong>): Thay đổi mô hình đầu vào đã bao gồm các biến ở bước 4 và bắt đầu lại từ bước 1. Ví dụ mô hình cần chọn gồm 5 biến và ta đã chọn được biến A,B là tốt. Do đó, khi quay lại bước 1, ta chỉ cần chọn thêm 3 biến thay vì 5 biến như thông thường.</p></li>
</ul>
</section>
</section>
<section id="thực-hành-trong-r" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Thực hành trong R:</h1>
<p>Sau khi đã sơ lược về thuật toán, bây giờ ta sẽ vào phần thực hành trong R. Vậy làm sao để ứng dụng thuật toán Genetic trong R, mình đã kham khảo qua nhiều nguồn tài liệu và tổng hợp dưới đây:</p>
<p><strong>Xây dựng hàm mục tiêu</strong>: hàm mục tiêu là bước quan trọng nhất trong thuật toán Genetic vì nó là cơ sở để đánh giá và lựa chọn cá thể vượt trội nhất. Và hàm mục tiêu sẽ luôn khác nhau tùy vào vấn đề mà ta đặt ra. Gỉa sử chúng ta muốn tối ưu chi phí thì nó là hàm Min, còn ta muốn tối đa lợi nhuận thì nó sẽ là hàm Max.</p>
<p>Vậy hàm mục tiêu của bài toán trên trong R, bạn có thể tham khảo phần code bên dưới mình:</p>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Type of fitness function
</div>
</div>
<div class="callout-body-container callout-body">
<p>Đối số <code>type</code> trong hàm có 3 giá trị:</p>
<ul>
<li><code>"binary"</code>: đại diện cho biến quyết định dạng phân loại, ví dụ: có/không</li>
<li><code>"real-valued"</code>: dùng dể tối ưu cho các biến quyết định là dạng số thực, số tự nhiên.</li>
<li><code>"permutation"</code>: cho các vấn đề liên quan đến việc sắp xếp lại các biến thành danh sách, ví dụ: thang đo Likert.</li>
</ul>
</div>
</div>
<p>Chi tiết về hàm <code>ga()</code>, bạn có thể tham khảo tài liệu của <span class="citation" data-cites="lucascrucca2013">(<a href="#ref-lucascrucca2013" role="doc-biblioref">Luca Scrucca 2013</a>)</span>.</p>
<section id="thuật-toán-genetic" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="thuật-toán-genetic"><span class="header-section-number">2.1</span> Thuật toán Genetic:</h2>
<p>Vậy bây giờ chúng ta sẽ xử lí bài toán trên theo thuật toán <strong>Genetic</strong></p>
<p>Gỉa sử chúng ta có bài toán về vận chuyển hàng từ nhà kho để thỏa mãn nhu cầu ở các điểm <strong>DC (Distribution center)</strong>. Và công thức để tính toán được chi phí là:</p>
<p>Hàm chi phí tổng thể được xác định như sau:</p>
<p><span class="math display">\[
TC = \sum_{i=1}^{m} \left( D_{ij} \times \frac{P}{F} \times 0.4 + LC_i \right) \times Q_j
\]</span> Vì vậy, nếu trong công việc, chúng ta sẽ cần lấy dữ liệu từ <strong>Data warehouse</strong> bằng SQL hoặc các phần mềm <strong>Business Intelligence</strong> khác. Ở đây, nhằm minh họa, mình đã tạo ra code ở phía dưới để các bạn luyện tập.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a data frame for loading costs</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>loading_costs <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">Warehouse =</span> <span class="fu">rep</span>(<span class="fu">paste</span>(<span class="st">"Warehouse"</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>), <span class="at">each =</span> <span class="dv">4</span>),</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">ID =</span> <span class="fu">rep</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="at">times =</span> <span class="dv">4</span>),</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">Weight_Category =</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">"&lt; 2 tons"</span>, <span class="st">"2 to 5 tons"</span>, <span class="st">"5 to 10 tons"</span>, <span class="st">"&gt; 10 tons"</span>), <span class="at">times =</span> <span class="dv">5</span>),</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">Has_Machine =</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">"Yes"</span>, <span class="st">"No"</span>, <span class="st">"Yes"</span>, <span class="st">"No"</span>, <span class="st">"No"</span>), <span class="at">each =</span> <span class="dv">4</span>),</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">Loading_Cost =</span> <span class="fu">c</span>(<span class="dv">80</span>, <span class="dv">100</span>, <span class="dv">120</span>, <span class="dv">160</span>,  <span class="co"># Warehouse 1 (with machine)</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>                   <span class="dv">110</span>, <span class="dv">150</span>, <span class="dv">180</span>, <span class="dv">210</span>,  <span class="co"># Warehouse 2 (without machine)</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>                   <span class="dv">85</span>, <span class="dv">105</span>, <span class="dv">125</span>, <span class="dv">140</span>,  <span class="co"># Warehouse 3 (with machine)</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>                   <span class="dv">150</span>, <span class="dv">170</span>, <span class="dv">190</span>, <span class="dv">210</span>,  <span class="co"># Warehouse 4 (without machine)</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>                   <span class="dv">140</span>, <span class="dv">165</span>, <span class="dv">185</span>, <span class="dv">215</span>)   <span class="co"># Warehouse 5 (without machine)</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Define warehouses with coordinates (latitude, longitude)</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>warehouses <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">ID =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>,</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">Latitude =</span> <span class="fu">c</span>(<span class="fl">21.0285</span>, <span class="fl">16.0545</span>, <span class="fl">10.7769</span>, <span class="fl">14.0583</span>, <span class="fl">19.8060</span>), <span class="co"># Example latitudes (Hanoi, HCMC, Da Nang, etc.)</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">Longitude =</span> <span class="fu">c</span>(<span class="fl">105.804</span>, <span class="fl">108.2022</span>, <span class="fl">106.6957</span>, <span class="fl">108.2772</span>, <span class="fl">105.7460</span>) <span class="co"># Example longitudes</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Define distribution centers data in Vietnam (example coordinates)</span></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>distribution_centers <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>  <span class="at">ID =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>,</span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>  <span class="at">Demand =</span> <span class="fu">c</span>(<span class="dv">90</span>, <span class="dv">30</span>, <span class="dv">150</span>),</span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>  <span class="at">Latitude =</span> <span class="fu">c</span>(<span class="fl">17.974855</span>, <span class="fl">10.7769</span>, <span class="fl">15.122327</span>), <span class="co"># Example latitudes (Hanoi, Da Nang, HCMC)</span></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>  <span class="at">Longitude =</span> <span class="fu">c</span>(<span class="fl">102.630867</span>, <span class="fl">106.6957</span>, <span class="fl">108.799357</span>) <span class="co"># Example longitudes</span></span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Nếu bạn gặp khó khăn trong việc phải đối mặt với cả đống dữ liệu từ hệ thống và chưa biết lấy dữ liệu nào để phân tích hoặc gộp bảng nào qua bảng nào thì lời khuyên của tôi là hãy vẽ bảng <strong>Entity relation diagram (ERD)</strong>.</p>
<p><strong>ERD</strong> là một công cụ trực quan dùng để mô tả cấu trúc dữ liệu trong cơ sở dữ liệu. ERD thể hiện các thực thể (<em>entities</em>), thuộc tính (<em>attributes</em>), và các mối quan hệ (<em>relationships</em>) giữa chúng. Các thực thể thường được biểu diễn dưới dạng hình chữ nhật, thuộc tính dưới dạng hình ellips, và mối quan hệ bằng hình thoi hoặc đường nối. ERD giúp lập kế hoạch cho thiết kế cơ sở dữ liệu, đảm bảo rằng các yếu tố dữ liệu và quan hệ giữa chúng được xác định rõ ràng, tạo nền tảng cho việc phát triển và quản lý dữ liệu hiệu quả.</p>
<p>Các bạn có thể thấy mối quan hệ thông qua bảng <strong>Entity relation diagram (ERD)</strong> dưới đây:</p>
<div class="cell">
<div class="cell-output-display">

<div class="grViz html-widget html-fill-item" id="htmlwidget-3502748a515cb3c26850" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-3502748a515cb3c26850">{"x":{"diagram":"#data_model\ndigraph {\ngraph [rankdir=LR tooltip=\"Data Model\" ]\n\nnode [margin=0 fontcolor = \"#444444\" ]\n\nedge [color = \"#555555\", arrowsize = 1, ]\n\n\n  \"Distribution_Centers\" [label = <<TABLE ALIGN=\"LEFT\" BORDER=\"1\" CELLBORDER=\"0\" CELLSPACING=\"0\" COLOR=\"#555555\">\n    <TR>\n      <TD COLSPAN=\"1\" BGCOLOR=\"#EFEBDD\" BORDER=\"0\"><FONT COLOR=\"#000000\">Distribution_Centers<\/FONT>\n<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\" PORT=\"ID\"><U>ID<\/U><\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\">Demand<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\">Latitude<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\">Longitude<\/TD>\n    <\/TR>\n  <\/TABLE>>, shape = \"plaintext\"] \n\n  \"Loading_Costs\" [label = <<TABLE ALIGN=\"LEFT\" BORDER=\"1\" CELLBORDER=\"0\" CELLSPACING=\"0\" COLOR=\"#555555\">\n    <TR>\n      <TD COLSPAN=\"1\" BGCOLOR=\"#EFEBDD\" BORDER=\"0\"><FONT COLOR=\"#000000\">Loading_Costs<\/FONT>\n<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\" PORT=\"Warehouse\"><U>Warehouse<\/U><\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\" PORT=\"ID\"><U>ID<\/U><\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\">Weight_Category<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\">Has_Machine<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\">Loading_Cost<\/TD>\n    <\/TR>\n  <\/TABLE>>, shape = \"plaintext\"] \n\n  \"Warehouses\" [label = <<TABLE ALIGN=\"LEFT\" BORDER=\"1\" CELLBORDER=\"0\" CELLSPACING=\"0\" COLOR=\"#555555\">\n    <TR>\n      <TD COLSPAN=\"1\" BGCOLOR=\"#EFEBDD\" BORDER=\"0\"><FONT COLOR=\"#000000\">Warehouses<\/FONT>\n<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\" PORT=\"ID\"><U>ID<\/U><\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\">Latitude<\/TD>\n    <\/TR>\n    <TR>\n      <TD ALIGN=\"LEFT\" BGCOLOR=\"#FFFFFF\">Longitude<\/TD>\n    <\/TR>\n  <\/TABLE>>, shape = \"plaintext\"] \n\n\"Loading_Costs\":\"Warehouse\"->\"Warehouses\":\"ID\"\n\"Loading_Costs\":\"ID\"->\"Distribution_Centers\":\"ID\"\n}","config":{"engine":null,"options":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tải package datamodelr:
</div>
</div>
<div class="callout-body-container callout-body">
<p>Mình tạo biểu đồ này bằng thư viện datamodelr. Bạn có thể tải bằng cú pháp: <code>devtools::install_github("bergant/datamodelr")</code></p>
</div>
</div>
<p>Như vậy, dựa vào đó, ta sẽ tính toán được 2 bảng quan trọng:</p>
<ul>
<li><p>Bảng giá loading ở các kho. (Hình bên trái)</p></li>
<li><p>Bảng chi phí vận chuyển từ từng WH đến các DCs. (Hình bên phải)</p></li>
</ul>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Calculate the transportation cost:</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Haversine distance function</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>haversine <span class="ot">&lt;-</span> <span class="cf">function</span>(lat1, lon1, lat2, lon2) {</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  R <span class="ot">&lt;-</span> <span class="dv">6371</span> <span class="co"># Radius of Earth in kilometers</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  dlat <span class="ot">&lt;-</span> (lat2 <span class="sc">-</span> lat1) <span class="sc">*</span> pi <span class="sc">/</span> <span class="dv">180</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  dlon <span class="ot">&lt;-</span> (lon2 <span class="sc">-</span> lon1) <span class="sc">*</span> pi <span class="sc">/</span> <span class="dv">180</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>  a <span class="ot">&lt;-</span> <span class="fu">sin</span>(dlat <span class="sc">/</span> <span class="dv">2</span>) <span class="sc">*</span> <span class="fu">sin</span>(dlat <span class="sc">/</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>       <span class="fu">cos</span>(lat1 <span class="sc">*</span> pi <span class="sc">/</span> <span class="dv">180</span>) <span class="sc">*</span> <span class="fu">cos</span>(lat2 <span class="sc">*</span> pi <span class="sc">/</span> <span class="dv">180</span>) <span class="sc">*</span> </span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>       <span class="fu">sin</span>(dlon <span class="sc">/</span> <span class="dv">2</span>) <span class="sc">*</span> <span class="fu">sin</span>(dlon <span class="sc">/</span> <span class="dv">2</span>)</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>  c <span class="ot">&lt;-</span> <span class="dv">2</span> <span class="sc">*</span> <span class="fu">atan2</span>(<span class="fu">sqrt</span>(a), <span class="fu">sqrt</span>(<span class="dv">1</span> <span class="sc">-</span> a))</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>  R <span class="sc">*</span> c <span class="co"># Distance in kilometers</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate distance matrix based on coordinates</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>distance_matrix <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">0</span>, <span class="at">nrow =</span> <span class="fu">nrow</span>(warehouses), <span class="at">ncol =</span> <span class="fu">nrow</span>(distribution_centers))</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(warehouses)) {</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(distribution_centers)) {</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>    distance_matrix[i, j] <span class="ot">&lt;-</span> <span class="fu">haversine</span>(</span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>      warehouses<span class="sc">$</span>Latitude[i], warehouses<span class="sc">$</span>Longitude[i],</span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>      distribution_centers<span class="sc">$</span>Latitude[j], distribution_centers<span class="sc">$</span>Longitude[j]</span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the fuel price (example value)</span></span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a>fuel_price <span class="ot">&lt;-</span> <span class="dv">20</span> <span class="co"># Fuel price per kilometer</span></span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate transportation costs</span></span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a>transportation_costs <span class="ot">&lt;-</span> distance_matrix <span class="sc">*</span> fuel_price <span class="sc">*</span> <span class="fl">0.4</span></span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a><span class="do">## Calculate the loading cost:</span></span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true" tabindex="-1"></a>weights_per_good <span class="ot">&lt;-</span> <span class="fl">0.1</span></span>
<span id="cb2-34"><a href="#cb2-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-35"><a href="#cb2-35" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate total weight for each distribution center</span></span>
<span id="cb2-36"><a href="#cb2-36" aria-hidden="true" tabindex="-1"></a>total_weight <span class="ot">&lt;-</span> distribution_centers<span class="sc">$</span>Demand <span class="sc">*</span> weights_per_good</span>
<span id="cb2-37"><a href="#cb2-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-38"><a href="#cb2-38" aria-hidden="true" tabindex="-1"></a><span class="co"># Function to get loading cost based on total weight</span></span>
<span id="cb2-39"><a href="#cb2-39" aria-hidden="true" tabindex="-1"></a>get_loading_cost <span class="ot">&lt;-</span> <span class="cf">function</span>(total_weight) {</span>
<span id="cb2-40"><a href="#cb2-40" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (total_weight <span class="sc">&lt;</span> <span class="dv">2</span>) {</span>
<span id="cb2-41"><a href="#cb2-41" aria-hidden="true" tabindex="-1"></a>    loading_costs <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Weight_Category <span class="sc">==</span> <span class="st">"&lt; 2 tons"</span>) <span class="sc">%&gt;%</span> <span class="fu">pull</span>(Loading_Cost)</span>
<span id="cb2-42"><a href="#cb2-42" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span> (total_weight <span class="sc">&gt;=</span> <span class="dv">2</span> <span class="sc">&amp;</span> total_weight <span class="sc">&lt;</span> <span class="dv">5</span>) {</span>
<span id="cb2-43"><a href="#cb2-43" aria-hidden="true" tabindex="-1"></a>    loading_costs <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Weight_Category <span class="sc">==</span> <span class="st">"2 to 5 tons"</span>) <span class="sc">%&gt;%</span> <span class="fu">pull</span>(Loading_Cost)</span>
<span id="cb2-44"><a href="#cb2-44" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span> (total_weight <span class="sc">&gt;=</span> <span class="dv">5</span> <span class="sc">&amp;</span> total_weight <span class="sc">&lt;</span> <span class="dv">10</span>) {</span>
<span id="cb2-45"><a href="#cb2-45" aria-hidden="true" tabindex="-1"></a>    loading_costs <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Weight_Category <span class="sc">==</span> <span class="st">"5 to 10 tons"</span>) <span class="sc">%&gt;%</span> <span class="fu">pull</span>(Loading_Cost)</span>
<span id="cb2-46"><a href="#cb2-46" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb2-47"><a href="#cb2-47" aria-hidden="true" tabindex="-1"></a>    loading_costs <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Weight_Category <span class="sc">==</span> <span class="st">"&gt; 10 tons"</span>) <span class="sc">%&gt;%</span> <span class="fu">pull</span>(Loading_Cost)</span>
<span id="cb2-48"><a href="#cb2-48" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb2-49"><a href="#cb2-49" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-50"><a href="#cb2-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-51"><a href="#cb2-51" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate loading costs based on total weights for each distribution center</span></span>
<span id="cb2-52"><a href="#cb2-52" aria-hidden="true" tabindex="-1"></a>loading_costs_per_dc <span class="ot">&lt;-</span> <span class="fu">sapply</span>(total_weight, </span>
<span id="cb2-53"><a href="#cb2-53" aria-hidden="true" tabindex="-1"></a>                               get_loading_cost)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell quarto-layout-panel" data-fig.caption="Each cell's color intensity corresponds to the magnitude of the data point it represents, making it easy to identify patterns, trends, and correlations at a glance.">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="GA_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="GA_files/figure-html/unnamed-chunk-5-2.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<p>Sau khi đã có đủ dữ liệu, bạn sẽ bắt đầu viết hàm mục tiêu và dùng thuật toán GA để tìm ra giá trị tối ưu nhất.</p>
<p>Trong hàm <code>ga</code> từ gói <strong>GA</strong> trong R, có một số đối số quan trọng cho phép bạn tùy chỉnh thuật toán di truyền. Dưới đây là một cái nhìn tổng quan về một số đối số quan trọng:</p>
<ul>
<li><p><strong>type</strong>: Chỉ định loại tối ưu hóa (ví dụ: <code>"real-valued"</code>, <code>"binary"</code> hoặc <code>"permutation"</code>).</p></li>
<li><p><strong>fitness</strong>: Hàm đánh giá độ phù hợp; nó nên nhận một vector tham số làm đầu vào và trả về một giá trị số.</p></li>
<li><p><strong>lower</strong> và <strong>upper</strong>: Định nghĩa giới hạn cho các biến nếu bạn đang tối ưu hóa trong không gian liên tục (dùng cho các loại giá trị thực).</p></li>
<li><p><strong>popSize</strong>: Thiết lập kích thước quần thể cho mỗi thế hệ.</p></li>
<li><p><strong>maxiter</strong>: Chỉ định số thế hệ tối đa để chạy thuật toán.</p></li>
<li><p><strong>run</strong>: Chỉ định số thế hệ để chạy thuật toán mà không có sự cải thiện trước khi dừng lại.</p></li>
<li><p><strong>pmutation</strong>: Xác suất xảy ra đột biến trong quần thể.</p></li>
<li><p><strong>elitism</strong>: Xác định xem các cá thể tốt nhất có nên được giữ lại trong thế hệ tiếp theo hay không.</p></li>
</ul>
<p>Những đối số này giúp điều chỉnh thuật toán di truyền cho các nhu cầu tối ưu hóa cụ thể của bạn, cho phép hiệu suất tốt hơn và hội tụ về các giải pháp tối ưu.</p>
<p>Ngoài ra, còn có các lưu ý cho bạn khi sử dụng R như sau:</p>
<div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Lưu ý khi dùng hàm ga():
</div>
</div>
<div class="callout-body-container callout-body">
<p>Hàm <code>ga()</code> phải có ít nhất 2 đối số là <code>type</code> và <code>fitness thì R mới chạy được.</code></p>
<ul>
<li><p>Riêng khi type = “binary” thì cần thêm đối số <code>nBits.</code></p></li>
<li><p>Còn khi <code>type = "real-valued"/"permutation"</code> thì cần thêm đối số <code>min</code> và <code>max</code>.</p></li>
</ul>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load necessary library</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(GA)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>demand<span class="ot">&lt;-</span><span class="fu">c</span>(distribution_centers<span class="sc">$</span>Demand)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>cost_matrix <span class="ot">=</span> transportation_costs <span class="sc">+</span> loading_costs_per_dc</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the transportation cost matrix</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the objective function</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>objective_function <span class="ot">&lt;-</span> <span class="cf">function</span>(quantities) {</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>    quantities_matrix <span class="ot">&lt;-</span> <span class="fu">matrix</span>(quantities, </span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>                                <span class="at">nrow =</span> <span class="dv">5</span>, </span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>                                <span class="at">ncol =</span> <span class="dv">3</span>, </span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>                                <span class="at">byrow =</span> <span class="cn">TRUE</span>)</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>    total_cost <span class="ot">&lt;-</span> <span class="fu">sum</span>(quantities_matrix <span class="sc">*</span> cost_matrix)</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Check if demands are met</span></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="fu">any</span>(<span class="fu">colSums</span>(quantities_matrix) <span class="sc">&lt;</span> demand)) {</span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>        <span class="fu">return</span>(<span class="cn">Inf</span>)  <span class="co"># Penalize if demands are not met</span></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(total_cost)</span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Set up the Genetic Algorithm</span></span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>num_vars <span class="ot">&lt;-</span> <span class="dv">5</span> <span class="sc">*</span> <span class="dv">3</span>  <span class="co"># 5 warehouses, 3 distribution centers</span></span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>ga_result <span class="ot">&lt;-</span> <span class="fu">ga</span>(</span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> <span class="st">"real-valued"</span>,</span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">fitness =</span> <span class="cf">function</span>(x) <span class="sc">-</span><span class="fu">objective_function</span>(x),  <span class="co"># Negate for maximization</span></span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">lower =</span> <span class="fu">rep</span>(<span class="dv">0</span>, num_vars),  <span class="co"># Minimum quantity</span></span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">upper =</span> <span class="fu">rep</span>(<span class="dv">100</span>, num_vars),  <span class="co"># Maximum quantity (adjust as needed)</span></span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">popSize =</span> <span class="dv">50</span>,</span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">maxiter =</span> <span class="dv">100</span>,</span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">run =</span> <span class="dv">10</span>,</span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">monitor =</span> <span class="cn">TRUE</span></span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Và cuối cùng, sau khi có kết quả, mình sẽ dùng các thư viện gồm: <strong>Leaflet</strong>, <strong>gt</strong>, và <strong>biểu đồ Sankey</strong> phục vụ những mục đích khác nhau cho trực quan hóa dữ liệu.</p>
<ol type="1">
<li><p><strong>Leaflet</strong>: Đây là một thư viện mạnh mẽ để tạo bản đồ tương tác. Nó cho phép người dùng dễ dàng thêm các lớp, điểm đánh dấu và pop-up, rất lý tưởng để trực quan hóa dữ liệu địa lý. Leaflet đặc biệt hữu ích để hiển thị các dữ liệu như vị trí, lộ trình, hoặc phân bố không gian.</p></li>
<li><p><strong>gt</strong>: Gói <strong>gt</strong> được thiết kế để tạo ra các bảng chất lượng cao trong R. Nó cho phép người dùng định dạng và tạo kiểu cho bảng một cách dễ dàng, giúp chúng trở nên hấp dẫn và dễ đọc. gt hỗ trợ các tính năng như định dạng tùy chỉnh, dòng tóm tắt, và thậm chí thêm chú thích, nâng cao cách trình bày dữ liệu trong báo cáo.</p></li>
<li><p><strong>Biểu đồ Sankey</strong>: Những biểu đồ này được sử dụng để trực quan hóa luồng và mối quan hệ giữa các danh mục khác nhau. Trong R, gói <strong>networkD3</strong> hoặc <strong>ggalluvial</strong> có thể tạo ra biểu đồ Sankey, giúp hiểu cách các giá trị di chuyển giữa các nút, chẳng hạn như theo dõi hành trình người dùng hoặc hiển thị phân bổ tài nguyên.</p></li>
</ol>
<p>Nhìn chung, những công cụ này cung cấp các lựa chọn mạnh mẽ để trình bày dữ liệu một cách hấp dẫn và thông tin. Bạn có thể lựa chọn 1 trong 3 chúng, vì lý do học nên mình trình bày cả 3 luôn!.</p>
<div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(leaflet)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Create custom icons</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>warehouse_icon <span class="ot">&lt;-</span> <span class="fu">makeIcon</span>(</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">iconUrl =</span> <span class="st">"C:/Users/locca/Documents/Xuân Lộc/R/Project R/Genetic-Algorithm/warehouse_icon.png"</span>,  <span class="co"># Update with your actual file path</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>      <span class="at">iconWidth =</span> <span class="dv">30</span>, </span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">iconHeight =</span> <span class="dv">30</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>dc_icon <span class="ot">&lt;-</span> <span class="fu">makeIcon</span>(</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>      <span class="at">iconUrl =</span> <span class="st">"C:/Users/locca/Documents/Xuân Lộc/R/Project R/Genetic-Algorithm/distribution_center.png"</span>,  <span class="co"># Update with your actual file path</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>      <span class="at">iconWidth =</span> <span class="dv">30</span>, </span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>      <span class="at">iconHeight =</span> <span class="dv">30</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Assuming ga_result@solution contains optimal quantities</span></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>ga_result_solution <span class="ot">&lt;-</span> <span class="fu">c</span>(ga_result<span class="sc">@</span>solution)</span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Reshape the solution into a matrix (5 warehouses x 3 DCs)</span></span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>optimal_quantities <span class="ot">&lt;-</span> <span class="fu">matrix</span>(ga_result<span class="sc">@</span>solution,</span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>                             <span class="at">nrow =</span> <span class="dv">5</span>, </span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>                             <span class="at">ncol =</span> <span class="dv">3</span>, </span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>                             <span class="at">byrow =</span> <span class="cn">TRUE</span>)</span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create the leaflet map</span></span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a>map <span class="ot">&lt;-</span> <span class="fu">leaflet</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>      <span class="fu">addTiles</span>() <span class="sc">%&gt;%</span></span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a>      <span class="fu">addMarkers</span>(<span class="at">data =</span> warehouses, </span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a>                 <span class="at">lat =</span> <span class="sc">~</span>Latitude, <span class="at">lng =</span> <span class="sc">~</span>Longitude, </span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a>                 <span class="at">popup =</span> <span class="sc">~</span><span class="fu">paste</span>(<span class="st">"Warehouse ID:"</span>, ID), </span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a>                 <span class="at">icon =</span> warehouse_icon) <span class="sc">%&gt;%</span></span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a>      <span class="fu">addMarkers</span>(<span class="at">data =</span> distribution_centers, </span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a>                 <span class="at">lat =</span> <span class="sc">~</span>Latitude, <span class="at">lng =</span> <span class="sc">~</span>Longitude, </span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true" tabindex="-1"></a>                 <span class="at">popup =</span> <span class="sc">~</span><span class="fu">paste</span>(<span class="st">"DC ID:"</span>, ID, <span class="st">"&lt;br&gt;Demand:"</span>, Demand), </span>
<span id="cb4-35"><a href="#cb4-35" aria-hidden="true" tabindex="-1"></a>                 <span class="at">icon =</span> dc_icon)</span>
<span id="cb4-36"><a href="#cb4-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-37"><a href="#cb4-37" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Add routes based on the optimal quantities</span></span>
<span id="cb4-38"><a href="#cb4-38" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(optimal_quantities)) {</span>
<span id="cb4-39"><a href="#cb4-39" aria-hidden="true" tabindex="-1"></a>      <span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">ncol</span>(optimal_quantities)) {</span>
<span id="cb4-40"><a href="#cb4-40" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> (optimal_quantities[i, j] <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb4-41"><a href="#cb4-41" aria-hidden="true" tabindex="-1"></a>          route_start <span class="ot">&lt;-</span> warehouses[warehouses<span class="sc">$</span>ID <span class="sc">==</span> i, <span class="fu">c</span>(<span class="st">"Longitude"</span>, <span class="st">"Latitude"</span>)]</span>
<span id="cb4-42"><a href="#cb4-42" aria-hidden="true" tabindex="-1"></a>          route_end <span class="ot">&lt;-</span> distribution_centers[distribution_centers<span class="sc">$</span>ID <span class="sc">==</span> j, <span class="fu">c</span>(<span class="st">"Longitude"</span>, <span class="st">"Latitude"</span>)]</span>
<span id="cb4-43"><a href="#cb4-43" aria-hidden="true" tabindex="-1"></a>          </span>
<span id="cb4-44"><a href="#cb4-44" aria-hidden="true" tabindex="-1"></a>map <span class="ot">&lt;-</span> map <span class="sc">%&gt;%</span></span>
<span id="cb4-45"><a href="#cb4-45" aria-hidden="true" tabindex="-1"></a>            <span class="fu">addPolylines</span>(<span class="at">lat =</span> <span class="fu">c</span>(route_start<span class="sc">$</span>Latitude, route_end<span class="sc">$</span>Latitude),</span>
<span id="cb4-46"><a href="#cb4-46" aria-hidden="true" tabindex="-1"></a>                         <span class="at">lng =</span> <span class="fu">c</span>(route_start<span class="sc">$</span>Longitude, route_end<span class="sc">$</span>Longitude),</span>
<span id="cb4-47"><a href="#cb4-47" aria-hidden="true" tabindex="-1"></a>                         <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">weight =</span> <span class="dv">2</span>, <span class="at">opacity =</span> <span class="fl">0.5</span>)</span>
<span id="cb4-48"><a href="#cb4-48" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb4-49"><a href="#cb4-49" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb4-50"><a href="#cb4-50" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb4-51"><a href="#cb4-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-52"><a href="#cb4-52" aria-hidden="true" tabindex="-1"></a>map <span class="sc">%&gt;%</span></span>
<span id="cb4-53"><a href="#cb4-53" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addProviderTiles</span>(providers<span class="sc">$</span>CartoDB.Positron) </span>
<span id="cb4-54"><a href="#cb4-54" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gt)</span>
<span id="cb4-55"><a href="#cb4-55" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gtExtras)</span>
<span id="cb4-56"><a href="#cb4-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-57"><a href="#cb4-57" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Convert GA solution to a data frame</span></span>
<span id="cb4-58"><a href="#cb4-58" aria-hidden="true" tabindex="-1"></a>result <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">matrix</span>(ga_result<span class="sc">@</span>solution, <span class="at">nrow =</span> <span class="dv">5</span>, <span class="at">byrow =</span> <span class="cn">TRUE</span>))</span>
<span id="cb4-59"><a href="#cb4-59" aria-hidden="true" tabindex="-1"></a>    <span class="fu">colnames</span>(result) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"DC1"</span>, <span class="st">"DC2"</span>, <span class="st">"DC3"</span>)</span>
<span id="cb4-60"><a href="#cb4-60" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rownames</span>(result) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"WH1"</span>, <span class="st">"WH2"</span>, <span class="st">"WH3"</span>, <span class="st">"WH4"</span>, <span class="st">"WH5"</span>)</span>
<span id="cb4-61"><a href="#cb4-61" aria-hidden="true" tabindex="-1"></a>result <span class="ot">&lt;-</span> <span class="fu">cbind</span>(<span class="at">Workload =</span> <span class="fu">rownames</span>(result), result)</span>
<span id="cb4-62"><a href="#cb4-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-63"><a href="#cb4-63" aria-hidden="true" tabindex="-1"></a>result_long <span class="ot">&lt;-</span> result <span class="sc">%&gt;%</span> </span>
<span id="cb4-64"><a href="#cb4-64" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">starts_with</span>(<span class="st">"DC"</span>), <span class="at">names_to =</span> <span class="st">"Distribution_Center"</span>, <span class="at">values_to =</span> <span class="st">"Quantity"</span>)</span>
<span id="cb4-65"><a href="#cb4-65" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create and display the table</span></span>
<span id="cb4-66"><a href="#cb4-66" aria-hidden="true" tabindex="-1"></a>result_long <span class="sc">%&gt;%</span></span>
<span id="cb4-67"><a href="#cb4-67" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">%&gt;%</span></span>
<span id="cb4-68"><a href="#cb4-68" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_header</span>(<span class="at">title =</span> <span class="st">"Details Planning Table"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb4-69"><a href="#cb4-69" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cols_label</span>(<span class="at">Distribution_Center =</span> <span class="st">"Distribution Center"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb4-70"><a href="#cb4-70" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_row_group</span>(</span>
<span id="cb4-71"><a href="#cb4-71" aria-hidden="true" tabindex="-1"></a>    <span class="at">label =</span> <span class="fu">html</span>(<span class="st">"&lt;strong&gt;&lt;img src='https://upload.wikimedia.org/wikipedia/commons/5/56/Flag_of_Laos.svg' width='20' /&gt; Laos&lt;/strong&gt;"</span>),</span>
<span id="cb4-72"><a href="#cb4-72" aria-hidden="true" tabindex="-1"></a>    <span class="at">rows =</span> Distribution_Center <span class="sc">==</span> <span class="st">"DC1"</span></span>
<span id="cb4-73"><a href="#cb4-73" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb4-74"><a href="#cb4-74" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_row_group</span>(</span>
<span id="cb4-75"><a href="#cb4-75" aria-hidden="true" tabindex="-1"></a>    <span class="at">label =</span> <span class="fu">html</span>(<span class="st">"&lt;strong&gt;&lt;img src='https://upload.wikimedia.org/wikipedia/commons/thumb/2/21/Flag_of_Vietnam.svg/345px-Flag_of_Vietnam.svg.png' width='20' /&gt; Vietnam&lt;/strong&gt;"</span>),</span>
<span id="cb4-76"><a href="#cb4-76" aria-hidden="true" tabindex="-1"></a>    <span class="at">rows =</span> Distribution_Center <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"DC2"</span>, <span class="st">"DC3"</span>)</span>
<span id="cb4-77"><a href="#cb4-77" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb4-78"><a href="#cb4-78" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fmt_number</span>(<span class="at">columns =</span> <span class="fu">c</span>(Quantity), <span class="at">decimals =</span> <span class="dv">2</span>) <span class="sc">%&gt;%</span></span>
<span id="cb4-79"><a href="#cb4-79" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cols_label</span>(<span class="at">Workload =</span> <span class="st">"Warehouse"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb4-80"><a href="#cb4-80" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_style</span>(<span class="at">style =</span> <span class="fu">list</span>(<span class="fu">cell_text</span>(<span class="at">align =</span> <span class="st">"center"</span>)),</span>
<span id="cb4-81"><a href="#cb4-81" aria-hidden="true" tabindex="-1"></a>            <span class="at">locations =</span> <span class="fu">cells_body</span>(<span class="at">columns =</span> <span class="fu">everything</span>())) <span class="sc">%&gt;%</span></span>
<span id="cb4-82"><a href="#cb4-82" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_source_note</span>(<span class="at">source =</span> <span class="fu">md</span>(<span class="st">"*Source: package gt in R*"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb4-83"><a href="#cb4-83" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt_theme_excel</span>() <span class="sc">%&gt;%</span></span>
<span id="cb4-84"><a href="#cb4-84" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summary_rows</span>(</span>
<span id="cb4-85"><a href="#cb4-85" aria-hidden="true" tabindex="-1"></a>    <span class="at">groups =</span> <span class="fu">everything</span>(),</span>
<span id="cb4-86"><a href="#cb4-86" aria-hidden="true" tabindex="-1"></a>    <span class="at">columns =</span> Quantity, </span>
<span id="cb4-87"><a href="#cb4-87" aria-hidden="true" tabindex="-1"></a>    <span class="at">fns =</span> <span class="fu">list</span>(<span class="at">Total =</span> <span class="sc">~</span><span class="fu">sum</span>(.),</span>
<span id="cb4-88"><a href="#cb4-88" aria-hidden="true" tabindex="-1"></a>               <span class="at">Count =</span> <span class="sc">~</span><span class="fu">n</span>()))<span class="sc">%&gt;%</span> </span>
<span id="cb4-89"><a href="#cb4-89" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_footnote</span>(</span>
<span id="cb4-90"><a href="#cb4-90" aria-hidden="true" tabindex="-1"></a>    <span class="at">footnote =</span> <span class="fu">md</span>(<span class="st">"**Count** means number of shipment."</span>),</span>
<span id="cb4-91"><a href="#cb4-91" aria-hidden="true" tabindex="-1"></a>    <span class="at">locations =</span> <span class="fu">cells_summary</span>(<span class="at">rows =</span> <span class="st">"Count"</span>)</span>
<span id="cb4-92"><a href="#cb4-92" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb4-93"><a href="#cb4-93" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_footnote</span>(</span>
<span id="cb4-94"><a href="#cb4-94" aria-hidden="true" tabindex="-1"></a>    <span class="at">footnote =</span> <span class="fu">md</span>(<span class="st">"**Total** means the optimal quantity of good."</span>),</span>
<span id="cb4-95"><a href="#cb4-95" aria-hidden="true" tabindex="-1"></a>    <span class="at">locations =</span> <span class="fu">cells_summary</span>(<span class="at">rows =</span> <span class="st">"Total"</span>)</span>
<span id="cb4-96"><a href="#cb4-96" aria-hidden="true" tabindex="-1"></a>  ) </span>
<span id="cb4-97"><a href="#cb4-97" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(networkD3)</span>
<span id="cb4-98"><a href="#cb4-98" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(jsonlite)</span>
<span id="cb4-99"><a href="#cb4-99" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-100"><a href="#cb4-100" aria-hidden="true" tabindex="-1"></a><span class="co"># Define colors for nodes</span></span>
<span id="cb4-101"><a href="#cb4-101" aria-hidden="true" tabindex="-1"></a>colors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"#1f77b4"</span>, <span class="st">"#ff7f0e"</span>, <span class="st">"#2ca02c"</span>, <span class="st">"#d62728"</span>, <span class="st">"#9467bd"</span>, <span class="st">"#8c564b"</span>, <span class="st">"#e377c2"</span>, <span class="st">"#7f7f7f"</span>, <span class="st">"#bcbd22"</span>, <span class="st">"#17becf"</span>)</span>
<span id="cb4-102"><a href="#cb4-102" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-103"><a href="#cb4-103" aria-hidden="true" tabindex="-1"></a><span class="co"># Define example data</span></span>
<span id="cb4-104"><a href="#cb4-104" aria-hidden="true" tabindex="-1"></a>Warehouses <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Warehouse 1"</span>, <span class="st">"Warehouse 2"</span>, <span class="st">"Warehouse 3"</span>, <span class="st">"Warehouse 4"</span>, <span class="st">"Warehouse 5"</span>)</span>
<span id="cb4-105"><a href="#cb4-105" aria-hidden="true" tabindex="-1"></a>Distribution_centers <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"DC 1"</span>, <span class="st">"DC 2"</span>, <span class="st">"DC 3"</span>)</span>
<span id="cb4-106"><a href="#cb4-106" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-107"><a href="#cb4-107" aria-hidden="true" tabindex="-1"></a><span class="co"># Create nodes data frame</span></span>
<span id="cb4-108"><a href="#cb4-108" aria-hidden="true" tabindex="-1"></a>nodes <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">name =</span> <span class="fu">c</span>(Warehouses, Distribution_centers))</span>
<span id="cb4-109"><a href="#cb4-109" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-110"><a href="#cb4-110" aria-hidden="true" tabindex="-1"></a><span class="co"># Assign colors based on node index</span></span>
<span id="cb4-111"><a href="#cb4-111" aria-hidden="true" tabindex="-1"></a>node_colors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(Warehouses), <span class="at">each =</span> <span class="dv">1</span>), <span class="fu">rep</span>(<span class="fu">length</span>(Warehouses) <span class="sc">+</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(Distribution_centers), <span class="at">each =</span> <span class="dv">1</span>))</span>
<span id="cb4-112"><a href="#cb4-112" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-113"><a href="#cb4-113" aria-hidden="true" tabindex="-1"></a><span class="co"># Create links data frame</span></span>
<span id="cb4-114"><a href="#cb4-114" aria-hidden="true" tabindex="-1"></a>links <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb4-115"><a href="#cb4-115" aria-hidden="true" tabindex="-1"></a>  <span class="at">source =</span> <span class="fu">rep</span>(<span class="dv">0</span><span class="sc">:</span>(<span class="fu">nrow</span>(optimal_quantities) <span class="sc">-</span> <span class="dv">1</span>), <span class="at">each =</span> <span class="fu">ncol</span>(optimal_quantities)),  </span>
<span id="cb4-116"><a href="#cb4-116" aria-hidden="true" tabindex="-1"></a>  <span class="at">target =</span> <span class="fu">as.vector</span>(<span class="fu">sapply</span>(<span class="dv">0</span><span class="sc">:</span>(<span class="fu">ncol</span>(optimal_quantities) <span class="sc">-</span> <span class="dv">1</span>), </span>
<span id="cb4-117"><a href="#cb4-117" aria-hidden="true" tabindex="-1"></a>                             <span class="cf">function</span>(j) <span class="fu">rep</span>(<span class="fu">nrow</span>(optimal_quantities) <span class="sc">+</span> j, <span class="fu">nrow</span>(optimal_quantities)))),  </span>
<span id="cb4-118"><a href="#cb4-118" aria-hidden="true" tabindex="-1"></a>  <span class="at">value =</span> <span class="fu">as.vector</span>(optimal_quantities)  </span>
<span id="cb4-119"><a href="#cb4-119" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb4-120"><a href="#cb4-120" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-121"><a href="#cb4-121" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a Sankey diagram with node colors</span></span>
<span id="cb4-122"><a href="#cb4-122" aria-hidden="true" tabindex="-1"></a>sankey <span class="ot">&lt;-</span> <span class="fu">sankeyNetwork</span>(<span class="at">Links =</span> links, </span>
<span id="cb4-123"><a href="#cb4-123" aria-hidden="true" tabindex="-1"></a>                        <span class="at">Nodes =</span> nodes, </span>
<span id="cb4-124"><a href="#cb4-124" aria-hidden="true" tabindex="-1"></a>                        <span class="at">Source =</span> <span class="st">"source"</span>, </span>
<span id="cb4-125"><a href="#cb4-125" aria-hidden="true" tabindex="-1"></a>                        <span class="at">Target =</span> <span class="st">"target"</span>, </span>
<span id="cb4-126"><a href="#cb4-126" aria-hidden="true" tabindex="-1"></a>                        <span class="at">Value =</span> <span class="st">"value"</span>,</span>
<span id="cb4-127"><a href="#cb4-127" aria-hidden="true" tabindex="-1"></a>                        <span class="at">NodeID =</span> <span class="st">"name"</span>,</span>
<span id="cb4-128"><a href="#cb4-128" aria-hidden="true" tabindex="-1"></a>                        <span class="at">colourScale =</span> <span class="fu">JS</span>(<span class="fu">paste0</span>(<span class="st">"d3.scaleOrdinal().domain([0,"</span>, <span class="fu">length</span>(colors) <span class="sc">-</span> <span class="dv">1</span>, <span class="st">"]).range("</span>, <span class="fu">toJSON</span>(colors), <span class="st">");"</span>)),</span>
<span id="cb4-129"><a href="#cb4-129" aria-hidden="true" tabindex="-1"></a>                        <span class="at">height =</span> <span class="dv">900</span>,  <span class="co"># Adjust height to reduce vertical space</span></span>
<span id="cb4-130"><a href="#cb4-130" aria-hidden="true" tabindex="-1"></a>                        <span class="at">width =</span> <span class="dv">1000</span>)   <span class="co"># Adjust width to fit more nodes in one line</span></span>
<span id="cb4-131"><a href="#cb4-131" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-132"><a href="#cb4-132" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-133"><a href="#cb4-133" aria-hidden="true" tabindex="-1"></a><span class="do">## Add title and caption:</span></span>
<span id="cb4-134"><a href="#cb4-134" aria-hidden="true" tabindex="-1"></a>sankey <span class="ot">&lt;-</span> htmlwidgets<span class="sc">::</span><span class="fu">prependContent</span>(sankey, htmltools<span class="sc">::</span>tags<span class="sc">$</span><span class="fu">h1</span>(<span class="st">"Sankey chart"</span>))</span>
<span id="cb4-135"><a href="#cb4-135" aria-hidden="true" tabindex="-1"></a>sankey <span class="ot">&lt;-</span> htmlwidgets<span class="sc">::</span><span class="fu">appendContent</span>(sankey, htmltools<span class="sc">::</span>tags<span class="sc">$</span><span class="fu">p</span>(<span class="at">style =</span> <span class="st">"font-size: 14px; text-align: center;"</span>, <span class="st">" A wider arrow indicates that a larger quantity is being sent from that warehouse to a distribution center."</span>))</span>
<span id="cb4-136"><a href="#cb4-136" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-137"><a href="#cb4-137" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the Sankey diagram</span></span>
<span id="cb4-138"><a href="#cb4-138" aria-hidden="true" tabindex="-1"></a>sankey</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">
<div class="leaflet html-widget html-fill-item" id="htmlwidget-f5fef7e9e23798106964" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-f5fef7e9e23798106964">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"https://openstreetmap.org/copyright/\">OpenStreetMap<\/a>,  <a href=\"https://opendatacommons.org/licenses/odbl/\">ODbL<\/a>"}]},{"method":"addMarkers","args":[[21.0285,16.0545,10.7769,14.0583,19.806],[105.804,108.2022,106.6957,108.2772,105.746],{"iconUrl":{"data":"data:image/png;base64,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","index":0},"iconWidth":30,"iconHeight":30},null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},["Warehouse ID: 1","Warehouse ID: 2","Warehouse ID: 3","Warehouse ID: 4","Warehouse ID: 5"],null,null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addMarkers","args":[[17.974855,10.7769,15.122327],[102.630867,106.6957,108.799357],{"iconUrl":{"data":"data:image/png;base64,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","index":0},"iconWidth":30,"iconHeight":30},null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},["DC ID: 1 <br>Demand: 90","DC ID: 2 <br>Demand: 30","DC ID: 3 <br>Demand: 150"],null,null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addPolylines","args":[[[[{"lng":[105.804,102.630867],"lat":[21.0285,17.974855]}]]],null,null,{"interactive":true,"className":"","stroke":true,"color":"black","weight":2,"opacity":0.5,"fill":false,"fillColor":"black","fillOpacity":0.2,"smoothFactor":1,"noClip":false},null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addPolylines","args":[[[[{"lng":[105.804,106.6957],"lat":[21.0285,10.7769]}]]],null,null,{"interactive":true,"className":"","stroke":true,"color":"black","weight":2,"opacity":0.5,"fill":false,"fillColor":"black","fillOpacity":0.2,"smoothFactor":1,"noClip":false},null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addPolylines","args":[[[[{"lng":[105.804,108.799357],"lat":[21.0285,15.122327]}]]],null,null,{"interactive":true,"className":"","stroke":true,"color":"black","weight":2,"opacity":0.5,"fill":false,"fillColor":"black","fillOpacity":0.2,"smoothFactor":1,"noClip":false},null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addPolylines","args":[[[[{"lng":[108.2022,102.630867],"lat":[16.0545,17.974855]}]]],null,null,{"interactive":true,"className":"","stroke":true,"color":"black","weight":2,"opacity":0.5,"fill":false,"fillColor":"black","fillOpacity":0.2,"smoothFactor":1,"noClip":false},null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addPolylines","args":[[[[{"lng":[108.2022,106.6957],"lat":[16.0545,10.7769]}]]],null,null,{"interactive":true,"className":"","stroke":true,"color":"black","weight":2,"opacity":0.5,"fill":false,"fillColor":"black","fillOpacity":0.2,"smoothFactor":1,"noClip":false},null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addPolylines","args":[[[[{"lng":[108.2022,108.799357],"lat":[16.0545,15.122327]}]]],null,null,{"interactive":true,"className":"","stroke":true,"color":"black","weight":2,"opacity":0.5,"fill":false,"fillColor":"black","fillOpacity":0.2,"smoothFactor":1,"noClip":false},null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addPolylines","args":[[[[{"lng":[106.6957,102.630867],"lat":[10.7769,17.974855]}]]],null,null,{"interactive":true,"className":"","stroke":true,"color":"black","weight":2,"opacity":0.5,"fill":false,"fillColor":"black","fillOpacity":0.2,"smoothFactor":1,"noClip":false},null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addPolylines","args":[[[[{"lng":[106.6957,106.6957],"lat":[10.7769,10.7769]}]]],null,null,{"interactive":true,"className":"","stroke":true,"color":"black","weight":2,"opacity":0.5,"fill":false,"fillColor":"black","fillOpacity":0.2,"smoothFactor":1,"noClip":false},null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addPolylines","args":[[[[{"lng":[106.6957,108.799357],"lat":[10.7769,15.122327]}]]],null,null,{"interactive":true,"className":"","stroke":true,"color":"black","weight":2,"opacity":0.5,"fill":false,"fillColor":"black","fillOpacity":0.2,"smoothFactor":1,"noClip":false},null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addPolylines","args":[[[[{"lng":[108.2772,102.630867],"lat":[14.0583,17.974855]}]]],null,null,{"interactive":true,"className":"","stroke":true,"color":"black","weight":2,"opacity":0.5,"fill":false,"fillColor":"black","fillOpacity":0.2,"smoothFactor":1,"noClip":false},null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addPolylines","args":[[[[{"lng":[108.2772,106.6957],"lat":[14.0583,10.7769]}]]],null,null,{"interactive":true,"className":"","stroke":true,"color":"black","weight":2,"opacity":0.5,"fill":false,"fillColor":"black","fillOpacity":0.2,"smoothFactor":1,"noClip":false},null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addPolylines","args":[[[[{"lng":[108.2772,108.799357],"lat":[14.0583,15.122327]}]]],null,null,{"interactive":true,"className":"","stroke":true,"color":"black","weight":2,"opacity":0.5,"fill":false,"fillColor":"black","fillOpacity":0.2,"smoothFactor":1,"noClip":false},null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addPolylines","args":[[[[{"lng":[105.746,102.630867],"lat":[19.806,17.974855]}]]],null,null,{"interactive":true,"className":"","stroke":true,"color":"black","weight":2,"opacity":0.5,"fill":false,"fillColor":"black","fillOpacity":0.2,"smoothFactor":1,"noClip":false},null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addPolylines","args":[[[[{"lng":[105.746,106.6957],"lat":[19.806,10.7769]}]]],null,null,{"interactive":true,"className":"","stroke":true,"color":"black","weight":2,"opacity":0.5,"fill":false,"fillColor":"black","fillOpacity":0.2,"smoothFactor":1,"noClip":false},null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addPolylines","args":[[[[{"lng":[105.746,108.799357],"lat":[19.806,15.122327]}]]],null,null,{"interactive":true,"className":"","stroke":true,"color":"black","weight":2,"opacity":0.5,"fill":false,"fillColor":"black","fillOpacity":0.2,"smoothFactor":1,"noClip":false},null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addProviderTiles","args":["CartoDB.Positron",null,null,{"errorTileUrl":"","noWrap":false,"detectRetina":false}]}],"limits":{"lat":[10.7769,21.0285],"lng":[102.630867,108.799357]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 40.0%;justify-content: center;">

<div id="sjwfdvimgu" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#sjwfdvimgu table {
  font-family: Calibri, system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#sjwfdvimgu thead, #sjwfdvimgu tbody, #sjwfdvimgu tfoot, #sjwfdvimgu tr, #sjwfdvimgu td, #sjwfdvimgu th {
  border-style: none;
}

#sjwfdvimgu p {
  margin: 0;
  padding: 0;
}

#sjwfdvimgu .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #000000;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #000000;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  border-left-style: solid;
  border-left-width: 2px;
  border-left-color: #000000;
}

#sjwfdvimgu .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#sjwfdvimgu .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#sjwfdvimgu .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#sjwfdvimgu .gt_heading {
  background-color: #FFFFFF;
  text-align: left;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#sjwfdvimgu .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
}

#sjwfdvimgu .gt_col_headings {
  border-top-style: none;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#sjwfdvimgu .gt_col_heading {
  color: #FFFFFF;
  background-color: #000000;
  font-size: 85%;
  font-weight: bold;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#sjwfdvimgu .gt_column_spanner_outer {
  color: #FFFFFF;
  background-color: #000000;
  font-size: 85%;
  font-weight: bold;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#sjwfdvimgu .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#sjwfdvimgu .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#sjwfdvimgu .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#sjwfdvimgu .gt_spanner_row {
  border-bottom-style: hidden;
}

#sjwfdvimgu .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #000000;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #000000;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #000000;
  vertical-align: middle;
  text-align: left;
}

#sjwfdvimgu .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #000000;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  vertical-align: middle;
}

#sjwfdvimgu .gt_from_md > :first-child {
  margin-top: 0;
}

#sjwfdvimgu .gt_from_md > :last-child {
  margin-bottom: 0;
}

#sjwfdvimgu .gt_row {
  padding-top: 1px;
  padding-bottom: 1px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #000000;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #000000;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #000000;
  vertical-align: middle;
  overflow-x: hidden;
}

#sjwfdvimgu .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #000000;
  padding-left: 5px;
  padding-right: 5px;
}

#sjwfdvimgu .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#sjwfdvimgu .gt_row_group_first td {
  border-top-width: 2px;
}

#sjwfdvimgu .gt_row_group_first th {
  border-top-width: 2px;
}

#sjwfdvimgu .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#sjwfdvimgu .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#sjwfdvimgu .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#sjwfdvimgu .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#sjwfdvimgu .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#sjwfdvimgu .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#sjwfdvimgu .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#sjwfdvimgu .gt_striped {
  background-color: #D3D3D3;
}

#sjwfdvimgu .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#sjwfdvimgu .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#sjwfdvimgu .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#sjwfdvimgu .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#sjwfdvimgu .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#sjwfdvimgu .gt_left {
  text-align: left;
}

#sjwfdvimgu .gt_center {
  text-align: center;
}

#sjwfdvimgu .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#sjwfdvimgu .gt_font_normal {
  font-weight: normal;
}

#sjwfdvimgu .gt_font_bold {
  font-weight: bold;
}

#sjwfdvimgu .gt_font_italic {
  font-style: italic;
}

#sjwfdvimgu .gt_super {
  font-size: 65%;
}

#sjwfdvimgu .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#sjwfdvimgu .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#sjwfdvimgu .gt_indent_1 {
  text-indent: 5px;
}

#sjwfdvimgu .gt_indent_2 {
  text-indent: 10px;
}

#sjwfdvimgu .gt_indent_3 {
  text-indent: 15px;
}

#sjwfdvimgu .gt_indent_4 {
  text-indent: 20px;
}

#sjwfdvimgu .gt_indent_5 {
  text-indent: 25px;
}

#sjwfdvimgu .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#sjwfdvimgu div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    <tr class="gt_heading">
      <td colspan="4" class="gt_heading gt_title gt_font_normal gt_bottom_border" style="">Details Planning Table</td>
    </tr>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id=""></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" style="border-left-width: 2px; border-left-style: solid; border-left-color: black;" scope="col" id="Warehouse">Warehouse</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="Distribution Center">Distribution Center</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" style="border-right-width: 2px; border-right-style: solid; border-right-color: black;" scope="col" id="Quantity">Quantity</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr class="gt_group_heading_row">
      <th colspan="4" class="gt_group_heading" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 2px; border-right-style: solid; border-right-color: black;" scope="colgroup" id="<strong><img src='https://upload.wikimedia.org/wikipedia/commons/thumb/2/21/Flag_of_Vietnam.svg/345px-Flag_of_Vietnam.svg.png' width='20' /> Vietnam</strong>"><strong><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/2/21/Flag_of_Vietnam.svg/345px-Flag_of_Vietnam.svg.png" width="20"> Vietnam</strong></th>
    </tr>
    <tr class="gt_row_group_first"><th id="stub_1_1" scope="row" class="gt_row gt_left gt_stub" style="border-left-width: 2px; border-left-style: solid; border-left-color: black;"></th>
<td headers=" Vietnam stub_1_1 Workload" class="gt_row gt_left" style="text-align: center; border-left-width: 2px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black;">WH1</td>
<td headers=" Vietnam stub_1_1 Distribution_Center" class="gt_row gt_left" style="text-align: center; border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black;">DC2</td>
<td headers=" Vietnam stub_1_1 Quantity" class="gt_row gt_right" style="text-align: center; border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 2px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black;">11.14</td></tr>
    <tr><th id="stub_1_2" scope="row" class="gt_row gt_left gt_stub" style="border-left-width: 2px; border-left-style: solid; border-left-color: black;"></th>
<td headers=" Vietnam stub_1_2 Workload" class="gt_row gt_left gt_striped" style="text-align: center; border-left-width: 2px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black;">WH1</td>
<td headers=" Vietnam stub_1_2 Distribution_Center" class="gt_row gt_left gt_striped" style="text-align: center; border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black;">DC3</td>
<td headers=" Vietnam stub_1_2 Quantity" class="gt_row gt_right gt_striped" style="text-align: center; border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 2px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black;">9.35</td></tr>
    <tr><th id="stub_1_3" scope="row" class="gt_row gt_left gt_stub" style="border-left-width: 2px; border-left-style: solid; border-left-color: black;"></th>
<td headers=" Vietnam stub_1_3 Workload" class="gt_row gt_left" style="text-align: center; border-left-width: 2px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black;">WH2</td>
<td headers=" Vietnam stub_1_3 Distribution_Center" class="gt_row gt_left" style="text-align: center; border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black;">DC2</td>
<td headers=" Vietnam stub_1_3 Quantity" class="gt_row gt_right" style="text-align: center; border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 2px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black;">33.06</td></tr>
    <tr><th id="stub_1_4" scope="row" class="gt_row gt_left gt_stub" style="border-left-width: 2px; border-left-style: solid; border-left-color: black;"></th>
<td headers=" Vietnam stub_1_4 Workload" class="gt_row gt_left gt_striped" style="text-align: center; border-left-width: 2px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black;">WH2</td>
<td headers=" Vietnam stub_1_4 Distribution_Center" class="gt_row gt_left gt_striped" style="text-align: center; border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black;">DC3</td>
<td headers=" Vietnam stub_1_4 Quantity" class="gt_row gt_right gt_striped" style="text-align: center; border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 2px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black;">45.37</td></tr>
    <tr><th id="stub_1_5" scope="row" class="gt_row gt_left gt_stub" style="border-left-width: 2px; border-left-style: solid; border-left-color: black;"></th>
<td headers=" Vietnam stub_1_5 Workload" class="gt_row gt_left" style="text-align: center; border-left-width: 2px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black;">WH3</td>
<td headers=" Vietnam stub_1_5 Distribution_Center" class="gt_row gt_left" style="text-align: center; border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black;">DC2</td>
<td headers=" Vietnam stub_1_5 Quantity" class="gt_row gt_right" style="text-align: center; border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 2px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black;">80.42</td></tr>
    <tr><th id="stub_1_6" scope="row" class="gt_row gt_left gt_stub" style="border-left-width: 2px; border-left-style: solid; border-left-color: black;"></th>
<td headers=" Vietnam stub_1_6 Workload" class="gt_row gt_left gt_striped" style="text-align: center; border-left-width: 2px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black;">WH3</td>
<td headers=" Vietnam stub_1_6 Distribution_Center" class="gt_row gt_left gt_striped" style="text-align: center; border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black;">DC3</td>
<td headers=" Vietnam stub_1_6 Quantity" class="gt_row gt_right gt_striped" style="text-align: center; border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 2px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black;">70.16</td></tr>
    <tr><th id="stub_1_7" scope="row" class="gt_row gt_left gt_stub" style="border-left-width: 2px; border-left-style: solid; border-left-color: black;"></th>
<td headers=" Vietnam stub_1_7 Workload" class="gt_row gt_left" style="text-align: center; border-left-width: 2px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black;">WH4</td>
<td headers=" Vietnam stub_1_7 Distribution_Center" class="gt_row gt_left" style="text-align: center; border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black;">DC2</td>
<td headers=" Vietnam stub_1_7 Quantity" class="gt_row gt_right" style="text-align: center; border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 2px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black;">12.31</td></tr>
    <tr><th id="stub_1_8" scope="row" class="gt_row gt_left gt_stub" style="border-left-width: 2px; border-left-style: solid; border-left-color: black;"></th>
<td headers=" Vietnam stub_1_8 Workload" class="gt_row gt_left gt_striped" style="text-align: center; border-left-width: 2px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black;">WH4</td>
<td headers=" Vietnam stub_1_8 Distribution_Center" class="gt_row gt_left gt_striped" style="text-align: center; border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black;">DC3</td>
<td headers=" Vietnam stub_1_8 Quantity" class="gt_row gt_right gt_striped" style="text-align: center; border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 2px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black;">24.31</td></tr>
    <tr><th id="stub_1_9" scope="row" class="gt_row gt_left gt_stub" style="border-left-width: 2px; border-left-style: solid; border-left-color: black;"></th>
<td headers=" Vietnam stub_1_9 Workload" class="gt_row gt_left" style="text-align: center; border-left-width: 2px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black;">WH5</td>
<td headers=" Vietnam stub_1_9 Distribution_Center" class="gt_row gt_left" style="text-align: center; border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black;">DC2</td>
<td headers=" Vietnam stub_1_9 Quantity" class="gt_row gt_right" style="text-align: center; border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 2px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black;">12.82</td></tr>
    <tr><th id="stub_1_10" scope="row" class="gt_row gt_left gt_stub" style="border-left-width: 2px; border-left-style: solid; border-left-color: black; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: black;"></th>
<td headers=" Vietnam stub_1_10 Workload" class="gt_row gt_left gt_striped" style="text-align: center; border-left-width: 2px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: black;">WH5</td>
<td headers=" Vietnam stub_1_10 Distribution_Center" class="gt_row gt_left gt_striped" style="text-align: center; border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: black;">DC3</td>
<td headers=" Vietnam stub_1_10 Quantity" class="gt_row gt_right gt_striped" style="text-align: center; border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 2px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: black;">13.95</td></tr>
    <tr><th id="summary_stub_ Vietnam_1" scope="row" class="gt_row gt_left gt_stub gt_summary_row gt_first_summary_row thick">Total</th>
<td headers=" Vietnam summary_stub_ Vietnam_1 Workload" class="gt_row gt_left gt_summary_row gt_first_summary_row thick">—<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height: 0;"><sup>1</sup></span></td>
<td headers=" Vietnam summary_stub_ Vietnam_1 Distribution_Center" class="gt_row gt_left gt_summary_row gt_first_summary_row thick">—<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height: 0;"><sup>1</sup></span></td>
<td headers=" Vietnam summary_stub_ Vietnam_1 Quantity" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">312.8683<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height: 0;"><sup>1</sup></span></td></tr>
    <tr><th id="summary_stub_ Vietnam_2" scope="row" class="gt_row gt_left gt_stub gt_summary_row gt_last_summary_row">Count</th>
<td headers=" Vietnam summary_stub_ Vietnam_2 Workload" class="gt_row gt_left gt_summary_row gt_last_summary_row">—<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height: 0;"><sup>2</sup></span></td>
<td headers=" Vietnam summary_stub_ Vietnam_2 Distribution_Center" class="gt_row gt_left gt_summary_row gt_last_summary_row">—<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height: 0;"><sup>2</sup></span></td>
<td headers=" Vietnam summary_stub_ Vietnam_2 Quantity" class="gt_row gt_right gt_summary_row gt_last_summary_row">10.0000<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height: 0;"><sup>2</sup></span></td></tr>
    <tr class="gt_group_heading_row">
      <th colspan="4" class="gt_group_heading" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 2px; border-right-style: solid; border-right-color: black;" scope="colgroup" id="<strong><img src='https://upload.wikimedia.org/wikipedia/commons/5/56/Flag_of_Laos.svg' width='20' /> Laos</strong>"><strong><img src="https://upload.wikimedia.org/wikipedia/commons/5/56/Flag_of_Laos.svg" width="20"> Laos</strong></th>
    </tr>
    <tr class="gt_row_group_first"><th id="stub_1_11" scope="row" class="gt_row gt_left gt_stub" style="border-left-width: 2px; border-left-style: solid; border-left-color: black;"></th>
<td headers=" Laos stub_1_11 Workload" class="gt_row gt_left" style="text-align: center; border-left-width: 2px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black;">WH1</td>
<td headers=" Laos stub_1_11 Distribution_Center" class="gt_row gt_left" style="text-align: center; border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black;">DC1</td>
<td headers=" Laos stub_1_11 Quantity" class="gt_row gt_right" style="text-align: center; border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 2px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black;">27.76</td></tr>
    <tr><th id="stub_1_12" scope="row" class="gt_row gt_left gt_stub" style="border-left-width: 2px; border-left-style: solid; border-left-color: black;"></th>
<td headers=" Laos stub_1_12 Workload" class="gt_row gt_left gt_striped" style="text-align: center; border-left-width: 2px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black;">WH2</td>
<td headers=" Laos stub_1_12 Distribution_Center" class="gt_row gt_left gt_striped" style="text-align: center; border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black;">DC1</td>
<td headers=" Laos stub_1_12 Quantity" class="gt_row gt_right gt_striped" style="text-align: center; border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 2px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black;">25.81</td></tr>
    <tr><th id="stub_1_13" scope="row" class="gt_row gt_left gt_stub" style="border-left-width: 2px; border-left-style: solid; border-left-color: black;"></th>
<td headers=" Laos stub_1_13 Workload" class="gt_row gt_left" style="text-align: center; border-left-width: 2px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black;">WH3</td>
<td headers=" Laos stub_1_13 Distribution_Center" class="gt_row gt_left" style="text-align: center; border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black;">DC1</td>
<td headers=" Laos stub_1_13 Quantity" class="gt_row gt_right" style="text-align: center; border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 2px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black;">19.06</td></tr>
    <tr><th id="stub_1_14" scope="row" class="gt_row gt_left gt_stub" style="border-left-width: 2px; border-left-style: solid; border-left-color: black;"></th>
<td headers=" Laos stub_1_14 Workload" class="gt_row gt_left gt_striped" style="text-align: center; border-left-width: 2px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black;">WH4</td>
<td headers=" Laos stub_1_14 Distribution_Center" class="gt_row gt_left gt_striped" style="text-align: center; border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black;">DC1</td>
<td headers=" Laos stub_1_14 Quantity" class="gt_row gt_right gt_striped" style="text-align: center; border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 2px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black;">17.24</td></tr>
    <tr><th id="stub_1_15" scope="row" class="gt_row gt_left gt_stub" style="border-left-width: 2px; border-left-style: solid; border-left-color: black;"></th>
<td headers=" Laos stub_1_15 Workload" class="gt_row gt_left" style="text-align: center; border-left-width: 2px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black;">WH5</td>
<td headers=" Laos stub_1_15 Distribution_Center" class="gt_row gt_left" style="text-align: center; border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black;">DC1</td>
<td headers=" Laos stub_1_15 Quantity" class="gt_row gt_right" style="text-align: center; border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 2px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black;">11.38</td></tr>
    <tr><th id="summary_stub_ Laos_1" scope="row" class="gt_row gt_left gt_stub gt_summary_row gt_first_summary_row thick">Total</th>
<td headers=" Laos summary_stub_ Laos_1 Workload" class="gt_row gt_left gt_summary_row gt_first_summary_row thick">—<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height: 0;"><sup>1</sup></span></td>
<td headers=" Laos summary_stub_ Laos_1 Distribution_Center" class="gt_row gt_left gt_summary_row gt_first_summary_row thick">—<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height: 0;"><sup>1</sup></span></td>
<td headers=" Laos summary_stub_ Laos_1 Quantity" class="gt_row gt_right gt_summary_row gt_first_summary_row thick">101.2523<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height: 0;"><sup>1</sup></span></td></tr>
    <tr><th id="summary_stub_ Laos_2" scope="row" class="gt_row gt_left gt_stub gt_summary_row gt_last_summary_row">Count</th>
<td headers=" Laos summary_stub_ Laos_2 Workload" class="gt_row gt_left gt_summary_row gt_last_summary_row">—<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height: 0;"><sup>2</sup></span></td>
<td headers=" Laos summary_stub_ Laos_2 Distribution_Center" class="gt_row gt_left gt_summary_row gt_last_summary_row">—<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height: 0;"><sup>2</sup></span></td>
<td headers=" Laos summary_stub_ Laos_2 Quantity" class="gt_row gt_right gt_summary_row gt_last_summary_row">5.0000<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height: 0;"><sup>2</sup></span></td></tr>
  </tbody>
  <tfoot class="gt_sourcenotes">
    <tr>
      <td class="gt_sourcenote" colspan="4"><div data-qmd-base64="KlNvdXJjZTogcGFja2FnZSBndCBpbiBSKg=="><div class="gt_from_md"><p><em>Source: package gt in R</em></p>
</div></div></td>
    </tr>
  </tfoot>
  <tfoot class="gt_footnotes">
    <tr>
      <td class="gt_footnote" colspan="4"><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height: 0;"><sup>1</sup></span> <div data-qmd-base64="KipUb3RhbCoqIG1lYW5zIHRoZSBvcHRpbWFsIHF1YW50aXR5IG9mIGdvb2Qu"><div class="gt_from_md"><p><strong>Total</strong> means the optimal quantity of good.</p>
</div></div></td>
    </tr>
    <tr>
      <td class="gt_footnote" colspan="4"><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height: 0;"><sup>2</sup></span> <div data-qmd-base64="KipDb3VudCoqIG1lYW5zIG51bWJlciBvZiBzaGlwbWVudC4="><div class="gt_from_md"><p><strong>Count</strong> means number of shipment.</p>
</div></div></td>
    </tr>
  </tfoot>
</table>
</div>
</div>
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 60.0%;justify-content: center;">
<h1>Sankey chart</h1>
<div id="htmlwidget-ea1f9c5dbb518b975338" style="width:100%;height:585px;" class="sankeyNetwork html-widget"></div>
<p style="font-size: 14px; text-align: center;"> A wider arrow indicates that a larger quantity is being sent from that warehouse to a distribution center.</p>
<script type="application/json" data-for="htmlwidget-ea1f9c5dbb518b975338">{"x":{"links":{"source":[0,0,0,1,1,1,2,2,2,3,3,3,4,4,4],"target":[5,5,5,5,5,6,6,6,6,6,7,7,7,7,7],"value":[27.76473727822304,25.81231853365898,19.05569659173489,17.23981815576553,11.37971971929073,11.14387218654156,33.05575469136238,80.41572619974613,12.30649323761463,12.81770274043083,9.350519716739655,45.3664940148592,70.15758365392685,24.30516964197159,13.94894662499428]},"nodes":{"name":["Warehouse 1","Warehouse 2","Warehouse 3","Warehouse 4","Warehouse 5","DC 1","DC 2","DC 3"],"group":["Warehouse 1","Warehouse 2","Warehouse 3","Warehouse 4","Warehouse 5","DC 1","DC 2","DC 3"]},"options":{"NodeID":"name","NodeGroup":"name","LinkGroup":null,"colourScale":"d3.scaleOrdinal().domain([0,9]).range([\"#1f77b4\",\"#ff7f0e\",\"#2ca02c\",\"#d62728\",\"#9467bd\",\"#8c564b\",\"#e377c2\",\"#7f7f7f\",\"#bcbd22\",\"#17becf\"]);","fontSize":7,"fontFamily":null,"nodeWidth":15,"nodePadding":10,"units":"","margin":{"top":null,"right":null,"bottom":null,"left":null},"iterations":32,"sinksRight":true}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
</div>
</section>
<section id="mô-hình-milp" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="mô-hình-milp"><span class="header-section-number">2.2</span> Mô hình MILP:</h2>
<section id="giới-thiệu-sơ-lược" class="level3" data-number="2.2.1">
<h3 data-number="2.2.1" class="anchored" data-anchor-id="giới-thiệu-sơ-lược"><span class="header-section-number">2.2.1</span> Giới thiệu sơ lược:</h3>
<p><strong>MILP (Mixed Integer Linear Programming)</strong> là một phương pháp tối ưu hóa được sử dụng trong các bài toán lập kế hoạch, phân bổ tài nguyên, và quyết định trong các lĩnh vực như logistics, sản xuất, tài chính, và nhiều lĩnh vực khác. MILP là một phần mở rộng của lập trình tuyến tính (Linear Programming - LP), trong đó có các biến là số nguyên (integer variables) bên cạnh các biến liên tục (continuous variables).</p>
<p>Trong đó, cấu trúc của một bài toán MILP bao gồm:</p>
<ol type="1">
<li><p><strong>Hàm mục tiêu</strong>: Là một hàm tuyến tính mà bạn muốn tối ưu hóa (tối đa hóa hoặc tối thiểu hóa).</p>
<p><span class="math display">\[
\text{Maximize or Minimize } Z = c_1x_1 + c_2x_2 + \ldots + c_nx_n
\]</span></p></li>
<li><p><strong>Ràng buộc</strong>: Bao gồm các điều kiện tuyến tính mà các biến phải thỏa mãn.</p>
<p><span class="math display">\[
a_{11}x_1 + a_{12}x_2 + \ldots + a_{1n}x_n \leq b_1
\]</span></p>
<p><span class="math display">\[
a_{21}x_1 + a_{22}x_2 + \ldots + a_{2n}x_n \leq b_2
\]</span></p>
<p>… và nhiều ràng buộc khác.</p></li>
<li><p><strong>Biến quyết định</strong>: Các biến trong bài toán có thể là:</p>
<ul>
<li>Biến liên tục: Có thể nhận mọi giá trị thực (ví dụ: số lượng sản phẩm).</li>
<li>Biến nguyên: Chỉ nhận giá trị nguyên (ví dụ: số lượng xe tải).</li>
<li>Biến nhị phân: Chỉ nhận giá trị 0 hoặc 1 (ví dụ: có hoặc không sử dụng một nhà máy).</li>
</ul></li>
</ol>
<p><strong>Ứng dụng của MILP</strong></p>
<ul>
<li><strong>Quản lý chuỗi cung ứng</strong>: Tối ưu hóa việc phân phối hàng hóa từ các kho đến các khách hàng.</li>
<li><strong>Lập kế hoạch sản xuất</strong>: Xác định số lượng sản phẩm cần sản xuất để tối đa hóa lợi nhuận hoặc giảm chi phí.</li>
<li><strong>Tối ưu hóa lịch trình</strong>: Lập lịch cho nhân viên, máy móc, hoặc tài nguyên để tối ưu hóa hiệu suất.</li>
<li><strong>Quy hoạch đô thị</strong>: Tối ưu hóa việc sử dụng đất và tài nguyên trong quy hoạch thành phố.</li>
</ul>
<p>Trong R có các thư viện như <code>lpSolve</code>, <code>ompr</code>, và <code>ROI</code> có thể được sử dụng để giải quyết các bài toán MILP.</p>
</section>
<section id="ví-dụ" class="level3" data-number="2.2.2">
<h3 data-number="2.2.2" class="anchored" data-anchor-id="ví-dụ"><span class="header-section-number">2.2.2</span> Ví dụ:</h3>
<p>MILP là một công cụ mạnh mẽ cho việc tối ưu hóa trong nhiều lĩnh vực khác nhau. Với khả năng kết hợp giữa các biến liên tục và số nguyên, MILP có thể giải quyết nhiều bài toán phức tạp mà các phương pháp tối ưu hóa khác không thể thực hiện hiệu quả.</p>
<p>Gỉa sử ta có bài toán về vấn đề <strong>Transshipment</strong> có yêu cầu là tìm ra phương án vận tải tối ưu nhất để vận chuyển hàng hóa từ nhà máy (<strong>Factory</strong>) thông qua <strong>Crossdocking</strong> và đến được <strong>Distribution Center</strong> với mục tiêu là đạt <strong>chi phí thấp nhất</strong>.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="transshipment.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Hình 5: Vấn đề Transshipment</figcaption>
</figure>
</div>
<p>Vì bài toán này thuộc dạng tuyến tính, phương pháp MILP sẽ làm tốt hơn nhiều so với thuật toán GA bên trên.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ompr)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ompr.roi)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ROI.plugin.glpk)</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="co">#Input:</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>Supply <span class="ot">&lt;-</span><span class="fu">c</span>(<span class="dv">200</span>,<span class="dv">300</span>,<span class="dv">100</span>,<span class="dv">150</span>,<span class="dv">220</span>)</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>Demand <span class="ot">&lt;-</span><span class="fu">c</span>(<span class="dv">150</span>,<span class="dv">100</span>,<span class="dv">110</span>,<span class="dv">200</span>,<span class="dv">180</span>)</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>DC<span class="ot">&lt;-</span><span class="dv">2</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>m<span class="ot">&lt;-</span><span class="fu">length</span>(Supply)</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>n<span class="ot">&lt;-</span><span class="fu">length</span>(Demand)</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>Cost_CD<span class="ot">&lt;-</span><span class="fu">read.table</span>(<span class="at">text =</span> </span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"CD1 CD2</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a><span class="st">                     30 50</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a><span class="st">                     23 66</span></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a><span class="st">                     35 14</span></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a><span class="st">                     70 12</span></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a><span class="st">                     65 70"</span>,<span class="at">header =</span> T)</span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>Cost_DC<span class="ot">&lt;-</span><span class="fu">read.table</span>(<span class="at">text =</span> </span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"DC1 DC2 DC3 DC4 DC5</span></span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a><span class="st">                       12 25 22 40 41</span></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a><span class="st">                       65 22 23 12 15"</span>,<span class="at">header =</span> T)</span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a><span class="co">#MILP model from the </span></span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>model5 <span class="ot">&lt;-</span> <span class="fu">MIPModel</span>() <span class="sc">%&gt;%</span></span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add variable</span></span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_variable</span>(x[i, j], <span class="at">i =</span> <span class="dv">1</span><span class="sc">:</span>m, <span class="at">j =</span> <span class="dv">1</span><span class="sc">:</span>DC) <span class="sc">%&gt;%</span></span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_variable</span>(y[j, k], <span class="at">j =</span> <span class="dv">1</span><span class="sc">:</span>DC, <span class="at">k =</span> <span class="dv">1</span><span class="sc">:</span>n) <span class="sc">%&gt;%</span></span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a>  <span class="co"># minimize the cost of transshipment:</span></span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_objective</span>(<span class="fu">sum_expr</span>(x[i, j]<span class="sc">*</span>Cost_CD[i, j],<span class="at">i =</span> <span class="dv">1</span><span class="sc">:</span>m, <span class="at">j =</span> <span class="dv">1</span><span class="sc">:</span>DC)<span class="sc">+</span> <span class="fu">sum_expr</span>(y[j, k]<span class="sc">*</span>Cost_DC[j, k], <span class="at">k =</span> <span class="dv">1</span><span class="sc">:</span>n, <span class="at">j =</span> <span class="dv">1</span><span class="sc">:</span>DC),<span class="st">"min"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_constraint</span>(<span class="fu">sum_expr</span>(y[j, k], <span class="at">j =</span> <span class="dv">1</span><span class="sc">:</span>DC) <span class="sc">&gt;=</span> Demand[k], <span class="at">k =</span> <span class="dv">1</span><span class="sc">:</span>n) <span class="sc">%&gt;%</span></span>
<span id="cb5-31"><a href="#cb5-31" aria-hidden="true" tabindex="-1"></a>  <span class="co"># The amount of inventory in Crossdocking is smaller than production goods</span></span>
<span id="cb5-32"><a href="#cb5-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_constraint</span>(<span class="fu">sum_expr</span>(x[i, j], <span class="at">j =</span> <span class="dv">1</span><span class="sc">:</span>DC) <span class="sc">&lt;=</span> Supply[i], <span class="at">i =</span> <span class="dv">1</span><span class="sc">:</span>m) <span class="sc">%&gt;%</span> </span>
<span id="cb5-33"><a href="#cb5-33" aria-hidden="true" tabindex="-1"></a>  <span class="co"># The amount of is bigger than demand in DC</span></span>
<span id="cb5-34"><a href="#cb5-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_constraint</span>(<span class="fu">sum_expr</span>(x[i, j], <span class="at">i =</span> <span class="dv">1</span><span class="sc">:</span>m) <span class="sc">-</span> <span class="fu">sum_expr</span>(y[j, k], <span class="at">k =</span> <span class="dv">1</span><span class="sc">:</span>n) <span class="sc">&gt;=</span> <span class="dv">0</span>,<span class="at">j =</span> <span class="dv">1</span><span class="sc">:</span>DC) <span class="sc">%&gt;%</span></span>
<span id="cb5-35"><a href="#cb5-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_constraint</span>(x[i, j] <span class="sc">&gt;=</span> <span class="dv">0</span>, <span class="at">j =</span> <span class="dv">1</span><span class="sc">:</span>DC, <span class="at">i =</span> <span class="dv">1</span><span class="sc">:</span>m)<span class="sc">%&gt;%</span> </span>
<span id="cb5-36"><a href="#cb5-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_constraint</span>(y[j, k] <span class="sc">&gt;=</span> <span class="dv">0</span>, <span class="at">j =</span> <span class="dv">1</span><span class="sc">:</span>DC, <span class="at">k =</span> <span class="dv">1</span><span class="sc">:</span>n)<span class="sc">%&gt;%</span> </span>
<span id="cb5-37"><a href="#cb5-37" aria-hidden="true" tabindex="-1"></a>  <span class="co">#Solve the model:</span></span>
<span id="cb5-38"><a href="#cb5-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">solve_model</span>(<span class="fu">with_ROI</span>(<span class="at">solver =</span> <span class="st">"glpk"</span>, <span class="at">verbose =</span> <span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Barchart:</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>solution <span class="ot">&lt;-</span> <span class="fu">get_solution</span>(model5, x[i, j]) <span class="sc">%&gt;%</span> </span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>     <span class="fu">filter</span>(value <span class="sc">&gt;</span> <span class="dv">0</span>)</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming `solution` contains the results of x[i, j]</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Transform the solution into a tidy format for plotting</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>plot_data <span class="ot">&lt;-</span> solution <span class="sc">%&gt;%</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">Manufacter=</span> i, <span class="at">DC =</span> j, <span class="at">Flow =</span> value) <span class="sc">%&gt;%</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Manufacter =</span> <span class="fu">paste</span>(<span class="st">"Manufacter"</span>, Manufacter),</span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>         <span class="at">DC =</span> <span class="fu">paste</span>(<span class="st">"DC"</span>, DC))</span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a plot</span></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(plot_data, <span class="fu">aes</span>(<span class="at">x =</span> Manufacter, <span class="at">y =</span> Flow, <span class="at">fill =</span> DC)) <span class="sc">+</span></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"dodge"</span>) <span class="sc">+</span></span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Transshipment Flow from Manufacters to Distribution Centers"</span>,</span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Manufacters"</span>,</span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Flow Amount"</span>,</span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">"Distribution Centers"</span>) <span class="sc">+</span></span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>),</span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"Set2"</span>)</span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gt)</span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming `solution` contains the results of x[i, j]</span></span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a><span class="co"># Transform the solution into a tidy format for the table</span></span>
<span id="cb6-30"><a href="#cb6-30" aria-hidden="true" tabindex="-1"></a>table_data <span class="ot">&lt;-</span> solution <span class="sc">%&gt;%</span></span>
<span id="cb6-31"><a href="#cb6-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">Manufacturer =</span> i, <span class="at">DC =</span> j, <span class="at">Flow =</span> value) <span class="sc">%&gt;%</span></span>
<span id="cb6-32"><a href="#cb6-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Manufacturer =</span> <span class="fu">paste</span>(<span class="st">"Manufacturer"</span>, Manufacturer),</span>
<span id="cb6-33"><a href="#cb6-33" aria-hidden="true" tabindex="-1"></a>         <span class="at">DC =</span> <span class="fu">paste</span>(<span class="st">"DC"</span>, DC)) <span class="sc">%&gt;%</span> </span>
<span id="cb6-34"><a href="#cb6-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>variable)</span>
<span id="cb6-35"><a href="#cb6-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-36"><a href="#cb6-36" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a gt table</span></span>
<span id="cb6-37"><a href="#cb6-37" aria-hidden="true" tabindex="-1"></a>table_data <span class="sc">%&gt;%</span></span>
<span id="cb6-38"><a href="#cb6-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">%&gt;%</span></span>
<span id="cb6-39"><a href="#cb6-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_header</span>(</span>
<span id="cb6-40"><a href="#cb6-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="fu">md</span>(<span class="st">"**Transshipment Flows from Manufacturers to Distribution Centers**"</span>)</span>
<span id="cb6-41"><a href="#cb6-41" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb6-42"><a href="#cb6-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cols_label</span>(</span>
<span id="cb6-43"><a href="#cb6-43" aria-hidden="true" tabindex="-1"></a>    <span class="at">Manufacturer =</span> <span class="st">"Manufacturer"</span>,</span>
<span id="cb6-44"><a href="#cb6-44" aria-hidden="true" tabindex="-1"></a>    <span class="at">DC =</span> <span class="st">"Distribution Center"</span>,</span>
<span id="cb6-45"><a href="#cb6-45" aria-hidden="true" tabindex="-1"></a>    <span class="at">Flow =</span> <span class="st">"Flow Amount"</span></span>
<span id="cb6-46"><a href="#cb6-46" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb6-47"><a href="#cb6-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fmt_number</span>(</span>
<span id="cb6-48"><a href="#cb6-48" aria-hidden="true" tabindex="-1"></a>    <span class="at">columns =</span> <span class="fu">c</span>(Flow),</span>
<span id="cb6-49"><a href="#cb6-49" aria-hidden="true" tabindex="-1"></a>    <span class="at">decimals =</span> <span class="dv">2</span></span>
<span id="cb6-50"><a href="#cb6-50" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb6-51"><a href="#cb6-51" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_style</span>(</span>
<span id="cb6-52"><a href="#cb6-52" aria-hidden="true" tabindex="-1"></a>    <span class="at">style =</span> <span class="fu">list</span>(</span>
<span id="cb6-53"><a href="#cb6-53" aria-hidden="true" tabindex="-1"></a>      <span class="fu">cell_fill</span>(<span class="at">color =</span> <span class="st">"lightblue"</span>)</span>
<span id="cb6-54"><a href="#cb6-54" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb6-55"><a href="#cb6-55" aria-hidden="true" tabindex="-1"></a>    <span class="at">locations =</span> <span class="fu">cells_body</span>(</span>
<span id="cb6-56"><a href="#cb6-56" aria-hidden="true" tabindex="-1"></a>      <span class="at">columns =</span> <span class="fu">c</span>(Flow),</span>
<span id="cb6-57"><a href="#cb6-57" aria-hidden="true" tabindex="-1"></a>      <span class="at">rows =</span> Flow <span class="sc">&gt;</span> <span class="dv">0</span></span>
<span id="cb6-58"><a href="#cb6-58" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb6-59"><a href="#cb6-59" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb6-60"><a href="#cb6-60" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_options</span>(</span>
<span id="cb6-61"><a href="#cb6-61" aria-hidden="true" tabindex="-1"></a>    <span class="at">table.width =</span> <span class="fu">pct</span>(<span class="dv">100</span>)</span>
<span id="cb6-62"><a href="#cb6-62" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb6-63"><a href="#cb6-63" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt_theme_excel</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">
<p><img src="GA_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 100.0%;justify-content: center;">

<div id="ltaknjubok" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#ltaknjubok table {
  font-family: Calibri, system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#ltaknjubok thead, #ltaknjubok tbody, #ltaknjubok tfoot, #ltaknjubok tr, #ltaknjubok td, #ltaknjubok th {
  border-style: none;
}

#ltaknjubok p {
  margin: 0;
  padding: 0;
}

#ltaknjubok .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: 100%;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #000000;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #000000;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  border-left-style: solid;
  border-left-width: 2px;
  border-left-color: #000000;
}

#ltaknjubok .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#ltaknjubok .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#ltaknjubok .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#ltaknjubok .gt_heading {
  background-color: #FFFFFF;
  text-align: left;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ltaknjubok .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
}

#ltaknjubok .gt_col_headings {
  border-top-style: none;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ltaknjubok .gt_col_heading {
  color: #FFFFFF;
  background-color: #000000;
  font-size: 85%;
  font-weight: bold;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#ltaknjubok .gt_column_spanner_outer {
  color: #FFFFFF;
  background-color: #000000;
  font-size: 85%;
  font-weight: bold;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#ltaknjubok .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#ltaknjubok .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#ltaknjubok .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#ltaknjubok .gt_spanner_row {
  border-bottom-style: hidden;
}

#ltaknjubok .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #000000;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #000000;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #000000;
  vertical-align: middle;
  text-align: left;
}

#ltaknjubok .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #000000;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #000000;
  vertical-align: middle;
}

#ltaknjubok .gt_from_md > :first-child {
  margin-top: 0;
}

#ltaknjubok .gt_from_md > :last-child {
  margin-bottom: 0;
}

#ltaknjubok .gt_row {
  padding-top: 1px;
  padding-bottom: 1px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #000000;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #000000;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #000000;
  vertical-align: middle;
  overflow-x: hidden;
}

#ltaknjubok .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #000000;
  padding-left: 5px;
  padding-right: 5px;
}

#ltaknjubok .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#ltaknjubok .gt_row_group_first td {
  border-top-width: 2px;
}

#ltaknjubok .gt_row_group_first th {
  border-top-width: 2px;
}

#ltaknjubok .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ltaknjubok .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#ltaknjubok .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#ltaknjubok .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ltaknjubok .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ltaknjubok .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#ltaknjubok .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#ltaknjubok .gt_striped {
  background-color: #D3D3D3;
}

#ltaknjubok .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ltaknjubok .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ltaknjubok .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ltaknjubok .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ltaknjubok .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ltaknjubok .gt_left {
  text-align: left;
}

#ltaknjubok .gt_center {
  text-align: center;
}

#ltaknjubok .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#ltaknjubok .gt_font_normal {
  font-weight: normal;
}

#ltaknjubok .gt_font_bold {
  font-weight: bold;
}

#ltaknjubok .gt_font_italic {
  font-style: italic;
}

#ltaknjubok .gt_super {
  font-size: 65%;
}

#ltaknjubok .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#ltaknjubok .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#ltaknjubok .gt_indent_1 {
  text-indent: 5px;
}

#ltaknjubok .gt_indent_2 {
  text-indent: 10px;
}

#ltaknjubok .gt_indent_3 {
  text-indent: 15px;
}

#ltaknjubok .gt_indent_4 {
  text-indent: 20px;
}

#ltaknjubok .gt_indent_5 {
  text-indent: 25px;
}

#ltaknjubok .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#ltaknjubok div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    <tr class="gt_heading">
      <td colspan="3" class="gt_heading gt_title gt_font_normal gt_bottom_border" style=""><div data-qmd-base64="KipUcmFuc3NoaXBtZW50IEZsb3dzIGZyb20gTWFudWZhY3R1cmVycyB0byBEaXN0cmlidXRpb24gQ2VudGVycyoq"><div class="gt_from_md"><p><strong>Transshipment Flows from Manufacturers to Distribution Centers</strong></p>
</div></div></td>
    </tr>
    
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" style="border-left-width: 2px; border-left-style: solid; border-left-color: black;" scope="col" id="Manufacturer">Manufacturer</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="Distribution Center">Distribution Center</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" style="border-right-width: 2px; border-right-style: solid; border-right-color: black;" scope="col" id="Flow Amount">Flow Amount</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="Manufacturer" class="gt_row gt_left" style="border-left-width: 2px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black;">Manufacturer 1</td>
<td headers="DC" class="gt_row gt_left" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black;">DC 1</td>
<td headers="Flow" class="gt_row gt_right" style="background-color: #ADD8E6; border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 2px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black;">60.00</td></tr>
    <tr><td headers="Manufacturer" class="gt_row gt_left gt_striped" style="border-left-width: 2px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black;">Manufacturer 2</td>
<td headers="DC" class="gt_row gt_left gt_striped" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black;">DC 1</td>
<td headers="Flow" class="gt_row gt_right gt_striped" style="background-color: #ADD8E6; border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 2px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black;">300.00</td></tr>
    <tr><td headers="Manufacturer" class="gt_row gt_left" style="border-left-width: 2px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black;">Manufacturer 1</td>
<td headers="DC" class="gt_row gt_left" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black;">DC 2</td>
<td headers="Flow" class="gt_row gt_right" style="background-color: #ADD8E6; border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 2px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black;">130.00</td></tr>
    <tr><td headers="Manufacturer" class="gt_row gt_left gt_striped" style="border-left-width: 2px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black;">Manufacturer 3</td>
<td headers="DC" class="gt_row gt_left gt_striped" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black;">DC 2</td>
<td headers="Flow" class="gt_row gt_right gt_striped" style="background-color: #ADD8E6; border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 2px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: black;">100.00</td></tr>
    <tr><td headers="Manufacturer" class="gt_row gt_left" style="border-left-width: 2px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: black;">Manufacturer 4</td>
<td headers="DC" class="gt_row gt_left" style="border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 1px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: black;">DC 2</td>
<td headers="Flow" class="gt_row gt_right" style="background-color: #ADD8E6; border-left-width: 1px; border-left-style: solid; border-left-color: black; border-right-width: 2px; border-right-style: solid; border-right-color: black; border-top-width: 1px; border-top-style: solid; border-top-color: black; border-bottom-width: 2px; border-bottom-style: solid; border-bottom-color: black;">150.00</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
</div>
</div>
<div>
<hr>
<h3 class="anchored">
Share
</h3>
<p><a href="https://github.com/Loccx78vn/" target="_blank" class="github-button">Visit my GitHub</a></p>
<hr>
</div>
<style>
.github-button {
  display: inline-block;
  padding: 10px 20px;
  font-size: 16px;
  color: white;
  background-color: #007bff; /* Bootstrap primary color */
  border: none;
  border-radius: 5px;
  text-decoration: none;
  text-align: center;
  transition: background-color 0.3s;
}

.github-button:hover {
  background-color: #0056b3; /* Darker shade on hover */
}
</style>


<!-- -->


</section>
</section>
</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" role="list">
<div id="ref-lucascrucca2013" class="csl-entry" role="listitem">
Luca Scrucca. 2013. <span>“GA: A Package for Genetic Algorithms in r.”</span> <em>Journal of Statistical Software</em>. <a href="https://doi.org/10.18637/jss.v053.i04">https://doi.org/10.18637/jss.v053.i04</a>.
</div>
<div id="ref-rohithgandhi2018" class="csl-entry" role="listitem">
Rohith Gandhi. 2018. <span>“Genetic Algorithms.”</span> <a href="https://medium.datadriveninvestor.com/genetic-algorithms-9f920939f7cc">https://medium.datadriveninvestor.com/genetic-algorithms-9f920939f7cc</a>.
</div>
</div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb7" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "Genetic Algorithms in R"</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="an">subtitle:</span><span class="co"> "Việt Nam, 2024"</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="an">categories:</span><span class="co"> ["SupplyChainManagement", "Logistics","Genetic Algorithm"]</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="an">description:</span><span class="co"> "Đây là bài viết của tôi về cách sử dụng R trong ứng dụng Genetic Algorithm trong Supply Chain"</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="an">number-sections:</span><span class="co"> true</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span><span class="co"> </span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a><span class="co">  html:</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a><span class="co">    code-fold: true</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a><span class="co">    code-tools: true</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a><span class="an">bibliography:</span><span class="co"> references.bib</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a><span class="fu"># Giới thiệu:</span></span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a><span class="co">#Call packages</span></span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(rio,</span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a>               here,</span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a>               janitor,</span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a>               tidyverse,</span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a>               dplyr,</span>
<span id="cb7-28"><a href="#cb7-28" aria-hidden="true" tabindex="-1"></a>               magrittr,</span>
<span id="cb7-29"><a href="#cb7-29" aria-hidden="true" tabindex="-1"></a>               ggplot2,</span>
<span id="cb7-30"><a href="#cb7-30" aria-hidden="true" tabindex="-1"></a>               purrr,</span>
<span id="cb7-31"><a href="#cb7-31" aria-hidden="true" tabindex="-1"></a>               lubridate,</span>
<span id="cb7-32"><a href="#cb7-32" aria-hidden="true" tabindex="-1"></a>               mice,</span>
<span id="cb7-33"><a href="#cb7-33" aria-hidden="true" tabindex="-1"></a>               plotly)</span>
<span id="cb7-34"><a href="#cb7-34" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb7-35"><a href="#cb7-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-36"><a href="#cb7-36" aria-hidden="true" tabindex="-1"></a><span class="fu">## Vài điểm về thuật toán Genetic:</span></span>
<span id="cb7-37"><a href="#cb7-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-38"><a href="#cb7-38" aria-hidden="true" tabindex="-1"></a>**GA** hay **Genetic Algorithm** là 1 thuật toán tối ưu hóa ngẫu nhiên (**stochastic search algorithms**), được phát triển dựa trên lý thuyết tiến hóa và sự chọn lọc tự nhiên của sinh học <span class="co">[</span><span class="ot">@lucascrucca2013</span><span class="co">]</span>.</span>
<span id="cb7-39"><a href="#cb7-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-40"><a href="#cb7-40" aria-hidden="true" tabindex="-1"></a>Ở thời cấp 3, bạn đã từng học về lý thuyết tiến hóa và chọn lọc tự nhiên của <span class="co">[</span><span class="ot">Charles Darwin</span><span class="co">](https://vi.wikipedia.org/wiki/Charles_Darwin)</span> và <span class="co">[</span><span class="ot">Alfred Russel</span><span class="co">](https://vi.wikipedia.org/wiki/Alfred_Russel_Wallace)</span> ở môn Sinh học. Nếu bạn cũng từng liệt Sinh như tôi thì bạn quên cũng không sao 😅😅. Vậy thì để tôi giải thích lại như sau:</span>
<span id="cb7-41"><a href="#cb7-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-42"><a href="#cb7-42" aria-hidden="true" tabindex="-1"></a>Sự tiến hóa là sự thay đổi đặc điểm di truyền của 1 quần thể sinh vật, ví dụ điển hình chính là từ loại vượn đã tiến hóa thành hình dạng con người văn minh như các bạn bây giờ. Vậy quá trình tiến hóa đó diễn ra khi có sự chọn lọc tự nhiên tạo ra các biến dị di truyền (Ví dụ: đột biến,...) và kết quả là các cá thể đột biến trở nên phổ biến hơn hoặc hiếm gặp hơn trong quần thể. Vậy điều kiện để xảy ra sự chọn lọc tự nhiên có thể là sự thay đổi về môi trường sống, địa lý,... dẫn tới sự khác nhau về khả năng sống sót và sinh sản.</span>
<span id="cb7-43"><a href="#cb7-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-44"><a href="#cb7-44" aria-hidden="true" tabindex="-1"></a>Kết cục là xuất hiện các cá thể đột biến "mạnh mẽ hơn" hoặc đúng là "đặc biệt hơn" có khả năng tồn tại khi xuất hiện sự thay đổi lớn, ví dụ như dưới đây, do sự thay đổi về địa điểm sống, từ một loại chim sẻ đã phát triển thành 3 phân họ khác nhau.</span>
<span id="cb7-45"><a href="#cb7-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-46"><a href="#cb7-46" aria-hidden="true" tabindex="-1"></a><span class="co">[</span><span class="al">![Hình 1: Ví dụ về chọn lọc tự nhiên](Natural_selection.jpg)</span><span class="ot">{fig-align="center"}</span><span class="co">](https://www.biologyonline.com/dictionary/natural-selection)</span></span>
<span id="cb7-47"><a href="#cb7-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-48"><a href="#cb7-48" aria-hidden="true" tabindex="-1"></a>Vậy lí thuyết này liên quan gì tới vấn đề tối ưu hóa. Thông thường khi bạn muốn tối ưu hóa một vấn đề gì đó, bạn cần xây dựng mô hình định lượng nó, ví dụ như dưới ảnh này ta đang có mô hình <span class="co">[</span><span class="ot">MILP</span><span class="co">](https://www.mathworks.com/help/optim/ug/mixed-integer-linear-programming-algorithms.html)</span> nhằm hoạch định tuyến đường và tối ưu hóa quãng đường di chuyển.</span>
<span id="cb7-49"><a href="#cb7-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-50"><a href="#cb7-50" aria-hidden="true" tabindex="-1"></a><span class="co">[</span><span class="al">![Hình 2: Mô hình VRP](MILP.png)</span><span class="ot">{fig-align="center"}</span><span class="co">](https://medium.com/@rihot_gusron/capacitated-vehicle-routing-problem-with-lingo-427c2d3bf724)</span></span>
<span id="cb7-51"><a href="#cb7-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-52"><a href="#cb7-52" aria-hidden="true" tabindex="-1"></a>Mục tiêu của hàm chính là tìm ra giá trị nhỏ nhất nghĩa là chi phí cho việc di chuyển của xe là nhỏ nhất. Do đó, bạn có thể hình dung rằng **giá trị nhỏ nhất** đó như là các **cá thể đột biến** có khả năng sống sót cao nhất trong quẩn thể.</span>
<span id="cb7-53"><a href="#cb7-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-54"><a href="#cb7-54" aria-hidden="true" tabindex="-1"></a>Vì vậy thuật toán **Genetic** (GA) chính là lặp đi lặp lại sự chọn lọc tự nhiên trong một quần thể hoặc một mẫu để đến cuối cùng tìm ra cá thể vượt trội nhất.</span>
<span id="cb7-55"><a href="#cb7-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-56"><a href="#cb7-56" aria-hidden="true" tabindex="-1"></a><span class="fu">## Cách hoạt động GA trong ML:</span></span>
<span id="cb7-57"><a href="#cb7-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-58"><a href="#cb7-58" aria-hidden="true" tabindex="-1"></a>Trong Machine Learning, GA nhằm tìm ra đúng các biến cần thiết để xây dựng mô hình tốt nhất. Gỉa sử chúng ta có 2 mô hình là:</span>
<span id="cb7-59"><a href="#cb7-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-60"><a href="#cb7-60" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Mô hình 1: gồm các biến A,C,D.</span>
<span id="cb7-61"><a href="#cb7-61" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Mô hình 2: gồm biến A,B,E.</span>
<span id="cb7-62"><a href="#cb7-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-63"><a href="#cb7-63" aria-hidden="true" tabindex="-1"></a>Vậy mô hình nào mới là tốt nhất cho mô hình dự đoán ? Chúng ta chưa biết được và chỉ có thể so sánh nó thông qua thuật toán Genetic.</span>
<span id="cb7-64"><a href="#cb7-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-65"><a href="#cb7-65" aria-hidden="true" tabindex="-1"></a>Về quy trình, thuật toán Genetic sẽ có cách hoạt động như dưới đây. Quy trình này mình tham khảo của <span class="co">[</span><span class="ot">@rohithgandhi2018</span><span class="co">]</span>.</span>
<span id="cb7-66"><a href="#cb7-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-67"><a href="#cb7-67" aria-hidden="true" tabindex="-1"></a><span class="co">[</span><span class="al">![Hình 3: Thuật toán Genetic](Genetic_Algorithm.png)</span><span class="ot">{fig-align="center"}</span><span class="co">](https://medium.datadriveninvestor.com/genetic-algorithms-9f920939f7cc)</span></span>
<span id="cb7-68"><a href="#cb7-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-69"><a href="#cb7-69" aria-hidden="true" tabindex="-1"></a>Diễn giải cách hoạt động:</span>
<span id="cb7-70"><a href="#cb7-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-71"><a href="#cb7-71" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Bước 1 (**Initialisation**): mỗi biến được xem là *Gene* và nhiều *Gene* gộp lại thành một mô hình hay gọi là *Chromosome* và nhiều *Chromosome* sẽ tạo thành một quần thể (*Population*). Việc này giống như là bạn đang trình bày hết các phương án có thể sử dụng.</span>
<span id="cb7-72"><a href="#cb7-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-73"><a href="#cb7-73" aria-hidden="true" tabindex="-1"></a><span class="co">[</span><span class="al">![Hình 4: Các thuật ngữ trong GA](Term.png)</span><span class="ot">{fig-align="center"}</span><span class="co">](https://www.doc.ic.ac.uk/research/technicalreports/2003/DTR03-4.pdf)</span></span>
<span id="cb7-74"><a href="#cb7-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-75"><a href="#cb7-75" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Bước 2 (**Fitness Function**): Bạn cần xây dựng một hàm mục tiêu để tính toán giá trị cho các mô hình ở bước 1.</span>
<span id="cb7-76"><a href="#cb7-76" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-77"><a href="#cb7-77" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Bước 3 (**Selection**): Biến nào có giá trị yếu kém sẽ bị loại và quá trình tính toán sẽ tiếp tục ở thế hệ của nó tiếp theo. Diễn giải đơn giản hơn là chúng ta thử một cách khác và cố gắng cải thiện kết quả.</span>
<span id="cb7-78"><a href="#cb7-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-79"><a href="#cb7-79" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Bước 4 (**Crossover**): Tạo ra mô hình gồm các biến tốt đã lựa chọn ở bước 3. Ví dụ như biến A, B là tốt cho mô hình.</span>
<span id="cb7-80"><a href="#cb7-80" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-81"><a href="#cb7-81" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Bước 5 (**Mutation**): Thay đổi mô hình đầu vào đã bao gồm các biến ở bước 4 và bắt đầu lại từ bước 1. Ví dụ mô hình cần chọn gồm 5 biến và ta đã chọn được biến A,B là tốt. Do đó, khi quay lại bước 1, ta chỉ cần chọn thêm 3 biến thay vì 5 biến như thông thường.</span>
<span id="cb7-82"><a href="#cb7-82" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-83"><a href="#cb7-83" aria-hidden="true" tabindex="-1"></a><span class="fu"># Thực hành trong R:</span></span>
<span id="cb7-84"><a href="#cb7-84" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-85"><a href="#cb7-85" aria-hidden="true" tabindex="-1"></a>Sau khi đã sơ lược về thuật toán, bây giờ ta sẽ vào phần thực hành trong R. Vậy làm sao để ứng dụng thuật toán Genetic trong R, mình đã kham khảo qua nhiều nguồn tài liệu và tổng hợp dưới đây:</span>
<span id="cb7-86"><a href="#cb7-86" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-87"><a href="#cb7-87" aria-hidden="true" tabindex="-1"></a>**Xây dựng hàm mục tiêu**: hàm mục tiêu là bước quan trọng nhất trong thuật toán Genetic vì nó là cơ sở để đánh giá và lựa chọn cá thể vượt trội nhất. Và hàm mục tiêu sẽ luôn khác nhau tùy vào vấn đề mà ta đặt ra. Gỉa sử chúng ta muốn tối ưu chi phí thì nó là hàm Min, còn ta muốn tối đa lợi nhuận thì nó sẽ là hàm Max.</span>
<span id="cb7-88"><a href="#cb7-88" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-89"><a href="#cb7-89" aria-hidden="true" tabindex="-1"></a>Vậy hàm mục tiêu của bài toán trên trong R, bạn có thể tham khảo phần code bên dưới mình:</span>
<span id="cb7-90"><a href="#cb7-90" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-91"><a href="#cb7-91" aria-hidden="true" tabindex="-1"></a>::: callout-important</span>
<span id="cb7-92"><a href="#cb7-92" aria-hidden="true" tabindex="-1"></a><span class="fu">### Type of fitness function</span></span>
<span id="cb7-93"><a href="#cb7-93" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-94"><a href="#cb7-94" aria-hidden="true" tabindex="-1"></a>Đối số <span class="in">`type`</span> trong hàm có 3 giá trị:</span>
<span id="cb7-95"><a href="#cb7-95" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-96"><a href="#cb7-96" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span><span class="in">`"binary"`</span>: đại diện cho biến quyết định dạng phân loại, ví dụ: có/không</span>
<span id="cb7-97"><a href="#cb7-97" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span><span class="in">`"real-valued"`</span>: dùng dể tối ưu cho các biến quyết định là dạng số thực, số tự nhiên.</span>
<span id="cb7-98"><a href="#cb7-98" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span><span class="in">`"permutation"`</span>: cho các vấn đề liên quan đến việc sắp xếp lại các biến thành danh sách, ví dụ: thang đo Likert.</span>
<span id="cb7-99"><a href="#cb7-99" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb7-100"><a href="#cb7-100" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-101"><a href="#cb7-101" aria-hidden="true" tabindex="-1"></a>Chi tiết về hàm <span class="in">`ga()`</span>, bạn có thể tham khảo tài liệu của <span class="co">[</span><span class="ot">@lucascrucca2013</span><span class="co">]</span>.</span>
<span id="cb7-102"><a href="#cb7-102" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-103"><a href="#cb7-103" aria-hidden="true" tabindex="-1"></a><span class="fu">## Thuật toán Genetic:</span></span>
<span id="cb7-104"><a href="#cb7-104" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-105"><a href="#cb7-105" aria-hidden="true" tabindex="-1"></a>Vậy bây giờ chúng ta sẽ xử lí bài toán trên theo thuật toán **Genetic**</span>
<span id="cb7-106"><a href="#cb7-106" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-107"><a href="#cb7-107" aria-hidden="true" tabindex="-1"></a>Gỉa sử chúng ta có bài toán về vận chuyển hàng từ nhà kho để thỏa mãn nhu cầu ở các điểm **DC (Distribution center)**. Và công thức để tính toán được chi phí là:</span>
<span id="cb7-108"><a href="#cb7-108" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-109"><a href="#cb7-109" aria-hidden="true" tabindex="-1"></a>Hàm chi phí tổng thể được xác định như sau:</span>
<span id="cb7-110"><a href="#cb7-110" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-111"><a href="#cb7-111" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb7-112"><a href="#cb7-112" aria-hidden="true" tabindex="-1"></a>TC = \sum_{i=1}^{m} \left( D_{ij} \times \frac{P}{F} \times 0.4 + LC_i \right) \times Q_j</span>
<span id="cb7-113"><a href="#cb7-113" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb7-114"><a href="#cb7-114" aria-hidden="true" tabindex="-1"></a>Vì vậy, nếu trong công việc, chúng ta sẽ cần lấy dữ liệu từ **Data warehouse** bằng SQL hoặc các phần mềm **Business Intelligence** khác. Ở đây, nhằm minh họa, mình đã tạo ra code ở phía dưới để các bạn luyện tập.</span>
<span id="cb7-115"><a href="#cb7-115" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-118"><a href="#cb7-118" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb7-119"><a href="#cb7-119" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a data frame for loading costs</span></span>
<span id="cb7-120"><a href="#cb7-120" aria-hidden="true" tabindex="-1"></a>loading_costs <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb7-121"><a href="#cb7-121" aria-hidden="true" tabindex="-1"></a>  <span class="at">Warehouse =</span> <span class="fu">rep</span>(<span class="fu">paste</span>(<span class="st">"Warehouse"</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>), <span class="at">each =</span> <span class="dv">4</span>),</span>
<span id="cb7-122"><a href="#cb7-122" aria-hidden="true" tabindex="-1"></a>  <span class="at">ID =</span> <span class="fu">rep</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="at">times =</span> <span class="dv">4</span>),</span>
<span id="cb7-123"><a href="#cb7-123" aria-hidden="true" tabindex="-1"></a>  <span class="at">Weight_Category =</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">"&lt; 2 tons"</span>, <span class="st">"2 to 5 tons"</span>, <span class="st">"5 to 10 tons"</span>, <span class="st">"&gt; 10 tons"</span>), <span class="at">times =</span> <span class="dv">5</span>),</span>
<span id="cb7-124"><a href="#cb7-124" aria-hidden="true" tabindex="-1"></a>  <span class="at">Has_Machine =</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">"Yes"</span>, <span class="st">"No"</span>, <span class="st">"Yes"</span>, <span class="st">"No"</span>, <span class="st">"No"</span>), <span class="at">each =</span> <span class="dv">4</span>),</span>
<span id="cb7-125"><a href="#cb7-125" aria-hidden="true" tabindex="-1"></a>  <span class="at">Loading_Cost =</span> <span class="fu">c</span>(<span class="dv">80</span>, <span class="dv">100</span>, <span class="dv">120</span>, <span class="dv">160</span>,  <span class="co"># Warehouse 1 (with machine)</span></span>
<span id="cb7-126"><a href="#cb7-126" aria-hidden="true" tabindex="-1"></a>                   <span class="dv">110</span>, <span class="dv">150</span>, <span class="dv">180</span>, <span class="dv">210</span>,  <span class="co"># Warehouse 2 (without machine)</span></span>
<span id="cb7-127"><a href="#cb7-127" aria-hidden="true" tabindex="-1"></a>                   <span class="dv">85</span>, <span class="dv">105</span>, <span class="dv">125</span>, <span class="dv">140</span>,  <span class="co"># Warehouse 3 (with machine)</span></span>
<span id="cb7-128"><a href="#cb7-128" aria-hidden="true" tabindex="-1"></a>                   <span class="dv">150</span>, <span class="dv">170</span>, <span class="dv">190</span>, <span class="dv">210</span>,  <span class="co"># Warehouse 4 (without machine)</span></span>
<span id="cb7-129"><a href="#cb7-129" aria-hidden="true" tabindex="-1"></a>                   <span class="dv">140</span>, <span class="dv">165</span>, <span class="dv">185</span>, <span class="dv">215</span>)   <span class="co"># Warehouse 5 (without machine)</span></span>
<span id="cb7-130"><a href="#cb7-130" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb7-131"><a href="#cb7-131" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-132"><a href="#cb7-132" aria-hidden="true" tabindex="-1"></a><span class="co"># Define warehouses with coordinates (latitude, longitude)</span></span>
<span id="cb7-133"><a href="#cb7-133" aria-hidden="true" tabindex="-1"></a>warehouses <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb7-134"><a href="#cb7-134" aria-hidden="true" tabindex="-1"></a>  <span class="at">ID =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>,</span>
<span id="cb7-135"><a href="#cb7-135" aria-hidden="true" tabindex="-1"></a>  <span class="at">Latitude =</span> <span class="fu">c</span>(<span class="fl">21.0285</span>, <span class="fl">16.0545</span>, <span class="fl">10.7769</span>, <span class="fl">14.0583</span>, <span class="fl">19.8060</span>), <span class="co"># Example latitudes (Hanoi, HCMC, Da Nang, etc.)</span></span>
<span id="cb7-136"><a href="#cb7-136" aria-hidden="true" tabindex="-1"></a>  <span class="at">Longitude =</span> <span class="fu">c</span>(<span class="fl">105.804</span>, <span class="fl">108.2022</span>, <span class="fl">106.6957</span>, <span class="fl">108.2772</span>, <span class="fl">105.7460</span>) <span class="co"># Example longitudes</span></span>
<span id="cb7-137"><a href="#cb7-137" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb7-138"><a href="#cb7-138" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-139"><a href="#cb7-139" aria-hidden="true" tabindex="-1"></a><span class="co"># Define distribution centers data in Vietnam (example coordinates)</span></span>
<span id="cb7-140"><a href="#cb7-140" aria-hidden="true" tabindex="-1"></a>distribution_centers <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb7-141"><a href="#cb7-141" aria-hidden="true" tabindex="-1"></a>  <span class="at">ID =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>,</span>
<span id="cb7-142"><a href="#cb7-142" aria-hidden="true" tabindex="-1"></a>  <span class="at">Demand =</span> <span class="fu">c</span>(<span class="dv">90</span>, <span class="dv">30</span>, <span class="dv">150</span>),</span>
<span id="cb7-143"><a href="#cb7-143" aria-hidden="true" tabindex="-1"></a>  <span class="at">Latitude =</span> <span class="fu">c</span>(<span class="fl">17.974855</span>, <span class="fl">10.7769</span>, <span class="fl">15.122327</span>), <span class="co"># Example latitudes (Hanoi, Da Nang, HCMC)</span></span>
<span id="cb7-144"><a href="#cb7-144" aria-hidden="true" tabindex="-1"></a>  <span class="at">Longitude =</span> <span class="fu">c</span>(<span class="fl">102.630867</span>, <span class="fl">106.6957</span>, <span class="fl">108.799357</span>) <span class="co"># Example longitudes</span></span>
<span id="cb7-145"><a href="#cb7-145" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb7-146"><a href="#cb7-146" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb7-147"><a href="#cb7-147" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-148"><a href="#cb7-148" aria-hidden="true" tabindex="-1"></a>Nếu bạn gặp khó khăn trong việc phải đối mặt với cả đống dữ liệu từ hệ thống và chưa biết lấy dữ liệu nào để phân tích hoặc gộp bảng nào qua bảng nào thì lời khuyên của tôi là hãy vẽ bảng **Entity relation diagram (ERD)**.</span>
<span id="cb7-149"><a href="#cb7-149" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-150"><a href="#cb7-150" aria-hidden="true" tabindex="-1"></a>**ERD** là một công cụ trực quan dùng để mô tả cấu trúc dữ liệu trong cơ sở dữ liệu. ERD thể hiện các thực thể (*entities*), thuộc tính (*attributes*), và các mối quan hệ (*relationships*) giữa chúng. Các thực thể thường được biểu diễn dưới dạng hình chữ nhật, thuộc tính dưới dạng hình ellips, và mối quan hệ bằng hình thoi hoặc đường nối. ERD giúp lập kế hoạch cho thiết kế cơ sở dữ liệu, đảm bảo rằng các yếu tố dữ liệu và quan hệ giữa chúng được xác định rõ ràng, tạo nền tảng cho việc phát triển và quản lý dữ liệu hiệu quả.</span>
<span id="cb7-151"><a href="#cb7-151" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-152"><a href="#cb7-152" aria-hidden="true" tabindex="-1"></a>Các bạn có thể thấy mối quan hệ thông qua bảng **Entity relation diagram (ERD)** dưới đây:</span>
<span id="cb7-153"><a href="#cb7-153" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-156"><a href="#cb7-156" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb7-157"><a href="#cb7-157" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb7-158"><a href="#cb7-158" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(datamodelr)</span>
<span id="cb7-159"><a href="#cb7-159" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the data model from your data frames</span></span>
<span id="cb7-160"><a href="#cb7-160" aria-hidden="true" tabindex="-1"></a>dm1 <span class="ot">&lt;-</span> <span class="fu">dm_from_data_frames</span>(<span class="fu">list</span>(</span>
<span id="cb7-161"><a href="#cb7-161" aria-hidden="true" tabindex="-1"></a>  <span class="at">Warehouses =</span> warehouses,</span>
<span id="cb7-162"><a href="#cb7-162" aria-hidden="true" tabindex="-1"></a>  <span class="at">Loading_Costs =</span> loading_costs,</span>
<span id="cb7-163"><a href="#cb7-163" aria-hidden="true" tabindex="-1"></a>  <span class="at">Distribution_Centers =</span> distribution_centers</span>
<span id="cb7-164"><a href="#cb7-164" aria-hidden="true" tabindex="-1"></a>)) <span class="sc">%&gt;%</span></span>
<span id="cb7-165"><a href="#cb7-165" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dm_set_key</span>(<span class="st">"Warehouses"</span>, <span class="st">"ID"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb7-166"><a href="#cb7-166" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dm_set_key</span>(<span class="st">"Loading_Costs"</span>, <span class="fu">c</span>(<span class="st">"Warehouse"</span>, <span class="st">"ID"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb7-167"><a href="#cb7-167" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dm_set_key</span>(<span class="st">"Distribution_Centers"</span>, <span class="st">"ID"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb7-168"><a href="#cb7-168" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dm_add_references</span>(</span>
<span id="cb7-169"><a href="#cb7-169" aria-hidden="true" tabindex="-1"></a>    Loading_Costs<span class="sc">$</span>Warehouse <span class="sc">==</span> Warehouses<span class="sc">$</span>ID,  <span class="co"># Correct reference</span></span>
<span id="cb7-170"><a href="#cb7-170" aria-hidden="true" tabindex="-1"></a>    Loading_Costs<span class="sc">$</span>ID <span class="sc">==</span> Distribution_Centers<span class="sc">$</span>ID  <span class="co"># Assuming this is the correct reference</span></span>
<span id="cb7-171"><a href="#cb7-171" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb7-172"><a href="#cb7-172" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-173"><a href="#cb7-173" aria-hidden="true" tabindex="-1"></a><span class="co"># Create and render the ERD</span></span>
<span id="cb7-174"><a href="#cb7-174" aria-hidden="true" tabindex="-1"></a><span class="fu">dm_create_graph</span>(dm1, <span class="at">rankdir =</span> <span class="st">"LR"</span>, <span class="at">columnArrows =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb7-175"><a href="#cb7-175" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dm_render_graph</span>()</span>
<span id="cb7-176"><a href="#cb7-176" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb7-177"><a href="#cb7-177" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-178"><a href="#cb7-178" aria-hidden="true" tabindex="-1"></a>::: callout-tip</span>
<span id="cb7-179"><a href="#cb7-179" aria-hidden="true" tabindex="-1"></a><span class="fu">### Tải package datamodelr:</span></span>
<span id="cb7-180"><a href="#cb7-180" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-181"><a href="#cb7-181" aria-hidden="true" tabindex="-1"></a>Mình tạo biểu đồ này bằng thư viện datamodelr. Bạn có thể tải bằng cú pháp: <span class="in">`devtools::install_github("bergant/datamodelr")`</span></span>
<span id="cb7-182"><a href="#cb7-182" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb7-183"><a href="#cb7-183" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-184"><a href="#cb7-184" aria-hidden="true" tabindex="-1"></a>Như vậy, dựa vào đó, ta sẽ tính toán được 2 bảng quan trọng:</span>
<span id="cb7-185"><a href="#cb7-185" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-186"><a href="#cb7-186" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Bảng giá loading ở các kho. (Hình bên trái)</span>
<span id="cb7-187"><a href="#cb7-187" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-188"><a href="#cb7-188" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Bảng chi phí vận chuyển từ từng WH đến các DCs. (Hình bên phải)</span>
<span id="cb7-189"><a href="#cb7-189" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-192"><a href="#cb7-192" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb7-193"><a href="#cb7-193" aria-hidden="true" tabindex="-1"></a><span class="do">## Calculate the transportation cost:</span></span>
<span id="cb7-194"><a href="#cb7-194" aria-hidden="true" tabindex="-1"></a><span class="co"># Haversine distance function</span></span>
<span id="cb7-195"><a href="#cb7-195" aria-hidden="true" tabindex="-1"></a>haversine <span class="ot">&lt;-</span> <span class="cf">function</span>(lat1, lon1, lat2, lon2) {</span>
<span id="cb7-196"><a href="#cb7-196" aria-hidden="true" tabindex="-1"></a>  R <span class="ot">&lt;-</span> <span class="dv">6371</span> <span class="co"># Radius of Earth in kilometers</span></span>
<span id="cb7-197"><a href="#cb7-197" aria-hidden="true" tabindex="-1"></a>  dlat <span class="ot">&lt;-</span> (lat2 <span class="sc">-</span> lat1) <span class="sc">*</span> pi <span class="sc">/</span> <span class="dv">180</span></span>
<span id="cb7-198"><a href="#cb7-198" aria-hidden="true" tabindex="-1"></a>  dlon <span class="ot">&lt;-</span> (lon2 <span class="sc">-</span> lon1) <span class="sc">*</span> pi <span class="sc">/</span> <span class="dv">180</span></span>
<span id="cb7-199"><a href="#cb7-199" aria-hidden="true" tabindex="-1"></a>  a <span class="ot">&lt;-</span> <span class="fu">sin</span>(dlat <span class="sc">/</span> <span class="dv">2</span>) <span class="sc">*</span> <span class="fu">sin</span>(dlat <span class="sc">/</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb7-200"><a href="#cb7-200" aria-hidden="true" tabindex="-1"></a>       <span class="fu">cos</span>(lat1 <span class="sc">*</span> pi <span class="sc">/</span> <span class="dv">180</span>) <span class="sc">*</span> <span class="fu">cos</span>(lat2 <span class="sc">*</span> pi <span class="sc">/</span> <span class="dv">180</span>) <span class="sc">*</span> </span>
<span id="cb7-201"><a href="#cb7-201" aria-hidden="true" tabindex="-1"></a>       <span class="fu">sin</span>(dlon <span class="sc">/</span> <span class="dv">2</span>) <span class="sc">*</span> <span class="fu">sin</span>(dlon <span class="sc">/</span> <span class="dv">2</span>)</span>
<span id="cb7-202"><a href="#cb7-202" aria-hidden="true" tabindex="-1"></a>  c <span class="ot">&lt;-</span> <span class="dv">2</span> <span class="sc">*</span> <span class="fu">atan2</span>(<span class="fu">sqrt</span>(a), <span class="fu">sqrt</span>(<span class="dv">1</span> <span class="sc">-</span> a))</span>
<span id="cb7-203"><a href="#cb7-203" aria-hidden="true" tabindex="-1"></a>  R <span class="sc">*</span> c <span class="co"># Distance in kilometers</span></span>
<span id="cb7-204"><a href="#cb7-204" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb7-205"><a href="#cb7-205" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-206"><a href="#cb7-206" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate distance matrix based on coordinates</span></span>
<span id="cb7-207"><a href="#cb7-207" aria-hidden="true" tabindex="-1"></a>distance_matrix <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">0</span>, <span class="at">nrow =</span> <span class="fu">nrow</span>(warehouses), <span class="at">ncol =</span> <span class="fu">nrow</span>(distribution_centers))</span>
<span id="cb7-208"><a href="#cb7-208" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-209"><a href="#cb7-209" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(warehouses)) {</span>
<span id="cb7-210"><a href="#cb7-210" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(distribution_centers)) {</span>
<span id="cb7-211"><a href="#cb7-211" aria-hidden="true" tabindex="-1"></a>    distance_matrix[i, j] <span class="ot">&lt;-</span> <span class="fu">haversine</span>(</span>
<span id="cb7-212"><a href="#cb7-212" aria-hidden="true" tabindex="-1"></a>      warehouses<span class="sc">$</span>Latitude[i], warehouses<span class="sc">$</span>Longitude[i],</span>
<span id="cb7-213"><a href="#cb7-213" aria-hidden="true" tabindex="-1"></a>      distribution_centers<span class="sc">$</span>Latitude[j], distribution_centers<span class="sc">$</span>Longitude[j]</span>
<span id="cb7-214"><a href="#cb7-214" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb7-215"><a href="#cb7-215" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb7-216"><a href="#cb7-216" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb7-217"><a href="#cb7-217" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-218"><a href="#cb7-218" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the fuel price (example value)</span></span>
<span id="cb7-219"><a href="#cb7-219" aria-hidden="true" tabindex="-1"></a>fuel_price <span class="ot">&lt;-</span> <span class="dv">20</span> <span class="co"># Fuel price per kilometer</span></span>
<span id="cb7-220"><a href="#cb7-220" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-221"><a href="#cb7-221" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate transportation costs</span></span>
<span id="cb7-222"><a href="#cb7-222" aria-hidden="true" tabindex="-1"></a>transportation_costs <span class="ot">&lt;-</span> distance_matrix <span class="sc">*</span> fuel_price <span class="sc">*</span> <span class="fl">0.4</span></span>
<span id="cb7-223"><a href="#cb7-223" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-224"><a href="#cb7-224" aria-hidden="true" tabindex="-1"></a><span class="do">## Calculate the loading cost:</span></span>
<span id="cb7-225"><a href="#cb7-225" aria-hidden="true" tabindex="-1"></a>weights_per_good <span class="ot">&lt;-</span> <span class="fl">0.1</span></span>
<span id="cb7-226"><a href="#cb7-226" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-227"><a href="#cb7-227" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate total weight for each distribution center</span></span>
<span id="cb7-228"><a href="#cb7-228" aria-hidden="true" tabindex="-1"></a>total_weight <span class="ot">&lt;-</span> distribution_centers<span class="sc">$</span>Demand <span class="sc">*</span> weights_per_good</span>
<span id="cb7-229"><a href="#cb7-229" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-230"><a href="#cb7-230" aria-hidden="true" tabindex="-1"></a><span class="co"># Function to get loading cost based on total weight</span></span>
<span id="cb7-231"><a href="#cb7-231" aria-hidden="true" tabindex="-1"></a>get_loading_cost <span class="ot">&lt;-</span> <span class="cf">function</span>(total_weight) {</span>
<span id="cb7-232"><a href="#cb7-232" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (total_weight <span class="sc">&lt;</span> <span class="dv">2</span>) {</span>
<span id="cb7-233"><a href="#cb7-233" aria-hidden="true" tabindex="-1"></a>    loading_costs <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Weight_Category <span class="sc">==</span> <span class="st">"&lt; 2 tons"</span>) <span class="sc">%&gt;%</span> <span class="fu">pull</span>(Loading_Cost)</span>
<span id="cb7-234"><a href="#cb7-234" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span> (total_weight <span class="sc">&gt;=</span> <span class="dv">2</span> <span class="sc">&amp;</span> total_weight <span class="sc">&lt;</span> <span class="dv">5</span>) {</span>
<span id="cb7-235"><a href="#cb7-235" aria-hidden="true" tabindex="-1"></a>    loading_costs <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Weight_Category <span class="sc">==</span> <span class="st">"2 to 5 tons"</span>) <span class="sc">%&gt;%</span> <span class="fu">pull</span>(Loading_Cost)</span>
<span id="cb7-236"><a href="#cb7-236" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span> (total_weight <span class="sc">&gt;=</span> <span class="dv">5</span> <span class="sc">&amp;</span> total_weight <span class="sc">&lt;</span> <span class="dv">10</span>) {</span>
<span id="cb7-237"><a href="#cb7-237" aria-hidden="true" tabindex="-1"></a>    loading_costs <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Weight_Category <span class="sc">==</span> <span class="st">"5 to 10 tons"</span>) <span class="sc">%&gt;%</span> <span class="fu">pull</span>(Loading_Cost)</span>
<span id="cb7-238"><a href="#cb7-238" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb7-239"><a href="#cb7-239" aria-hidden="true" tabindex="-1"></a>    loading_costs <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Weight_Category <span class="sc">==</span> <span class="st">"&gt; 10 tons"</span>) <span class="sc">%&gt;%</span> <span class="fu">pull</span>(Loading_Cost)</span>
<span id="cb7-240"><a href="#cb7-240" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb7-241"><a href="#cb7-241" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb7-242"><a href="#cb7-242" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-243"><a href="#cb7-243" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate loading costs based on total weights for each distribution center</span></span>
<span id="cb7-244"><a href="#cb7-244" aria-hidden="true" tabindex="-1"></a>loading_costs_per_dc <span class="ot">&lt;-</span> <span class="fu">sapply</span>(total_weight, </span>
<span id="cb7-245"><a href="#cb7-245" aria-hidden="true" tabindex="-1"></a>                               get_loading_cost)</span>
<span id="cb7-246"><a href="#cb7-246" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb7-247"><a href="#cb7-247" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-250"><a href="#cb7-250" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb7-251"><a href="#cb7-251" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb7-252"><a href="#cb7-252" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb7-253"><a href="#cb7-253" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb7-254"><a href="#cb7-254" aria-hidden="true" tabindex="-1"></a><span class="co">#| layout: [[50,50]]</span></span>
<span id="cb7-255"><a href="#cb7-255" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-caption: "Each cell's color intensity corresponds to the magnitude of the data point it represents, making it easy to identify patterns, trends, and correlations at a glance."</span></span>
<span id="cb7-256"><a href="#cb7-256" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb7-257"><a href="#cb7-257" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(reshape2)</span>
<span id="cb7-258"><a href="#cb7-258" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-259"><a href="#cb7-259" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert the distance matrix to a data frame</span></span>
<span id="cb7-260"><a href="#cb7-260" aria-hidden="true" tabindex="-1"></a>distance_df <span class="ot">&lt;-</span> <span class="fu">melt</span>(distance_matrix)</span>
<span id="cb7-261"><a href="#cb7-261" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(distance_df) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Warehouse"</span>, <span class="st">"Distribution_Center"</span>, <span class="st">"Distance (km)"</span>)</span>
<span id="cb7-262"><a href="#cb7-262" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-263"><a href="#cb7-263" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the distance matrix with updated colors</span></span>
<span id="cb7-264"><a href="#cb7-264" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(distance_df, <span class="fu">aes</span>(<span class="at">x =</span> Warehouse, <span class="at">y =</span> Distribution_Center, <span class="at">fill =</span> <span class="st">`</span><span class="at">Distance (km)</span><span class="st">`</span>)) <span class="sc">+</span></span>
<span id="cb7-265"><a href="#cb7-265" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_tile</span>() <span class="sc">+</span></span>
<span id="cb7-266"><a href="#cb7-266" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">round</span>(<span class="st">`</span><span class="at">Distance (km)</span><span class="st">`</span>, <span class="dv">1</span>)), <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span>  <span class="co"># Add numbers</span></span>
<span id="cb7-267"><a href="#cb7-267" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_gradient</span>(<span class="at">high =</span> <span class="st">"#ff7f0e"</span>, <span class="at">low =</span> <span class="st">"white"</span>) <span class="sc">+</span>  <span class="co"># Custom colors</span></span>
<span id="cb7-268"><a href="#cb7-268" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb7-269"><a href="#cb7-269" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Transportation Costs Heatmap"</span>,</span>
<span id="cb7-270"><a href="#cb7-270" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Warehouse"</span>,</span>
<span id="cb7-271"><a href="#cb7-271" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Distribution Center"</span>) <span class="sc">+</span></span>
<span id="cb7-272"><a href="#cb7-272" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span>
<span id="cb7-273"><a href="#cb7-273" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-274"><a href="#cb7-274" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert the transportation costs matrix to a data frame</span></span>
<span id="cb7-275"><a href="#cb7-275" aria-hidden="true" tabindex="-1"></a>costs_df <span class="ot">&lt;-</span> <span class="fu">melt</span>(loading_costs_per_dc )</span>
<span id="cb7-276"><a href="#cb7-276" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(costs_df) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Warehouse"</span>, <span class="st">"Distribution_Center"</span>, <span class="st">"Transportation Cost"</span>)</span>
<span id="cb7-277"><a href="#cb7-277" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-278"><a href="#cb7-278" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the transportation costs matrix with updated colors</span></span>
<span id="cb7-279"><a href="#cb7-279" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(costs_df, <span class="fu">aes</span>(<span class="at">x =</span> Warehouse, <span class="at">y =</span> Distribution_Center, <span class="at">fill =</span> <span class="st">`</span><span class="at">Transportation Cost</span><span class="st">`</span>)) <span class="sc">+</span></span>
<span id="cb7-280"><a href="#cb7-280" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_tile</span>() <span class="sc">+</span></span>
<span id="cb7-281"><a href="#cb7-281" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">round</span>(<span class="st">`</span><span class="at">Transportation Cost</span><span class="st">`</span>, <span class="dv">1</span>)), <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span>  <span class="co"># Add numbers</span></span>
<span id="cb7-282"><a href="#cb7-282" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_gradient</span>(<span class="at">high =</span> <span class="st">"#1f77b4"</span>, <span class="at">low =</span> <span class="st">"white"</span>) <span class="sc">+</span>  <span class="co"># Custom colors</span></span>
<span id="cb7-283"><a href="#cb7-283" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb7-284"><a href="#cb7-284" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Loading Costs Heatmap"</span>,</span>
<span id="cb7-285"><a href="#cb7-285" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Warehouse"</span>,</span>
<span id="cb7-286"><a href="#cb7-286" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">""</span>) <span class="sc">+</span></span>
<span id="cb7-287"><a href="#cb7-287" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span>
<span id="cb7-288"><a href="#cb7-288" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-289"><a href="#cb7-289" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-290"><a href="#cb7-290" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb7-291"><a href="#cb7-291" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-292"><a href="#cb7-292" aria-hidden="true" tabindex="-1"></a>Sau khi đã có đủ dữ liệu, bạn sẽ bắt đầu viết hàm mục tiêu và dùng thuật toán GA để tìm ra giá trị tối ưu nhất.</span>
<span id="cb7-293"><a href="#cb7-293" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-294"><a href="#cb7-294" aria-hidden="true" tabindex="-1"></a>Trong hàm <span class="in">`ga`</span> từ gói **GA** trong R, có một số đối số quan trọng cho phép bạn tùy chỉnh thuật toán di truyền. Dưới đây là một cái nhìn tổng quan về một số đối số quan trọng:</span>
<span id="cb7-295"><a href="#cb7-295" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-296"><a href="#cb7-296" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>**type**: Chỉ định loại tối ưu hóa (ví dụ: <span class="in">`"real-valued"`</span>, <span class="in">`"binary"`</span> hoặc <span class="in">`"permutation"`</span>).</span>
<span id="cb7-297"><a href="#cb7-297" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-298"><a href="#cb7-298" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>**fitness**: Hàm đánh giá độ phù hợp; nó nên nhận một vector tham số làm đầu vào và trả về một giá trị số.</span>
<span id="cb7-299"><a href="#cb7-299" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-300"><a href="#cb7-300" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>**lower** và **upper**: Định nghĩa giới hạn cho các biến nếu bạn đang tối ưu hóa trong không gian liên tục (dùng cho các loại giá trị thực).</span>
<span id="cb7-301"><a href="#cb7-301" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-302"><a href="#cb7-302" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>**popSize**: Thiết lập kích thước quần thể cho mỗi thế hệ.</span>
<span id="cb7-303"><a href="#cb7-303" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-304"><a href="#cb7-304" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>**maxiter**: Chỉ định số thế hệ tối đa để chạy thuật toán.</span>
<span id="cb7-305"><a href="#cb7-305" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-306"><a href="#cb7-306" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>**run**: Chỉ định số thế hệ để chạy thuật toán mà không có sự cải thiện trước khi dừng lại.</span>
<span id="cb7-307"><a href="#cb7-307" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-308"><a href="#cb7-308" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>**pmutation**: Xác suất xảy ra đột biến trong quần thể.</span>
<span id="cb7-309"><a href="#cb7-309" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-310"><a href="#cb7-310" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>**elitism**: Xác định xem các cá thể tốt nhất có nên được giữ lại trong thế hệ tiếp theo hay không.</span>
<span id="cb7-311"><a href="#cb7-311" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-312"><a href="#cb7-312" aria-hidden="true" tabindex="-1"></a>Những đối số này giúp điều chỉnh thuật toán di truyền cho các nhu cầu tối ưu hóa cụ thể của bạn, cho phép hiệu suất tốt hơn và hội tụ về các giải pháp tối ưu.</span>
<span id="cb7-313"><a href="#cb7-313" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-314"><a href="#cb7-314" aria-hidden="true" tabindex="-1"></a>Ngoài ra, còn có các lưu ý cho bạn khi sử dụng R như sau:</span>
<span id="cb7-315"><a href="#cb7-315" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-316"><a href="#cb7-316" aria-hidden="true" tabindex="-1"></a>::: callout-caution</span>
<span id="cb7-317"><a href="#cb7-317" aria-hidden="true" tabindex="-1"></a><span class="fu">### Lưu ý khi dùng hàm ga():</span></span>
<span id="cb7-318"><a href="#cb7-318" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-319"><a href="#cb7-319" aria-hidden="true" tabindex="-1"></a>Hàm <span class="in">`ga()`</span> phải có ít nhất 2 đối số là <span class="in">`type`</span> và <span class="in">`fitness thì R mới chạy được.`</span></span>
<span id="cb7-320"><a href="#cb7-320" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-321"><a href="#cb7-321" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Riêng khi type = "binary" thì cần thêm đối số <span class="in">`nBits.`</span></span>
<span id="cb7-322"><a href="#cb7-322" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-323"><a href="#cb7-323" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Còn khi <span class="in">`type = "real-valued"/"permutation"`</span> thì cần thêm đối số <span class="in">`min`</span> và <span class="in">`max`</span>.</span>
<span id="cb7-324"><a href="#cb7-324" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb7-325"><a href="#cb7-325" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-328"><a href="#cb7-328" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb7-329"><a href="#cb7-329" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb7-330"><a href="#cb7-330" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb7-331"><a href="#cb7-331" aria-hidden="true" tabindex="-1"></a><span class="co">#| output: false</span></span>
<span id="cb7-332"><a href="#cb7-332" aria-hidden="true" tabindex="-1"></a><span class="co"># Load necessary library</span></span>
<span id="cb7-333"><a href="#cb7-333" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(GA)</span>
<span id="cb7-334"><a href="#cb7-334" aria-hidden="true" tabindex="-1"></a>demand<span class="ot">&lt;-</span><span class="fu">c</span>(distribution_centers<span class="sc">$</span>Demand)</span>
<span id="cb7-335"><a href="#cb7-335" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-336"><a href="#cb7-336" aria-hidden="true" tabindex="-1"></a>cost_matrix <span class="ot">=</span> transportation_costs <span class="sc">+</span> loading_costs_per_dc</span>
<span id="cb7-337"><a href="#cb7-337" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the transportation cost matrix</span></span>
<span id="cb7-338"><a href="#cb7-338" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-339"><a href="#cb7-339" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the objective function</span></span>
<span id="cb7-340"><a href="#cb7-340" aria-hidden="true" tabindex="-1"></a>objective_function <span class="ot">&lt;-</span> <span class="cf">function</span>(quantities) {</span>
<span id="cb7-341"><a href="#cb7-341" aria-hidden="true" tabindex="-1"></a>    quantities_matrix <span class="ot">&lt;-</span> <span class="fu">matrix</span>(quantities, </span>
<span id="cb7-342"><a href="#cb7-342" aria-hidden="true" tabindex="-1"></a>                                <span class="at">nrow =</span> <span class="dv">5</span>, </span>
<span id="cb7-343"><a href="#cb7-343" aria-hidden="true" tabindex="-1"></a>                                <span class="at">ncol =</span> <span class="dv">3</span>, </span>
<span id="cb7-344"><a href="#cb7-344" aria-hidden="true" tabindex="-1"></a>                                <span class="at">byrow =</span> <span class="cn">TRUE</span>)</span>
<span id="cb7-345"><a href="#cb7-345" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb7-346"><a href="#cb7-346" aria-hidden="true" tabindex="-1"></a>    total_cost <span class="ot">&lt;-</span> <span class="fu">sum</span>(quantities_matrix <span class="sc">*</span> cost_matrix)</span>
<span id="cb7-347"><a href="#cb7-347" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb7-348"><a href="#cb7-348" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Check if demands are met</span></span>
<span id="cb7-349"><a href="#cb7-349" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="fu">any</span>(<span class="fu">colSums</span>(quantities_matrix) <span class="sc">&lt;</span> demand)) {</span>
<span id="cb7-350"><a href="#cb7-350" aria-hidden="true" tabindex="-1"></a>        <span class="fu">return</span>(<span class="cn">Inf</span>)  <span class="co"># Penalize if demands are not met</span></span>
<span id="cb7-351"><a href="#cb7-351" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb7-352"><a href="#cb7-352" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb7-353"><a href="#cb7-353" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(total_cost)</span>
<span id="cb7-354"><a href="#cb7-354" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb7-355"><a href="#cb7-355" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-356"><a href="#cb7-356" aria-hidden="true" tabindex="-1"></a><span class="co"># Set up the Genetic Algorithm</span></span>
<span id="cb7-357"><a href="#cb7-357" aria-hidden="true" tabindex="-1"></a>num_vars <span class="ot">&lt;-</span> <span class="dv">5</span> <span class="sc">*</span> <span class="dv">3</span>  <span class="co"># 5 warehouses, 3 distribution centers</span></span>
<span id="cb7-358"><a href="#cb7-358" aria-hidden="true" tabindex="-1"></a>ga_result <span class="ot">&lt;-</span> <span class="fu">ga</span>(</span>
<span id="cb7-359"><a href="#cb7-359" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> <span class="st">"real-valued"</span>,</span>
<span id="cb7-360"><a href="#cb7-360" aria-hidden="true" tabindex="-1"></a>    <span class="at">fitness =</span> <span class="cf">function</span>(x) <span class="sc">-</span><span class="fu">objective_function</span>(x),  <span class="co"># Negate for maximization</span></span>
<span id="cb7-361"><a href="#cb7-361" aria-hidden="true" tabindex="-1"></a>    <span class="at">lower =</span> <span class="fu">rep</span>(<span class="dv">0</span>, num_vars),  <span class="co"># Minimum quantity</span></span>
<span id="cb7-362"><a href="#cb7-362" aria-hidden="true" tabindex="-1"></a>    <span class="at">upper =</span> <span class="fu">rep</span>(<span class="dv">100</span>, num_vars),  <span class="co"># Maximum quantity (adjust as needed)</span></span>
<span id="cb7-363"><a href="#cb7-363" aria-hidden="true" tabindex="-1"></a>    <span class="at">popSize =</span> <span class="dv">50</span>,</span>
<span id="cb7-364"><a href="#cb7-364" aria-hidden="true" tabindex="-1"></a>    <span class="at">maxiter =</span> <span class="dv">100</span>,</span>
<span id="cb7-365"><a href="#cb7-365" aria-hidden="true" tabindex="-1"></a>    <span class="at">run =</span> <span class="dv">10</span>,</span>
<span id="cb7-366"><a href="#cb7-366" aria-hidden="true" tabindex="-1"></a>    <span class="at">monitor =</span> <span class="cn">TRUE</span></span>
<span id="cb7-367"><a href="#cb7-367" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb7-368"><a href="#cb7-368" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb7-369"><a href="#cb7-369" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-370"><a href="#cb7-370" aria-hidden="true" tabindex="-1"></a>Và cuối cùng, sau khi có kết quả, mình sẽ dùng các thư viện gồm: **Leaflet**, **gt**, và **biểu đồ Sankey** phục vụ những mục đích khác nhau cho trực quan hóa dữ liệu.</span>
<span id="cb7-371"><a href="#cb7-371" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-372"><a href="#cb7-372" aria-hidden="true" tabindex="-1"></a><span class="ss">1.  </span>**Leaflet**: Đây là một thư viện mạnh mẽ để tạo bản đồ tương tác. Nó cho phép người dùng dễ dàng thêm các lớp, điểm đánh dấu và pop-up, rất lý tưởng để trực quan hóa dữ liệu địa lý. Leaflet đặc biệt hữu ích để hiển thị các dữ liệu như vị trí, lộ trình, hoặc phân bố không gian.</span>
<span id="cb7-373"><a href="#cb7-373" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-374"><a href="#cb7-374" aria-hidden="true" tabindex="-1"></a><span class="ss">2.  </span>**gt**: Gói **gt** được thiết kế để tạo ra các bảng chất lượng cao trong R. Nó cho phép người dùng định dạng và tạo kiểu cho bảng một cách dễ dàng, giúp chúng trở nên hấp dẫn và dễ đọc. gt hỗ trợ các tính năng như định dạng tùy chỉnh, dòng tóm tắt, và thậm chí thêm chú thích, nâng cao cách trình bày dữ liệu trong báo cáo.</span>
<span id="cb7-375"><a href="#cb7-375" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-376"><a href="#cb7-376" aria-hidden="true" tabindex="-1"></a><span class="ss">3.  </span>**Biểu đồ Sankey**: Những biểu đồ này được sử dụng để trực quan hóa luồng và mối quan hệ giữa các danh mục khác nhau. Trong R, gói **networkD3** hoặc **ggalluvial** có thể tạo ra biểu đồ Sankey, giúp hiểu cách các giá trị di chuyển giữa các nút, chẳng hạn như theo dõi hành trình người dùng hoặc hiển thị phân bổ tài nguyên.</span>
<span id="cb7-377"><a href="#cb7-377" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-378"><a href="#cb7-378" aria-hidden="true" tabindex="-1"></a>Nhìn chung, những công cụ này cung cấp các lựa chọn mạnh mẽ để trình bày dữ liệu một cách hấp dẫn và thông tin. Bạn có thể lựa chọn 1 trong 3 chúng, vì lý do học nên mình trình bày cả 3 luôn!.</span>
<span id="cb7-379"><a href="#cb7-379" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-382"><a href="#cb7-382" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb7-383"><a href="#cb7-383" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb7-384"><a href="#cb7-384" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb7-385"><a href="#cb7-385" aria-hidden="true" tabindex="-1"></a><span class="co">#| layout: [[100],[40,60]]</span></span>
<span id="cb7-386"><a href="#cb7-386" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-387"><a href="#cb7-387" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(leaflet)</span>
<span id="cb7-388"><a href="#cb7-388" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-389"><a href="#cb7-389" aria-hidden="true" tabindex="-1"></a><span class="co"># Create custom icons</span></span>
<span id="cb7-390"><a href="#cb7-390" aria-hidden="true" tabindex="-1"></a>warehouse_icon <span class="ot">&lt;-</span> <span class="fu">makeIcon</span>(</span>
<span id="cb7-391"><a href="#cb7-391" aria-hidden="true" tabindex="-1"></a>      <span class="at">iconUrl =</span> <span class="st">"C:/Users/locca/Documents/Xuân Lộc/R/Project R/Genetic-Algorithm/warehouse_icon.png"</span>,  <span class="co"># Update with your actual file path</span></span>
<span id="cb7-392"><a href="#cb7-392" aria-hidden="true" tabindex="-1"></a>      <span class="at">iconWidth =</span> <span class="dv">30</span>, </span>
<span id="cb7-393"><a href="#cb7-393" aria-hidden="true" tabindex="-1"></a>      <span class="at">iconHeight =</span> <span class="dv">30</span></span>
<span id="cb7-394"><a href="#cb7-394" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb7-395"><a href="#cb7-395" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-396"><a href="#cb7-396" aria-hidden="true" tabindex="-1"></a>dc_icon <span class="ot">&lt;-</span> <span class="fu">makeIcon</span>(</span>
<span id="cb7-397"><a href="#cb7-397" aria-hidden="true" tabindex="-1"></a>      <span class="at">iconUrl =</span> <span class="st">"C:/Users/locca/Documents/Xuân Lộc/R/Project R/Genetic-Algorithm/distribution_center.png"</span>,  <span class="co"># Update with your actual file path</span></span>
<span id="cb7-398"><a href="#cb7-398" aria-hidden="true" tabindex="-1"></a>      <span class="at">iconWidth =</span> <span class="dv">30</span>, </span>
<span id="cb7-399"><a href="#cb7-399" aria-hidden="true" tabindex="-1"></a>      <span class="at">iconHeight =</span> <span class="dv">30</span></span>
<span id="cb7-400"><a href="#cb7-400" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb7-401"><a href="#cb7-401" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb7-402"><a href="#cb7-402" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Assuming ga_result@solution contains optimal quantities</span></span>
<span id="cb7-403"><a href="#cb7-403" aria-hidden="true" tabindex="-1"></a>ga_result_solution <span class="ot">&lt;-</span> <span class="fu">c</span>(ga_result<span class="sc">@</span>solution)</span>
<span id="cb7-404"><a href="#cb7-404" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-405"><a href="#cb7-405" aria-hidden="true" tabindex="-1"></a><span class="co"># Reshape the solution into a matrix (5 warehouses x 3 DCs)</span></span>
<span id="cb7-406"><a href="#cb7-406" aria-hidden="true" tabindex="-1"></a>optimal_quantities <span class="ot">&lt;-</span> <span class="fu">matrix</span>(ga_result<span class="sc">@</span>solution,</span>
<span id="cb7-407"><a href="#cb7-407" aria-hidden="true" tabindex="-1"></a>                             <span class="at">nrow =</span> <span class="dv">5</span>, </span>
<span id="cb7-408"><a href="#cb7-408" aria-hidden="true" tabindex="-1"></a>                             <span class="at">ncol =</span> <span class="dv">3</span>, </span>
<span id="cb7-409"><a href="#cb7-409" aria-hidden="true" tabindex="-1"></a>                             <span class="at">byrow =</span> <span class="cn">TRUE</span>)</span>
<span id="cb7-410"><a href="#cb7-410" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-411"><a href="#cb7-411" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create the leaflet map</span></span>
<span id="cb7-412"><a href="#cb7-412" aria-hidden="true" tabindex="-1"></a>map <span class="ot">&lt;-</span> <span class="fu">leaflet</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb7-413"><a href="#cb7-413" aria-hidden="true" tabindex="-1"></a>      <span class="fu">addTiles</span>() <span class="sc">%&gt;%</span></span>
<span id="cb7-414"><a href="#cb7-414" aria-hidden="true" tabindex="-1"></a>      <span class="fu">addMarkers</span>(<span class="at">data =</span> warehouses, </span>
<span id="cb7-415"><a href="#cb7-415" aria-hidden="true" tabindex="-1"></a>                 <span class="at">lat =</span> <span class="sc">~</span>Latitude, <span class="at">lng =</span> <span class="sc">~</span>Longitude, </span>
<span id="cb7-416"><a href="#cb7-416" aria-hidden="true" tabindex="-1"></a>                 <span class="at">popup =</span> <span class="sc">~</span><span class="fu">paste</span>(<span class="st">"Warehouse ID:"</span>, ID), </span>
<span id="cb7-417"><a href="#cb7-417" aria-hidden="true" tabindex="-1"></a>                 <span class="at">icon =</span> warehouse_icon) <span class="sc">%&gt;%</span></span>
<span id="cb7-418"><a href="#cb7-418" aria-hidden="true" tabindex="-1"></a>      <span class="fu">addMarkers</span>(<span class="at">data =</span> distribution_centers, </span>
<span id="cb7-419"><a href="#cb7-419" aria-hidden="true" tabindex="-1"></a>                 <span class="at">lat =</span> <span class="sc">~</span>Latitude, <span class="at">lng =</span> <span class="sc">~</span>Longitude, </span>
<span id="cb7-420"><a href="#cb7-420" aria-hidden="true" tabindex="-1"></a>                 <span class="at">popup =</span> <span class="sc">~</span><span class="fu">paste</span>(<span class="st">"DC ID:"</span>, ID, <span class="st">"&lt;br&gt;Demand:"</span>, Demand), </span>
<span id="cb7-421"><a href="#cb7-421" aria-hidden="true" tabindex="-1"></a>                 <span class="at">icon =</span> dc_icon)</span>
<span id="cb7-422"><a href="#cb7-422" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-423"><a href="#cb7-423" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Add routes based on the optimal quantities</span></span>
<span id="cb7-424"><a href="#cb7-424" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(optimal_quantities)) {</span>
<span id="cb7-425"><a href="#cb7-425" aria-hidden="true" tabindex="-1"></a>      <span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">ncol</span>(optimal_quantities)) {</span>
<span id="cb7-426"><a href="#cb7-426" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> (optimal_quantities[i, j] <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb7-427"><a href="#cb7-427" aria-hidden="true" tabindex="-1"></a>          route_start <span class="ot">&lt;-</span> warehouses[warehouses<span class="sc">$</span>ID <span class="sc">==</span> i, <span class="fu">c</span>(<span class="st">"Longitude"</span>, <span class="st">"Latitude"</span>)]</span>
<span id="cb7-428"><a href="#cb7-428" aria-hidden="true" tabindex="-1"></a>          route_end <span class="ot">&lt;-</span> distribution_centers[distribution_centers<span class="sc">$</span>ID <span class="sc">==</span> j, <span class="fu">c</span>(<span class="st">"Longitude"</span>, <span class="st">"Latitude"</span>)]</span>
<span id="cb7-429"><a href="#cb7-429" aria-hidden="true" tabindex="-1"></a>          </span>
<span id="cb7-430"><a href="#cb7-430" aria-hidden="true" tabindex="-1"></a>map <span class="ot">&lt;-</span> map <span class="sc">%&gt;%</span></span>
<span id="cb7-431"><a href="#cb7-431" aria-hidden="true" tabindex="-1"></a>            <span class="fu">addPolylines</span>(<span class="at">lat =</span> <span class="fu">c</span>(route_start<span class="sc">$</span>Latitude, route_end<span class="sc">$</span>Latitude),</span>
<span id="cb7-432"><a href="#cb7-432" aria-hidden="true" tabindex="-1"></a>                         <span class="at">lng =</span> <span class="fu">c</span>(route_start<span class="sc">$</span>Longitude, route_end<span class="sc">$</span>Longitude),</span>
<span id="cb7-433"><a href="#cb7-433" aria-hidden="true" tabindex="-1"></a>                         <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">weight =</span> <span class="dv">2</span>, <span class="at">opacity =</span> <span class="fl">0.5</span>)</span>
<span id="cb7-434"><a href="#cb7-434" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb7-435"><a href="#cb7-435" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb7-436"><a href="#cb7-436" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb7-437"><a href="#cb7-437" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-438"><a href="#cb7-438" aria-hidden="true" tabindex="-1"></a>map <span class="sc">%&gt;%</span></span>
<span id="cb7-439"><a href="#cb7-439" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addProviderTiles</span>(providers<span class="sc">$</span>CartoDB.Positron) </span>
<span id="cb7-440"><a href="#cb7-440" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-441"><a href="#cb7-441" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gt)</span>
<span id="cb7-442"><a href="#cb7-442" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gtExtras)</span>
<span id="cb7-443"><a href="#cb7-443" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-444"><a href="#cb7-444" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Convert GA solution to a data frame</span></span>
<span id="cb7-445"><a href="#cb7-445" aria-hidden="true" tabindex="-1"></a>result <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">matrix</span>(ga_result<span class="sc">@</span>solution, <span class="at">nrow =</span> <span class="dv">5</span>, <span class="at">byrow =</span> <span class="cn">TRUE</span>))</span>
<span id="cb7-446"><a href="#cb7-446" aria-hidden="true" tabindex="-1"></a>    <span class="fu">colnames</span>(result) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"DC1"</span>, <span class="st">"DC2"</span>, <span class="st">"DC3"</span>)</span>
<span id="cb7-447"><a href="#cb7-447" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rownames</span>(result) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"WH1"</span>, <span class="st">"WH2"</span>, <span class="st">"WH3"</span>, <span class="st">"WH4"</span>, <span class="st">"WH5"</span>)</span>
<span id="cb7-448"><a href="#cb7-448" aria-hidden="true" tabindex="-1"></a>result <span class="ot">&lt;-</span> <span class="fu">cbind</span>(<span class="at">Workload =</span> <span class="fu">rownames</span>(result), result)</span>
<span id="cb7-449"><a href="#cb7-449" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-450"><a href="#cb7-450" aria-hidden="true" tabindex="-1"></a>result_long <span class="ot">&lt;-</span> result <span class="sc">%&gt;%</span> </span>
<span id="cb7-451"><a href="#cb7-451" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">starts_with</span>(<span class="st">"DC"</span>), <span class="at">names_to =</span> <span class="st">"Distribution_Center"</span>, <span class="at">values_to =</span> <span class="st">"Quantity"</span>)</span>
<span id="cb7-452"><a href="#cb7-452" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create and display the table</span></span>
<span id="cb7-453"><a href="#cb7-453" aria-hidden="true" tabindex="-1"></a>result_long <span class="sc">%&gt;%</span></span>
<span id="cb7-454"><a href="#cb7-454" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">%&gt;%</span></span>
<span id="cb7-455"><a href="#cb7-455" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_header</span>(<span class="at">title =</span> <span class="st">"Details Planning Table"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb7-456"><a href="#cb7-456" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cols_label</span>(<span class="at">Distribution_Center =</span> <span class="st">"Distribution Center"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb7-457"><a href="#cb7-457" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_row_group</span>(</span>
<span id="cb7-458"><a href="#cb7-458" aria-hidden="true" tabindex="-1"></a>    <span class="at">label =</span> <span class="fu">html</span>(<span class="st">"&lt;strong&gt;&lt;img src='https://upload.wikimedia.org/wikipedia/commons/5/56/Flag_of_Laos.svg' width='20' /&gt; Laos&lt;/strong&gt;"</span>),</span>
<span id="cb7-459"><a href="#cb7-459" aria-hidden="true" tabindex="-1"></a>    <span class="at">rows =</span> Distribution_Center <span class="sc">==</span> <span class="st">"DC1"</span></span>
<span id="cb7-460"><a href="#cb7-460" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb7-461"><a href="#cb7-461" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_row_group</span>(</span>
<span id="cb7-462"><a href="#cb7-462" aria-hidden="true" tabindex="-1"></a>    <span class="at">label =</span> <span class="fu">html</span>(<span class="st">"&lt;strong&gt;&lt;img src='https://upload.wikimedia.org/wikipedia/commons/thumb/2/21/Flag_of_Vietnam.svg/345px-Flag_of_Vietnam.svg.png' width='20' /&gt; Vietnam&lt;/strong&gt;"</span>),</span>
<span id="cb7-463"><a href="#cb7-463" aria-hidden="true" tabindex="-1"></a>    <span class="at">rows =</span> Distribution_Center <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"DC2"</span>, <span class="st">"DC3"</span>)</span>
<span id="cb7-464"><a href="#cb7-464" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb7-465"><a href="#cb7-465" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fmt_number</span>(<span class="at">columns =</span> <span class="fu">c</span>(Quantity), <span class="at">decimals =</span> <span class="dv">2</span>) <span class="sc">%&gt;%</span></span>
<span id="cb7-466"><a href="#cb7-466" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cols_label</span>(<span class="at">Workload =</span> <span class="st">"Warehouse"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb7-467"><a href="#cb7-467" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_style</span>(<span class="at">style =</span> <span class="fu">list</span>(<span class="fu">cell_text</span>(<span class="at">align =</span> <span class="st">"center"</span>)),</span>
<span id="cb7-468"><a href="#cb7-468" aria-hidden="true" tabindex="-1"></a>            <span class="at">locations =</span> <span class="fu">cells_body</span>(<span class="at">columns =</span> <span class="fu">everything</span>())) <span class="sc">%&gt;%</span></span>
<span id="cb7-469"><a href="#cb7-469" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_source_note</span>(<span class="at">source =</span> <span class="fu">md</span>(<span class="st">"*Source: package gt in R*"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb7-470"><a href="#cb7-470" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt_theme_excel</span>() <span class="sc">%&gt;%</span></span>
<span id="cb7-471"><a href="#cb7-471" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summary_rows</span>(</span>
<span id="cb7-472"><a href="#cb7-472" aria-hidden="true" tabindex="-1"></a>    <span class="at">groups =</span> <span class="fu">everything</span>(),</span>
<span id="cb7-473"><a href="#cb7-473" aria-hidden="true" tabindex="-1"></a>    <span class="at">columns =</span> Quantity, </span>
<span id="cb7-474"><a href="#cb7-474" aria-hidden="true" tabindex="-1"></a>    <span class="at">fns =</span> <span class="fu">list</span>(<span class="at">Total =</span> <span class="sc">~</span><span class="fu">sum</span>(.),</span>
<span id="cb7-475"><a href="#cb7-475" aria-hidden="true" tabindex="-1"></a>               <span class="at">Count =</span> <span class="sc">~</span><span class="fu">n</span>()))<span class="sc">%&gt;%</span> </span>
<span id="cb7-476"><a href="#cb7-476" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_footnote</span>(</span>
<span id="cb7-477"><a href="#cb7-477" aria-hidden="true" tabindex="-1"></a>    <span class="at">footnote =</span> <span class="fu">md</span>(<span class="st">"**Count** means number of shipment."</span>),</span>
<span id="cb7-478"><a href="#cb7-478" aria-hidden="true" tabindex="-1"></a>    <span class="at">locations =</span> <span class="fu">cells_summary</span>(<span class="at">rows =</span> <span class="st">"Count"</span>)</span>
<span id="cb7-479"><a href="#cb7-479" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb7-480"><a href="#cb7-480" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_footnote</span>(</span>
<span id="cb7-481"><a href="#cb7-481" aria-hidden="true" tabindex="-1"></a>    <span class="at">footnote =</span> <span class="fu">md</span>(<span class="st">"**Total** means the optimal quantity of good."</span>),</span>
<span id="cb7-482"><a href="#cb7-482" aria-hidden="true" tabindex="-1"></a>    <span class="at">locations =</span> <span class="fu">cells_summary</span>(<span class="at">rows =</span> <span class="st">"Total"</span>)</span>
<span id="cb7-483"><a href="#cb7-483" aria-hidden="true" tabindex="-1"></a>  ) </span>
<span id="cb7-484"><a href="#cb7-484" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-485"><a href="#cb7-485" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(networkD3)</span>
<span id="cb7-486"><a href="#cb7-486" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(jsonlite)</span>
<span id="cb7-487"><a href="#cb7-487" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-488"><a href="#cb7-488" aria-hidden="true" tabindex="-1"></a><span class="co"># Define colors for nodes</span></span>
<span id="cb7-489"><a href="#cb7-489" aria-hidden="true" tabindex="-1"></a>colors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"#1f77b4"</span>, <span class="st">"#ff7f0e"</span>, <span class="st">"#2ca02c"</span>, <span class="st">"#d62728"</span>, <span class="st">"#9467bd"</span>, <span class="st">"#8c564b"</span>, <span class="st">"#e377c2"</span>, <span class="st">"#7f7f7f"</span>, <span class="st">"#bcbd22"</span>, <span class="st">"#17becf"</span>)</span>
<span id="cb7-490"><a href="#cb7-490" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-491"><a href="#cb7-491" aria-hidden="true" tabindex="-1"></a><span class="co"># Define example data</span></span>
<span id="cb7-492"><a href="#cb7-492" aria-hidden="true" tabindex="-1"></a>Warehouses <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Warehouse 1"</span>, <span class="st">"Warehouse 2"</span>, <span class="st">"Warehouse 3"</span>, <span class="st">"Warehouse 4"</span>, <span class="st">"Warehouse 5"</span>)</span>
<span id="cb7-493"><a href="#cb7-493" aria-hidden="true" tabindex="-1"></a>Distribution_centers <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"DC 1"</span>, <span class="st">"DC 2"</span>, <span class="st">"DC 3"</span>)</span>
<span id="cb7-494"><a href="#cb7-494" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-495"><a href="#cb7-495" aria-hidden="true" tabindex="-1"></a><span class="co"># Create nodes data frame</span></span>
<span id="cb7-496"><a href="#cb7-496" aria-hidden="true" tabindex="-1"></a>nodes <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">name =</span> <span class="fu">c</span>(Warehouses, Distribution_centers))</span>
<span id="cb7-497"><a href="#cb7-497" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-498"><a href="#cb7-498" aria-hidden="true" tabindex="-1"></a><span class="co"># Assign colors based on node index</span></span>
<span id="cb7-499"><a href="#cb7-499" aria-hidden="true" tabindex="-1"></a>node_colors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(Warehouses), <span class="at">each =</span> <span class="dv">1</span>), <span class="fu">rep</span>(<span class="fu">length</span>(Warehouses) <span class="sc">+</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(Distribution_centers), <span class="at">each =</span> <span class="dv">1</span>))</span>
<span id="cb7-500"><a href="#cb7-500" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-501"><a href="#cb7-501" aria-hidden="true" tabindex="-1"></a><span class="co"># Create links data frame</span></span>
<span id="cb7-502"><a href="#cb7-502" aria-hidden="true" tabindex="-1"></a>links <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb7-503"><a href="#cb7-503" aria-hidden="true" tabindex="-1"></a>  <span class="at">source =</span> <span class="fu">rep</span>(<span class="dv">0</span><span class="sc">:</span>(<span class="fu">nrow</span>(optimal_quantities) <span class="sc">-</span> <span class="dv">1</span>), <span class="at">each =</span> <span class="fu">ncol</span>(optimal_quantities)),  </span>
<span id="cb7-504"><a href="#cb7-504" aria-hidden="true" tabindex="-1"></a>  <span class="at">target =</span> <span class="fu">as.vector</span>(<span class="fu">sapply</span>(<span class="dv">0</span><span class="sc">:</span>(<span class="fu">ncol</span>(optimal_quantities) <span class="sc">-</span> <span class="dv">1</span>), </span>
<span id="cb7-505"><a href="#cb7-505" aria-hidden="true" tabindex="-1"></a>                             <span class="cf">function</span>(j) <span class="fu">rep</span>(<span class="fu">nrow</span>(optimal_quantities) <span class="sc">+</span> j, <span class="fu">nrow</span>(optimal_quantities)))),  </span>
<span id="cb7-506"><a href="#cb7-506" aria-hidden="true" tabindex="-1"></a>  <span class="at">value =</span> <span class="fu">as.vector</span>(optimal_quantities)  </span>
<span id="cb7-507"><a href="#cb7-507" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb7-508"><a href="#cb7-508" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-509"><a href="#cb7-509" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a Sankey diagram with node colors</span></span>
<span id="cb7-510"><a href="#cb7-510" aria-hidden="true" tabindex="-1"></a>sankey <span class="ot">&lt;-</span> <span class="fu">sankeyNetwork</span>(<span class="at">Links =</span> links, </span>
<span id="cb7-511"><a href="#cb7-511" aria-hidden="true" tabindex="-1"></a>                        <span class="at">Nodes =</span> nodes, </span>
<span id="cb7-512"><a href="#cb7-512" aria-hidden="true" tabindex="-1"></a>                        <span class="at">Source =</span> <span class="st">"source"</span>, </span>
<span id="cb7-513"><a href="#cb7-513" aria-hidden="true" tabindex="-1"></a>                        <span class="at">Target =</span> <span class="st">"target"</span>, </span>
<span id="cb7-514"><a href="#cb7-514" aria-hidden="true" tabindex="-1"></a>                        <span class="at">Value =</span> <span class="st">"value"</span>,</span>
<span id="cb7-515"><a href="#cb7-515" aria-hidden="true" tabindex="-1"></a>                        <span class="at">NodeID =</span> <span class="st">"name"</span>,</span>
<span id="cb7-516"><a href="#cb7-516" aria-hidden="true" tabindex="-1"></a>                        <span class="at">colourScale =</span> <span class="fu">JS</span>(<span class="fu">paste0</span>(<span class="st">"d3.scaleOrdinal().domain([0,"</span>, <span class="fu">length</span>(colors) <span class="sc">-</span> <span class="dv">1</span>, <span class="st">"]).range("</span>, <span class="fu">toJSON</span>(colors), <span class="st">");"</span>)),</span>
<span id="cb7-517"><a href="#cb7-517" aria-hidden="true" tabindex="-1"></a>                        <span class="at">height =</span> <span class="dv">900</span>,  <span class="co"># Adjust height to reduce vertical space</span></span>
<span id="cb7-518"><a href="#cb7-518" aria-hidden="true" tabindex="-1"></a>                        <span class="at">width =</span> <span class="dv">1000</span>)   <span class="co"># Adjust width to fit more nodes in one line</span></span>
<span id="cb7-519"><a href="#cb7-519" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-520"><a href="#cb7-520" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-521"><a href="#cb7-521" aria-hidden="true" tabindex="-1"></a><span class="do">## Add title and caption:</span></span>
<span id="cb7-522"><a href="#cb7-522" aria-hidden="true" tabindex="-1"></a>sankey <span class="ot">&lt;-</span> htmlwidgets<span class="sc">::</span><span class="fu">prependContent</span>(sankey, htmltools<span class="sc">::</span>tags<span class="sc">$</span><span class="fu">h1</span>(<span class="st">"Sankey chart"</span>))</span>
<span id="cb7-523"><a href="#cb7-523" aria-hidden="true" tabindex="-1"></a>sankey <span class="ot">&lt;-</span> htmlwidgets<span class="sc">::</span><span class="fu">appendContent</span>(sankey, htmltools<span class="sc">::</span>tags<span class="sc">$</span><span class="fu">p</span>(<span class="at">style =</span> <span class="st">"font-size: 14px; text-align: center;"</span>, <span class="st">" A wider arrow indicates that a larger quantity is being sent from that warehouse to a distribution center."</span>))</span>
<span id="cb7-524"><a href="#cb7-524" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-525"><a href="#cb7-525" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the Sankey diagram</span></span>
<span id="cb7-526"><a href="#cb7-526" aria-hidden="true" tabindex="-1"></a>sankey</span>
<span id="cb7-527"><a href="#cb7-527" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb7-528"><a href="#cb7-528" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-529"><a href="#cb7-529" aria-hidden="true" tabindex="-1"></a><span class="fu">## Mô hình MILP:</span></span>
<span id="cb7-530"><a href="#cb7-530" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-531"><a href="#cb7-531" aria-hidden="true" tabindex="-1"></a><span class="fu">### Giới thiệu sơ lược:</span></span>
<span id="cb7-532"><a href="#cb7-532" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-533"><a href="#cb7-533" aria-hidden="true" tabindex="-1"></a>**MILP (Mixed Integer Linear Programming)** là một phương pháp tối ưu hóa được sử dụng trong các bài toán lập kế hoạch, phân bổ tài nguyên, và quyết định trong các lĩnh vực như logistics, sản xuất, tài chính, và nhiều lĩnh vực khác. MILP là một phần mở rộng của lập trình tuyến tính (Linear Programming - LP), trong đó có các biến là số nguyên (integer variables) bên cạnh các biến liên tục (continuous variables).</span>
<span id="cb7-534"><a href="#cb7-534" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-535"><a href="#cb7-535" aria-hidden="true" tabindex="-1"></a>Trong đó, cấu trúc của một bài toán MILP bao gồm:</span>
<span id="cb7-536"><a href="#cb7-536" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-537"><a href="#cb7-537" aria-hidden="true" tabindex="-1"></a><span class="ss">1.  </span>**Hàm mục tiêu**: Là một hàm tuyến tính mà bạn muốn tối ưu hóa (tối đa hóa hoặc tối thiểu hóa).</span>
<span id="cb7-538"><a href="#cb7-538" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-539"><a href="#cb7-539" aria-hidden="true" tabindex="-1"></a>    $$</span>
<span id="cb7-540"><a href="#cb7-540" aria-hidden="true" tabindex="-1"></a>    \text{Maximize or Minimize } Z = c_1x_1 + c_2x_2 + \ldots + c_nx_n</span>
<span id="cb7-541"><a href="#cb7-541" aria-hidden="true" tabindex="-1"></a>    $$</span>
<span id="cb7-542"><a href="#cb7-542" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-543"><a href="#cb7-543" aria-hidden="true" tabindex="-1"></a><span class="ss">2.  </span>**Ràng buộc**: Bao gồm các điều kiện tuyến tính mà các biến phải thỏa mãn.</span>
<span id="cb7-544"><a href="#cb7-544" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-545"><a href="#cb7-545" aria-hidden="true" tabindex="-1"></a>    $$</span>
<span id="cb7-546"><a href="#cb7-546" aria-hidden="true" tabindex="-1"></a>    a_{11}x_1 + a_{12}x_2 + \ldots + a_{1n}x_n \leq b_1</span>
<span id="cb7-547"><a href="#cb7-547" aria-hidden="true" tabindex="-1"></a>    $$</span>
<span id="cb7-548"><a href="#cb7-548" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-549"><a href="#cb7-549" aria-hidden="true" tabindex="-1"></a>    $$</span>
<span id="cb7-550"><a href="#cb7-550" aria-hidden="true" tabindex="-1"></a>    a_{21}x_1 + a_{22}x_2 + \ldots + a_{2n}x_n \leq b_2</span>
<span id="cb7-551"><a href="#cb7-551" aria-hidden="true" tabindex="-1"></a>    $$</span>
<span id="cb7-552"><a href="#cb7-552" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-553"><a href="#cb7-553" aria-hidden="true" tabindex="-1"></a>    ... và nhiều ràng buộc khác.</span>
<span id="cb7-554"><a href="#cb7-554" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-555"><a href="#cb7-555" aria-hidden="true" tabindex="-1"></a><span class="ss">3.  </span>**Biến quyết định**: Các biến trong bài toán có thể là:</span>
<span id="cb7-556"><a href="#cb7-556" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-557"><a href="#cb7-557" aria-hidden="true" tabindex="-1"></a><span class="ss">    -   </span>Biến liên tục: Có thể nhận mọi giá trị thực (ví dụ: số lượng sản phẩm).</span>
<span id="cb7-558"><a href="#cb7-558" aria-hidden="true" tabindex="-1"></a><span class="ss">    -   </span>Biến nguyên: Chỉ nhận giá trị nguyên (ví dụ: số lượng xe tải).</span>
<span id="cb7-559"><a href="#cb7-559" aria-hidden="true" tabindex="-1"></a><span class="ss">    -   </span>Biến nhị phân: Chỉ nhận giá trị 0 hoặc 1 (ví dụ: có hoặc không sử dụng một nhà máy).</span>
<span id="cb7-560"><a href="#cb7-560" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-561"><a href="#cb7-561" aria-hidden="true" tabindex="-1"></a>**Ứng dụng của MILP**</span>
<span id="cb7-562"><a href="#cb7-562" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-563"><a href="#cb7-563" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>**Quản lý chuỗi cung ứng**: Tối ưu hóa việc phân phối hàng hóa từ các kho đến các khách hàng.</span>
<span id="cb7-564"><a href="#cb7-564" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>**Lập kế hoạch sản xuất**: Xác định số lượng sản phẩm cần sản xuất để tối đa hóa lợi nhuận hoặc giảm chi phí.</span>
<span id="cb7-565"><a href="#cb7-565" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>**Tối ưu hóa lịch trình**: Lập lịch cho nhân viên, máy móc, hoặc tài nguyên để tối ưu hóa hiệu suất.</span>
<span id="cb7-566"><a href="#cb7-566" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>**Quy hoạch đô thị**: Tối ưu hóa việc sử dụng đất và tài nguyên trong quy hoạch thành phố.</span>
<span id="cb7-567"><a href="#cb7-567" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-568"><a href="#cb7-568" aria-hidden="true" tabindex="-1"></a>Trong R có các thư viện như <span class="in">`lpSolve`</span>, <span class="in">`ompr`</span>, và <span class="in">`ROI`</span> có thể được sử dụng để giải quyết các bài toán MILP.</span>
<span id="cb7-569"><a href="#cb7-569" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-570"><a href="#cb7-570" aria-hidden="true" tabindex="-1"></a><span class="fu">### Ví dụ:</span></span>
<span id="cb7-571"><a href="#cb7-571" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-572"><a href="#cb7-572" aria-hidden="true" tabindex="-1"></a>MILP là một công cụ mạnh mẽ cho việc tối ưu hóa trong nhiều lĩnh vực khác nhau. Với khả năng kết hợp giữa các biến liên tục và số nguyên, MILP có thể giải quyết nhiều bài toán phức tạp mà các phương pháp tối ưu hóa khác không thể thực hiện hiệu quả.</span>
<span id="cb7-573"><a href="#cb7-573" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-574"><a href="#cb7-574" aria-hidden="true" tabindex="-1"></a>Gỉa sử ta có bài toán về vấn đề **Transshipment** có yêu cầu là tìm ra phương án vận tải tối ưu nhất để vận chuyển hàng hóa từ nhà máy (**Factory**) thông qua **Crossdocking** và đến được **Distribution Center** với mục tiêu là đạt **chi phí thấp nhất**.</span>
<span id="cb7-575"><a href="#cb7-575" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-576"><a href="#cb7-576" aria-hidden="true" tabindex="-1"></a><span class="al">![Hình 5: Vấn đề Transshipment](transshipment.png)</span>{fig-align="center"}</span>
<span id="cb7-577"><a href="#cb7-577" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-578"><a href="#cb7-578" aria-hidden="true" tabindex="-1"></a>Vì bài toán này thuộc dạng tuyến tính, phương pháp MILP sẽ làm tốt hơn nhiều so với thuật toán GA bên trên.</span>
<span id="cb7-579"><a href="#cb7-579" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-582"><a href="#cb7-582" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb7-583"><a href="#cb7-583" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb7-584"><a href="#cb7-584" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb7-585"><a href="#cb7-585" aria-hidden="true" tabindex="-1"></a><span class="co">#| output: false</span></span>
<span id="cb7-586"><a href="#cb7-586" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ompr)</span>
<span id="cb7-587"><a href="#cb7-587" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ompr.roi)</span>
<span id="cb7-588"><a href="#cb7-588" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ROI.plugin.glpk)</span>
<span id="cb7-589"><a href="#cb7-589" aria-hidden="true" tabindex="-1"></a><span class="co">#Input:</span></span>
<span id="cb7-590"><a href="#cb7-590" aria-hidden="true" tabindex="-1"></a>Supply <span class="ot">&lt;-</span><span class="fu">c</span>(<span class="dv">200</span>,<span class="dv">300</span>,<span class="dv">100</span>,<span class="dv">150</span>,<span class="dv">220</span>)</span>
<span id="cb7-591"><a href="#cb7-591" aria-hidden="true" tabindex="-1"></a>Demand <span class="ot">&lt;-</span><span class="fu">c</span>(<span class="dv">150</span>,<span class="dv">100</span>,<span class="dv">110</span>,<span class="dv">200</span>,<span class="dv">180</span>)</span>
<span id="cb7-592"><a href="#cb7-592" aria-hidden="true" tabindex="-1"></a>DC<span class="ot">&lt;-</span><span class="dv">2</span></span>
<span id="cb7-593"><a href="#cb7-593" aria-hidden="true" tabindex="-1"></a>m<span class="ot">&lt;-</span><span class="fu">length</span>(Supply)</span>
<span id="cb7-594"><a href="#cb7-594" aria-hidden="true" tabindex="-1"></a>n<span class="ot">&lt;-</span><span class="fu">length</span>(Demand)</span>
<span id="cb7-595"><a href="#cb7-595" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-596"><a href="#cb7-596" aria-hidden="true" tabindex="-1"></a>Cost_CD<span class="ot">&lt;-</span><span class="fu">read.table</span>(<span class="at">text =</span> </span>
<span id="cb7-597"><a href="#cb7-597" aria-hidden="true" tabindex="-1"></a>                    <span class="st">"CD1 CD2</span></span>
<span id="cb7-598"><a href="#cb7-598" aria-hidden="true" tabindex="-1"></a><span class="st">                     30 50</span></span>
<span id="cb7-599"><a href="#cb7-599" aria-hidden="true" tabindex="-1"></a><span class="st">                     23 66</span></span>
<span id="cb7-600"><a href="#cb7-600" aria-hidden="true" tabindex="-1"></a><span class="st">                     35 14</span></span>
<span id="cb7-601"><a href="#cb7-601" aria-hidden="true" tabindex="-1"></a><span class="st">                     70 12</span></span>
<span id="cb7-602"><a href="#cb7-602" aria-hidden="true" tabindex="-1"></a><span class="st">                     65 70"</span>,<span class="at">header =</span> T)</span>
<span id="cb7-603"><a href="#cb7-603" aria-hidden="true" tabindex="-1"></a>Cost_DC<span class="ot">&lt;-</span><span class="fu">read.table</span>(<span class="at">text =</span> </span>
<span id="cb7-604"><a href="#cb7-604" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"DC1 DC2 DC3 DC4 DC5</span></span>
<span id="cb7-605"><a href="#cb7-605" aria-hidden="true" tabindex="-1"></a><span class="st">                       12 25 22 40 41</span></span>
<span id="cb7-606"><a href="#cb7-606" aria-hidden="true" tabindex="-1"></a><span class="st">                       65 22 23 12 15"</span>,<span class="at">header =</span> T)</span>
<span id="cb7-607"><a href="#cb7-607" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-608"><a href="#cb7-608" aria-hidden="true" tabindex="-1"></a><span class="co">#MILP model from the </span></span>
<span id="cb7-609"><a href="#cb7-609" aria-hidden="true" tabindex="-1"></a>model5 <span class="ot">&lt;-</span> <span class="fu">MIPModel</span>() <span class="sc">%&gt;%</span></span>
<span id="cb7-610"><a href="#cb7-610" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add variable</span></span>
<span id="cb7-611"><a href="#cb7-611" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_variable</span>(x[i, j], <span class="at">i =</span> <span class="dv">1</span><span class="sc">:</span>m, <span class="at">j =</span> <span class="dv">1</span><span class="sc">:</span>DC) <span class="sc">%&gt;%</span></span>
<span id="cb7-612"><a href="#cb7-612" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_variable</span>(y[j, k], <span class="at">j =</span> <span class="dv">1</span><span class="sc">:</span>DC, <span class="at">k =</span> <span class="dv">1</span><span class="sc">:</span>n) <span class="sc">%&gt;%</span></span>
<span id="cb7-613"><a href="#cb7-613" aria-hidden="true" tabindex="-1"></a>  <span class="co"># minimize the cost of transshipment:</span></span>
<span id="cb7-614"><a href="#cb7-614" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_objective</span>(<span class="fu">sum_expr</span>(x[i, j]<span class="sc">*</span>Cost_CD[i, j],<span class="at">i =</span> <span class="dv">1</span><span class="sc">:</span>m, <span class="at">j =</span> <span class="dv">1</span><span class="sc">:</span>DC)<span class="sc">+</span> <span class="fu">sum_expr</span>(y[j, k]<span class="sc">*</span>Cost_DC[j, k], <span class="at">k =</span> <span class="dv">1</span><span class="sc">:</span>n, <span class="at">j =</span> <span class="dv">1</span><span class="sc">:</span>DC),<span class="st">"min"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb7-615"><a href="#cb7-615" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_constraint</span>(<span class="fu">sum_expr</span>(y[j, k], <span class="at">j =</span> <span class="dv">1</span><span class="sc">:</span>DC) <span class="sc">&gt;=</span> Demand[k], <span class="at">k =</span> <span class="dv">1</span><span class="sc">:</span>n) <span class="sc">%&gt;%</span></span>
<span id="cb7-616"><a href="#cb7-616" aria-hidden="true" tabindex="-1"></a>  <span class="co"># The amount of inventory in Crossdocking is smaller than production goods</span></span>
<span id="cb7-617"><a href="#cb7-617" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_constraint</span>(<span class="fu">sum_expr</span>(x[i, j], <span class="at">j =</span> <span class="dv">1</span><span class="sc">:</span>DC) <span class="sc">&lt;=</span> Supply[i], <span class="at">i =</span> <span class="dv">1</span><span class="sc">:</span>m) <span class="sc">%&gt;%</span> </span>
<span id="cb7-618"><a href="#cb7-618" aria-hidden="true" tabindex="-1"></a>  <span class="co"># The amount of is bigger than demand in DC</span></span>
<span id="cb7-619"><a href="#cb7-619" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_constraint</span>(<span class="fu">sum_expr</span>(x[i, j], <span class="at">i =</span> <span class="dv">1</span><span class="sc">:</span>m) <span class="sc">-</span> <span class="fu">sum_expr</span>(y[j, k], <span class="at">k =</span> <span class="dv">1</span><span class="sc">:</span>n) <span class="sc">&gt;=</span> <span class="dv">0</span>,<span class="at">j =</span> <span class="dv">1</span><span class="sc">:</span>DC) <span class="sc">%&gt;%</span></span>
<span id="cb7-620"><a href="#cb7-620" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_constraint</span>(x[i, j] <span class="sc">&gt;=</span> <span class="dv">0</span>, <span class="at">j =</span> <span class="dv">1</span><span class="sc">:</span>DC, <span class="at">i =</span> <span class="dv">1</span><span class="sc">:</span>m)<span class="sc">%&gt;%</span> </span>
<span id="cb7-621"><a href="#cb7-621" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_constraint</span>(y[j, k] <span class="sc">&gt;=</span> <span class="dv">0</span>, <span class="at">j =</span> <span class="dv">1</span><span class="sc">:</span>DC, <span class="at">k =</span> <span class="dv">1</span><span class="sc">:</span>n)<span class="sc">%&gt;%</span> </span>
<span id="cb7-622"><a href="#cb7-622" aria-hidden="true" tabindex="-1"></a>  <span class="co">#Solve the model:</span></span>
<span id="cb7-623"><a href="#cb7-623" aria-hidden="true" tabindex="-1"></a>  <span class="fu">solve_model</span>(<span class="fu">with_ROI</span>(<span class="at">solver =</span> <span class="st">"glpk"</span>, <span class="at">verbose =</span> <span class="cn">TRUE</span>))</span>
<span id="cb7-624"><a href="#cb7-624" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb7-625"><a href="#cb7-625" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-628"><a href="#cb7-628" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb7-629"><a href="#cb7-629" aria-hidden="true" tabindex="-1"></a><span class="co">#| layout-nrow: 2</span></span>
<span id="cb7-630"><a href="#cb7-630" aria-hidden="true" tabindex="-1"></a><span class="do">## Barchart:</span></span>
<span id="cb7-631"><a href="#cb7-631" aria-hidden="true" tabindex="-1"></a>solution <span class="ot">&lt;-</span> <span class="fu">get_solution</span>(model5, x[i, j]) <span class="sc">%&gt;%</span> </span>
<span id="cb7-632"><a href="#cb7-632" aria-hidden="true" tabindex="-1"></a>     <span class="fu">filter</span>(value <span class="sc">&gt;</span> <span class="dv">0</span>)</span>
<span id="cb7-633"><a href="#cb7-633" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-634"><a href="#cb7-634" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb7-635"><a href="#cb7-635" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb7-636"><a href="#cb7-636" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-637"><a href="#cb7-637" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming `solution` contains the results of x[i, j]</span></span>
<span id="cb7-638"><a href="#cb7-638" aria-hidden="true" tabindex="-1"></a><span class="co"># Transform the solution into a tidy format for plotting</span></span>
<span id="cb7-639"><a href="#cb7-639" aria-hidden="true" tabindex="-1"></a>plot_data <span class="ot">&lt;-</span> solution <span class="sc">%&gt;%</span></span>
<span id="cb7-640"><a href="#cb7-640" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">Manufacter=</span> i, <span class="at">DC =</span> j, <span class="at">Flow =</span> value) <span class="sc">%&gt;%</span></span>
<span id="cb7-641"><a href="#cb7-641" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Manufacter =</span> <span class="fu">paste</span>(<span class="st">"Manufacter"</span>, Manufacter),</span>
<span id="cb7-642"><a href="#cb7-642" aria-hidden="true" tabindex="-1"></a>         <span class="at">DC =</span> <span class="fu">paste</span>(<span class="st">"DC"</span>, DC))</span>
<span id="cb7-643"><a href="#cb7-643" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-644"><a href="#cb7-644" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a plot</span></span>
<span id="cb7-645"><a href="#cb7-645" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(plot_data, <span class="fu">aes</span>(<span class="at">x =</span> Manufacter, <span class="at">y =</span> Flow, <span class="at">fill =</span> DC)) <span class="sc">+</span></span>
<span id="cb7-646"><a href="#cb7-646" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"dodge"</span>) <span class="sc">+</span></span>
<span id="cb7-647"><a href="#cb7-647" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb7-648"><a href="#cb7-648" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Transshipment Flow from Manufacters to Distribution Centers"</span>,</span>
<span id="cb7-649"><a href="#cb7-649" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Manufacters"</span>,</span>
<span id="cb7-650"><a href="#cb7-650" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Flow Amount"</span>,</span>
<span id="cb7-651"><a href="#cb7-651" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">"Distribution Centers"</span>) <span class="sc">+</span></span>
<span id="cb7-652"><a href="#cb7-652" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>),</span>
<span id="cb7-653"><a href="#cb7-653" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb7-654"><a href="#cb7-654" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"Set2"</span>)</span>
<span id="cb7-655"><a href="#cb7-655" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-656"><a href="#cb7-656" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-657"><a href="#cb7-657" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gt)</span>
<span id="cb7-658"><a href="#cb7-658" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-659"><a href="#cb7-659" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming `solution` contains the results of x[i, j]</span></span>
<span id="cb7-660"><a href="#cb7-660" aria-hidden="true" tabindex="-1"></a><span class="co"># Transform the solution into a tidy format for the table</span></span>
<span id="cb7-661"><a href="#cb7-661" aria-hidden="true" tabindex="-1"></a>table_data <span class="ot">&lt;-</span> solution <span class="sc">%&gt;%</span></span>
<span id="cb7-662"><a href="#cb7-662" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">Manufacturer =</span> i, <span class="at">DC =</span> j, <span class="at">Flow =</span> value) <span class="sc">%&gt;%</span></span>
<span id="cb7-663"><a href="#cb7-663" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Manufacturer =</span> <span class="fu">paste</span>(<span class="st">"Manufacturer"</span>, Manufacturer),</span>
<span id="cb7-664"><a href="#cb7-664" aria-hidden="true" tabindex="-1"></a>         <span class="at">DC =</span> <span class="fu">paste</span>(<span class="st">"DC"</span>, DC)) <span class="sc">%&gt;%</span> </span>
<span id="cb7-665"><a href="#cb7-665" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>variable)</span>
<span id="cb7-666"><a href="#cb7-666" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-667"><a href="#cb7-667" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a gt table</span></span>
<span id="cb7-668"><a href="#cb7-668" aria-hidden="true" tabindex="-1"></a>table_data <span class="sc">%&gt;%</span></span>
<span id="cb7-669"><a href="#cb7-669" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">%&gt;%</span></span>
<span id="cb7-670"><a href="#cb7-670" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_header</span>(</span>
<span id="cb7-671"><a href="#cb7-671" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="fu">md</span>(<span class="st">"**Transshipment Flows from Manufacturers to Distribution Centers**"</span>)</span>
<span id="cb7-672"><a href="#cb7-672" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb7-673"><a href="#cb7-673" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cols_label</span>(</span>
<span id="cb7-674"><a href="#cb7-674" aria-hidden="true" tabindex="-1"></a>    <span class="at">Manufacturer =</span> <span class="st">"Manufacturer"</span>,</span>
<span id="cb7-675"><a href="#cb7-675" aria-hidden="true" tabindex="-1"></a>    <span class="at">DC =</span> <span class="st">"Distribution Center"</span>,</span>
<span id="cb7-676"><a href="#cb7-676" aria-hidden="true" tabindex="-1"></a>    <span class="at">Flow =</span> <span class="st">"Flow Amount"</span></span>
<span id="cb7-677"><a href="#cb7-677" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb7-678"><a href="#cb7-678" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fmt_number</span>(</span>
<span id="cb7-679"><a href="#cb7-679" aria-hidden="true" tabindex="-1"></a>    <span class="at">columns =</span> <span class="fu">c</span>(Flow),</span>
<span id="cb7-680"><a href="#cb7-680" aria-hidden="true" tabindex="-1"></a>    <span class="at">decimals =</span> <span class="dv">2</span></span>
<span id="cb7-681"><a href="#cb7-681" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb7-682"><a href="#cb7-682" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_style</span>(</span>
<span id="cb7-683"><a href="#cb7-683" aria-hidden="true" tabindex="-1"></a>    <span class="at">style =</span> <span class="fu">list</span>(</span>
<span id="cb7-684"><a href="#cb7-684" aria-hidden="true" tabindex="-1"></a>      <span class="fu">cell_fill</span>(<span class="at">color =</span> <span class="st">"lightblue"</span>)</span>
<span id="cb7-685"><a href="#cb7-685" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb7-686"><a href="#cb7-686" aria-hidden="true" tabindex="-1"></a>    <span class="at">locations =</span> <span class="fu">cells_body</span>(</span>
<span id="cb7-687"><a href="#cb7-687" aria-hidden="true" tabindex="-1"></a>      <span class="at">columns =</span> <span class="fu">c</span>(Flow),</span>
<span id="cb7-688"><a href="#cb7-688" aria-hidden="true" tabindex="-1"></a>      <span class="at">rows =</span> Flow <span class="sc">&gt;</span> <span class="dv">0</span></span>
<span id="cb7-689"><a href="#cb7-689" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb7-690"><a href="#cb7-690" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb7-691"><a href="#cb7-691" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_options</span>(</span>
<span id="cb7-692"><a href="#cb7-692" aria-hidden="true" tabindex="-1"></a>    <span class="at">table.width =</span> <span class="fu">pct</span>(<span class="dv">100</span>)</span>
<span id="cb7-693"><a href="#cb7-693" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb7-694"><a href="#cb7-694" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt_theme_excel</span>()</span>
<span id="cb7-695"><a href="#cb7-695" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb7-696"><a href="#cb7-696" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-697"><a href="#cb7-697" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;div&gt;</span></span>
<span id="cb7-698"><a href="#cb7-698" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;hr&gt;</span></span>
<span id="cb7-699"><a href="#cb7-699" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-700"><a href="#cb7-700" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;h3&gt;</span> Share <span class="kw">&lt;/h3&gt;</span></span>
<span id="cb7-701"><a href="#cb7-701" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;a</span> <span class="er">href</span><span class="ot">=</span><span class="st">"https://github.com/Loccx78vn/"</span> <span class="er">target</span><span class="ot">=</span><span class="st">"_blank"</span> <span class="er">class</span><span class="ot">=</span><span class="st">"github-button"</span><span class="kw">&gt;</span>Visit my GitHub<span class="kw">&lt;/a&gt;</span></span>
<span id="cb7-702"><a href="#cb7-702" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-703"><a href="#cb7-703" aria-hidden="true" tabindex="-1"></a>  <span class="kw">&lt;hr&gt;</span></span>
<span id="cb7-704"><a href="#cb7-704" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/div&gt;</span></span>
<span id="cb7-705"><a href="#cb7-705" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-706"><a href="#cb7-706" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;style&gt;</span></span>
<span id="cb7-707"><a href="#cb7-707" aria-hidden="true" tabindex="-1"></a><span class="fu">.github-button</span> {</span>
<span id="cb7-708"><a href="#cb7-708" aria-hidden="true" tabindex="-1"></a>  <span class="kw">display</span>: <span class="dv">inline-block</span><span class="op">;</span></span>
<span id="cb7-709"><a href="#cb7-709" aria-hidden="true" tabindex="-1"></a>  <span class="kw">padding</span>: <span class="dv">10</span><span class="dt">px</span> <span class="dv">20</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb7-710"><a href="#cb7-710" aria-hidden="true" tabindex="-1"></a>  <span class="kw">font-size</span>: <span class="dv">16</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb7-711"><a href="#cb7-711" aria-hidden="true" tabindex="-1"></a>  <span class="kw">color</span>: <span class="cn">white</span><span class="op">;</span></span>
<span id="cb7-712"><a href="#cb7-712" aria-hidden="true" tabindex="-1"></a>  <span class="kw">background-color</span>: <span class="cn">#007bff</span><span class="op">;</span> <span class="co">/* Bootstrap primary color */</span></span>
<span id="cb7-713"><a href="#cb7-713" aria-hidden="true" tabindex="-1"></a>  <span class="kw">border</span>: <span class="dv">none</span><span class="op">;</span></span>
<span id="cb7-714"><a href="#cb7-714" aria-hidden="true" tabindex="-1"></a>  <span class="kw">border-radius</span>: <span class="dv">5</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb7-715"><a href="#cb7-715" aria-hidden="true" tabindex="-1"></a>  <span class="kw">text-decoration</span>: <span class="dv">none</span><span class="op">;</span></span>
<span id="cb7-716"><a href="#cb7-716" aria-hidden="true" tabindex="-1"></a>  <span class="kw">text-align</span>: <span class="dv">center</span><span class="op">;</span></span>
<span id="cb7-717"><a href="#cb7-717" aria-hidden="true" tabindex="-1"></a>  <span class="kw">transition</span>: background-color <span class="dv">0.3</span><span class="dt">s</span><span class="op">;</span></span>
<span id="cb7-718"><a href="#cb7-718" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb7-719"><a href="#cb7-719" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-720"><a href="#cb7-720" aria-hidden="true" tabindex="-1"></a><span class="fu">.github-button</span><span class="in">:hover</span> {</span>
<span id="cb7-721"><a href="#cb7-721" aria-hidden="true" tabindex="-1"></a>  <span class="kw">background-color</span>: <span class="cn">#0056b3</span><span class="op">;</span> <span class="co">/* Darker shade on hover */</span></span>
<span id="cb7-722"><a href="#cb7-722" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb7-723"><a href="#cb7-723" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/style&gt;</span></span>
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">© Copyright 2024, Loc cao</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">Built with <a href="https://quarto.org/">Quarto</a></div>
  </div>
</footer>



</body></html>