[
  {
    "objectID": "GA.html",
    "href": "GA.html",
    "title": "Genetic Algorithms in R",
    "section": "",
    "text": "GA hay Genetic Algorithm l√† 1 thu·∫≠t to√°n t·ªëi ∆∞u h√≥a ng·∫´u nhi√™n (stochastic search algorithms), ƒë∆∞·ª£c ph√°t tri·ªÉn d·ª±a tr√™n l√Ω thuy·∫øt ti·∫øn h√≥a v√† s·ª± ch·ªçn l·ªçc t·ª± nhi√™n c·ªßa sinh h·ªçc (Luca Scrucca 2013).\n·ªû th·ªùi c·∫•p 3, b·∫°n ƒë√£ t·ª´ng h·ªçc v·ªÅ l√Ω thuy·∫øt ti·∫øn h√≥a v√† ch·ªçn l·ªçc t·ª± nhi√™n c·ªßa Charles Darwin v√† Alfred Russel ·ªü m√¥n Sinh h·ªçc. N·∫øu b·∫°n c≈©ng t·ª´ng li·ªát Sinh nh∆∞ t√¥i th√¨ b·∫°n qu√™n c≈©ng kh√¥ng sao üòÖüòÖ. V·∫≠y th√¨ ƒë·ªÉ t√¥i gi·∫£i th√≠ch l·∫°i nh∆∞ sau:\nS·ª± ti·∫øn h√≥a l√† s·ª± thay ƒë·ªïi ƒë·∫∑c ƒëi·ªÉm di truy·ªÅn c·ªßa 1 qu·∫ßn th·ªÉ sinh v·∫≠t, v√≠ d·ª• ƒëi·ªÉn h√¨nh ch√≠nh l√† t·ª´ lo·∫°i v∆∞·ª£n ƒë√£ ti·∫øn h√≥a th√†nh h√¨nh d·∫°ng con ng∆∞·ªùi vƒÉn minh nh∆∞ c√°c b·∫°n b√¢y gi·ªù. V·∫≠y qu√° tr√¨nh ti·∫øn h√≥a ƒë√≥ di·ªÖn ra khi c√≥ s·ª± ch·ªçn l·ªçc t·ª± nhi√™n t·∫°o ra c√°c bi·∫øn d·ªã di truy·ªÅn (V√≠ d·ª•: ƒë·ªôt bi·∫øn,‚Ä¶) v√† k·∫øt qu·∫£ l√† c√°c c√° th·ªÉ ƒë·ªôt bi·∫øn tr·ªü n√™n ph·ªï bi·∫øn h∆°n ho·∫∑c hi·∫øm g·∫∑p h∆°n trong qu·∫ßn th·ªÉ. V·∫≠y ƒëi·ªÅu ki·ªán ƒë·ªÉ x·∫£y ra s·ª± ch·ªçn l·ªçc t·ª± nhi√™n c√≥ th·ªÉ l√† s·ª± thay ƒë·ªïi v·ªÅ m√¥i tr∆∞·ªùng s·ªëng, ƒë·ªãa l√Ω,‚Ä¶ d·∫´n t·ªõi s·ª± kh√°c nhau v·ªÅ kh·∫£ nƒÉng s·ªëng s√≥t v√† sinh s·∫£n.\nK·∫øt c·ª•c l√† xu·∫•t hi·ªán c√°c c√° th·ªÉ ƒë·ªôt bi·∫øn ‚Äúm·∫°nh m·∫Ω h∆°n‚Äù ho·∫∑c ƒë√∫ng l√† ‚Äúƒë·∫∑c bi·ªát h∆°n‚Äù c√≥ kh·∫£ nƒÉng t·ªìn t·∫°i khi xu·∫•t hi·ªán s·ª± thay ƒë·ªïi l·ªõn, v√≠ d·ª• nh∆∞ d∆∞·ªõi ƒë√¢y, do s·ª± thay ƒë·ªïi v·ªÅ ƒë·ªãa ƒëi·ªÉm s·ªëng, t·ª´ m·ªôt lo·∫°i chim s·∫ª ƒë√£ ph√°t tri·ªÉn th√†nh 3 ph√¢n h·ªç kh√°c nhau.\n\n\n\nH√¨nh 1: V√≠ d·ª• v·ªÅ ch·ªçn l·ªçc t·ª± nhi√™n\n\n\nV·∫≠y l√≠ thuy·∫øt n√†y li√™n quan g√¨ t·ªõi v·∫•n ƒë·ªÅ t·ªëi ∆∞u h√≥a. Th√¥ng th∆∞·ªùng khi b·∫°n mu·ªën t·ªëi ∆∞u h√≥a m·ªôt v·∫•n ƒë·ªÅ g√¨ ƒë√≥, b·∫°n c·∫ßn x√¢y d·ª±ng m√¥ h√¨nh ƒë·ªãnh l∆∞·ª£ng n√≥, v√≠ d·ª• nh∆∞ d∆∞·ªõi ·∫£nh n√†y ta ƒëang c√≥ m√¥ h√¨nh MILP nh·∫±m ho·∫°ch ƒë·ªãnh tuy·∫øn ƒë∆∞·ªùng v√† t·ªëi ∆∞u h√≥a qu√£ng ƒë∆∞·ªùng di chuy·ªÉn.\n\n\n\nH√¨nh 2: M√¥ h√¨nh VRP\n\n\nM·ª•c ti√™u c·ªßa h√†m ch√≠nh l√† t√¨m ra gi√° tr·ªã nh·ªè nh·∫•t nghƒ©a l√† chi ph√≠ cho vi·ªác di chuy·ªÉn c·ªßa xe l√† nh·ªè nh·∫•t. Do ƒë√≥, b·∫°n c√≥ th·ªÉ h√¨nh dung r·∫±ng gi√° tr·ªã nh·ªè nh·∫•t ƒë√≥ nh∆∞ l√† c√°c c√° th·ªÉ ƒë·ªôt bi·∫øn c√≥ kh·∫£ nƒÉng s·ªëng s√≥t cao nh·∫•t trong qu·∫©n th·ªÉ.\nV√¨ v·∫≠y thu·∫≠t to√°n Genetic (GA) ch√≠nh l√† l·∫∑p ƒëi l·∫∑p l·∫°i s·ª± ch·ªçn l·ªçc t·ª± nhi√™n trong m·ªôt qu·∫ßn th·ªÉ ho·∫∑c m·ªôt m·∫´u ƒë·ªÉ ƒë·∫øn cu·ªëi c√πng t√¨m ra c√° th·ªÉ v∆∞·ª£t tr·ªôi nh·∫•t.\n\n\n\nTrong Machine Learning, GA nh·∫±m t√¨m ra ƒë√∫ng c√°c bi·∫øn c·∫ßn thi·∫øt ƒë·ªÉ x√¢y d·ª±ng m√¥ h√¨nh t·ªët nh·∫•t. G·ªâa s·ª≠ ch√∫ng ta c√≥ 2 m√¥ h√¨nh l√†:\n\nM√¥ h√¨nh 1: g·ªìm c√°c bi·∫øn A,C,D.\nM√¥ h√¨nh 2: g·ªìm bi·∫øn A,B,E.\n\nV·∫≠y m√¥ h√¨nh n√†o m·ªõi l√† t·ªët nh·∫•t cho m√¥ h√¨nh d·ª± ƒëo√°n ? Ch√∫ng ta ch∆∞a bi·∫øt ƒë∆∞·ª£c v√† ch·ªâ c√≥ th·ªÉ so s√°nh n√≥ th√¥ng qua thu·∫≠t to√°n Genetic.\nV·ªÅ quy tr√¨nh, thu·∫≠t to√°n Genetic s·∫Ω c√≥ c√°ch ho·∫°t ƒë·ªông nh∆∞ d∆∞·ªõi ƒë√¢y. Quy tr√¨nh n√†y m√¨nh tham kh·∫£o c·ªßa (Rohith Gandhi 2018).\n\n\n\nH√¨nh 3: Thu·∫≠t to√°n Genetic\n\n\nDi·ªÖn gi·∫£i c√°ch ho·∫°t ƒë·ªông:\n\nB∆∞·ªõc 1 (Initialisation): m·ªói bi·∫øn ƒë∆∞·ª£c xem l√† Gene v√† nhi·ªÅu Gene g·ªôp l·∫°i th√†nh m·ªôt m√¥ h√¨nh hay g·ªçi l√† Chromosome v√† nhi·ªÅu Chromosome s·∫Ω t·∫°o th√†nh m·ªôt qu·∫ßn th·ªÉ (Population). Vi·ªác n√†y gi·ªëng nh∆∞ l√† b·∫°n ƒëang tr√¨nh b√†y h·∫øt c√°c ph∆∞∆°ng √°n c√≥ th·ªÉ s·ª≠ d·ª•ng.\n\n\n\n\nH√¨nh 4: C√°c thu·∫≠t ng·ªØ trong GA\n\n\n\nB∆∞·ªõc 2 (Fitness Function): B·∫°n c·∫ßn x√¢y d·ª±ng m·ªôt h√†m m·ª•c ti√™u ƒë·ªÉ t√≠nh to√°n gi√° tr·ªã cho c√°c m√¥ h√¨nh ·ªü b∆∞·ªõc 1.\nB∆∞·ªõc 3 (Selection): Bi·∫øn n√†o c√≥ gi√° tr·ªã y·∫øu k√©m s·∫Ω b·ªã lo·∫°i v√† qu√° tr√¨nh t√≠nh to√°n s·∫Ω ti·∫øp t·ª•c ·ªü th·∫ø h·ªá c·ªßa n√≥ ti·∫øp theo. Di·ªÖn gi·∫£i ƒë∆°n gi·∫£n h∆°n l√† ch√∫ng ta th·ª≠ m·ªôt c√°ch kh√°c v√† c·ªë g·∫Øng c·∫£i thi·ªán k·∫øt qu·∫£.\nB∆∞·ªõc 4 (Crossover): T·∫°o ra m√¥ h√¨nh g·ªìm c√°c bi·∫øn t·ªët ƒë√£ l·ª±a ch·ªçn ·ªü b∆∞·ªõc 3. V√≠ d·ª• nh∆∞ bi·∫øn A, B l√† t·ªët cho m√¥ h√¨nh.\nB∆∞·ªõc 5 (Mutation): Thay ƒë·ªïi m√¥ h√¨nh ƒë·∫ßu v√†o ƒë√£ bao g·ªìm c√°c bi·∫øn ·ªü b∆∞·ªõc 4 v√† b·∫Øt ƒë·∫ßu l·∫°i t·ª´ b∆∞·ªõc 1. V√≠ d·ª• m√¥ h√¨nh c·∫ßn ch·ªçn g·ªìm 5 bi·∫øn v√† ta ƒë√£ ch·ªçn ƒë∆∞·ª£c bi·∫øn A,B l√† t·ªët. Do ƒë√≥, khi quay l·∫°i b∆∞·ªõc 1, ta ch·ªâ c·∫ßn ch·ªçn th√™m 3 bi·∫øn thay v√¨ 5 bi·∫øn nh∆∞ th√¥ng th∆∞·ªùng."
  },
  {
    "objectID": "GA.html#v√†i-ƒëi·ªÉm-v·ªÅ-thu·∫≠t-to√°n-genetic",
    "href": "GA.html#v√†i-ƒëi·ªÉm-v·ªÅ-thu·∫≠t-to√°n-genetic",
    "title": "Genetic Algorithms in R",
    "section": "",
    "text": "GA hay Genetic Algorithm l√† 1 thu·∫≠t to√°n t·ªëi ∆∞u h√≥a ng·∫´u nhi√™n (stochastic search algorithms), ƒë∆∞·ª£c ph√°t tri·ªÉn d·ª±a tr√™n l√Ω thuy·∫øt ti·∫øn h√≥a v√† s·ª± ch·ªçn l·ªçc t·ª± nhi√™n c·ªßa sinh h·ªçc (Luca Scrucca 2013).\n·ªû th·ªùi c·∫•p 3, b·∫°n ƒë√£ t·ª´ng h·ªçc v·ªÅ l√Ω thuy·∫øt ti·∫øn h√≥a v√† ch·ªçn l·ªçc t·ª± nhi√™n c·ªßa Charles Darwin v√† Alfred Russel ·ªü m√¥n Sinh h·ªçc. N·∫øu b·∫°n c≈©ng t·ª´ng li·ªát Sinh nh∆∞ t√¥i th√¨ b·∫°n qu√™n c≈©ng kh√¥ng sao üòÖüòÖ. V·∫≠y th√¨ ƒë·ªÉ t√¥i gi·∫£i th√≠ch l·∫°i nh∆∞ sau:\nS·ª± ti·∫øn h√≥a l√† s·ª± thay ƒë·ªïi ƒë·∫∑c ƒëi·ªÉm di truy·ªÅn c·ªßa 1 qu·∫ßn th·ªÉ sinh v·∫≠t, v√≠ d·ª• ƒëi·ªÉn h√¨nh ch√≠nh l√† t·ª´ lo·∫°i v∆∞·ª£n ƒë√£ ti·∫øn h√≥a th√†nh h√¨nh d·∫°ng con ng∆∞·ªùi vƒÉn minh nh∆∞ c√°c b·∫°n b√¢y gi·ªù. V·∫≠y qu√° tr√¨nh ti·∫øn h√≥a ƒë√≥ di·ªÖn ra khi c√≥ s·ª± ch·ªçn l·ªçc t·ª± nhi√™n t·∫°o ra c√°c bi·∫øn d·ªã di truy·ªÅn (V√≠ d·ª•: ƒë·ªôt bi·∫øn,‚Ä¶) v√† k·∫øt qu·∫£ l√† c√°c c√° th·ªÉ ƒë·ªôt bi·∫øn tr·ªü n√™n ph·ªï bi·∫øn h∆°n ho·∫∑c hi·∫øm g·∫∑p h∆°n trong qu·∫ßn th·ªÉ. V·∫≠y ƒëi·ªÅu ki·ªán ƒë·ªÉ x·∫£y ra s·ª± ch·ªçn l·ªçc t·ª± nhi√™n c√≥ th·ªÉ l√† s·ª± thay ƒë·ªïi v·ªÅ m√¥i tr∆∞·ªùng s·ªëng, ƒë·ªãa l√Ω,‚Ä¶ d·∫´n t·ªõi s·ª± kh√°c nhau v·ªÅ kh·∫£ nƒÉng s·ªëng s√≥t v√† sinh s·∫£n.\nK·∫øt c·ª•c l√† xu·∫•t hi·ªán c√°c c√° th·ªÉ ƒë·ªôt bi·∫øn ‚Äúm·∫°nh m·∫Ω h∆°n‚Äù ho·∫∑c ƒë√∫ng l√† ‚Äúƒë·∫∑c bi·ªát h∆°n‚Äù c√≥ kh·∫£ nƒÉng t·ªìn t·∫°i khi xu·∫•t hi·ªán s·ª± thay ƒë·ªïi l·ªõn, v√≠ d·ª• nh∆∞ d∆∞·ªõi ƒë√¢y, do s·ª± thay ƒë·ªïi v·ªÅ ƒë·ªãa ƒëi·ªÉm s·ªëng, t·ª´ m·ªôt lo·∫°i chim s·∫ª ƒë√£ ph√°t tri·ªÉn th√†nh 3 ph√¢n h·ªç kh√°c nhau.\n\n\n\nH√¨nh 1: V√≠ d·ª• v·ªÅ ch·ªçn l·ªçc t·ª± nhi√™n\n\n\nV·∫≠y l√≠ thuy·∫øt n√†y li√™n quan g√¨ t·ªõi v·∫•n ƒë·ªÅ t·ªëi ∆∞u h√≥a. Th√¥ng th∆∞·ªùng khi b·∫°n mu·ªën t·ªëi ∆∞u h√≥a m·ªôt v·∫•n ƒë·ªÅ g√¨ ƒë√≥, b·∫°n c·∫ßn x√¢y d·ª±ng m√¥ h√¨nh ƒë·ªãnh l∆∞·ª£ng n√≥, v√≠ d·ª• nh∆∞ d∆∞·ªõi ·∫£nh n√†y ta ƒëang c√≥ m√¥ h√¨nh MILP nh·∫±m ho·∫°ch ƒë·ªãnh tuy·∫øn ƒë∆∞·ªùng v√† t·ªëi ∆∞u h√≥a qu√£ng ƒë∆∞·ªùng di chuy·ªÉn.\n\n\n\nH√¨nh 2: M√¥ h√¨nh VRP\n\n\nM·ª•c ti√™u c·ªßa h√†m ch√≠nh l√† t√¨m ra gi√° tr·ªã nh·ªè nh·∫•t nghƒ©a l√† chi ph√≠ cho vi·ªác di chuy·ªÉn c·ªßa xe l√† nh·ªè nh·∫•t. Do ƒë√≥, b·∫°n c√≥ th·ªÉ h√¨nh dung r·∫±ng gi√° tr·ªã nh·ªè nh·∫•t ƒë√≥ nh∆∞ l√† c√°c c√° th·ªÉ ƒë·ªôt bi·∫øn c√≥ kh·∫£ nƒÉng s·ªëng s√≥t cao nh·∫•t trong qu·∫©n th·ªÉ.\nV√¨ v·∫≠y thu·∫≠t to√°n Genetic (GA) ch√≠nh l√† l·∫∑p ƒëi l·∫∑p l·∫°i s·ª± ch·ªçn l·ªçc t·ª± nhi√™n trong m·ªôt qu·∫ßn th·ªÉ ho·∫∑c m·ªôt m·∫´u ƒë·ªÉ ƒë·∫øn cu·ªëi c√πng t√¨m ra c√° th·ªÉ v∆∞·ª£t tr·ªôi nh·∫•t."
  },
  {
    "objectID": "GA.html#c√°ch-ho·∫°t-ƒë·ªông-ga-trong-ml",
    "href": "GA.html#c√°ch-ho·∫°t-ƒë·ªông-ga-trong-ml",
    "title": "Genetic Algorithms in R",
    "section": "",
    "text": "Trong Machine Learning, GA nh·∫±m t√¨m ra ƒë√∫ng c√°c bi·∫øn c·∫ßn thi·∫øt ƒë·ªÉ x√¢y d·ª±ng m√¥ h√¨nh t·ªët nh·∫•t. G·ªâa s·ª≠ ch√∫ng ta c√≥ 2 m√¥ h√¨nh l√†:\n\nM√¥ h√¨nh 1: g·ªìm c√°c bi·∫øn A,C,D.\nM√¥ h√¨nh 2: g·ªìm bi·∫øn A,B,E.\n\nV·∫≠y m√¥ h√¨nh n√†o m·ªõi l√† t·ªët nh·∫•t cho m√¥ h√¨nh d·ª± ƒëo√°n ? Ch√∫ng ta ch∆∞a bi·∫øt ƒë∆∞·ª£c v√† ch·ªâ c√≥ th·ªÉ so s√°nh n√≥ th√¥ng qua thu·∫≠t to√°n Genetic.\nV·ªÅ quy tr√¨nh, thu·∫≠t to√°n Genetic s·∫Ω c√≥ c√°ch ho·∫°t ƒë·ªông nh∆∞ d∆∞·ªõi ƒë√¢y. Quy tr√¨nh n√†y m√¨nh tham kh·∫£o c·ªßa (Rohith Gandhi 2018).\n\n\n\nH√¨nh 3: Thu·∫≠t to√°n Genetic\n\n\nDi·ªÖn gi·∫£i c√°ch ho·∫°t ƒë·ªông:\n\nB∆∞·ªõc 1 (Initialisation): m·ªói bi·∫øn ƒë∆∞·ª£c xem l√† Gene v√† nhi·ªÅu Gene g·ªôp l·∫°i th√†nh m·ªôt m√¥ h√¨nh hay g·ªçi l√† Chromosome v√† nhi·ªÅu Chromosome s·∫Ω t·∫°o th√†nh m·ªôt qu·∫ßn th·ªÉ (Population). Vi·ªác n√†y gi·ªëng nh∆∞ l√† b·∫°n ƒëang tr√¨nh b√†y h·∫øt c√°c ph∆∞∆°ng √°n c√≥ th·ªÉ s·ª≠ d·ª•ng.\n\n\n\n\nH√¨nh 4: C√°c thu·∫≠t ng·ªØ trong GA\n\n\n\nB∆∞·ªõc 2 (Fitness Function): B·∫°n c·∫ßn x√¢y d·ª±ng m·ªôt h√†m m·ª•c ti√™u ƒë·ªÉ t√≠nh to√°n gi√° tr·ªã cho c√°c m√¥ h√¨nh ·ªü b∆∞·ªõc 1.\nB∆∞·ªõc 3 (Selection): Bi·∫øn n√†o c√≥ gi√° tr·ªã y·∫øu k√©m s·∫Ω b·ªã lo·∫°i v√† qu√° tr√¨nh t√≠nh to√°n s·∫Ω ti·∫øp t·ª•c ·ªü th·∫ø h·ªá c·ªßa n√≥ ti·∫øp theo. Di·ªÖn gi·∫£i ƒë∆°n gi·∫£n h∆°n l√† ch√∫ng ta th·ª≠ m·ªôt c√°ch kh√°c v√† c·ªë g·∫Øng c·∫£i thi·ªán k·∫øt qu·∫£.\nB∆∞·ªõc 4 (Crossover): T·∫°o ra m√¥ h√¨nh g·ªìm c√°c bi·∫øn t·ªët ƒë√£ l·ª±a ch·ªçn ·ªü b∆∞·ªõc 3. V√≠ d·ª• nh∆∞ bi·∫øn A, B l√† t·ªët cho m√¥ h√¨nh.\nB∆∞·ªõc 5 (Mutation): Thay ƒë·ªïi m√¥ h√¨nh ƒë·∫ßu v√†o ƒë√£ bao g·ªìm c√°c bi·∫øn ·ªü b∆∞·ªõc 4 v√† b·∫Øt ƒë·∫ßu l·∫°i t·ª´ b∆∞·ªõc 1. V√≠ d·ª• m√¥ h√¨nh c·∫ßn ch·ªçn g·ªìm 5 bi·∫øn v√† ta ƒë√£ ch·ªçn ƒë∆∞·ª£c bi·∫øn A,B l√† t·ªët. Do ƒë√≥, khi quay l·∫°i b∆∞·ªõc 1, ta ch·ªâ c·∫ßn ch·ªçn th√™m 3 bi·∫øn thay v√¨ 5 bi·∫øn nh∆∞ th√¥ng th∆∞·ªùng."
  },
  {
    "objectID": "GA.html#thu·∫≠t-to√°n-genetic",
    "href": "GA.html#thu·∫≠t-to√°n-genetic",
    "title": "Genetic Algorithms in R",
    "section": "2.1 Thu·∫≠t to√°n Genetic:",
    "text": "2.1 Thu·∫≠t to√°n Genetic:\nV·∫≠y b√¢y gi·ªù ch√∫ng ta s·∫Ω x·ª≠ l√≠ b√†i to√°n tr√™n theo thu·∫≠t to√°n Genetic\nG·ªâa s·ª≠ ch√∫ng ta c√≥ b√†i to√°n v·ªÅ v·∫≠n chuy·ªÉn h√†ng t·ª´ nh√† kho ƒë·ªÉ th·ªèa m√£n nhu c·∫ßu ·ªü c√°c ƒëi·ªÉm DC (Distribution center). V√† c√¥ng th·ª©c ƒë·ªÉ t√≠nh to√°n ƒë∆∞·ª£c chi ph√≠ l√†:\nH√†m chi ph√≠ t·ªïng th·ªÉ ƒë∆∞·ª£c x√°c ƒë·ªãnh nh∆∞ sau:\n\\[\nTC = \\sum_{i=1}^{m} \\left( D_{ij} \\times \\frac{P}{F} \\times 0.4 + LC_i \\right) \\times Q_j\n\\] V√¨ v·∫≠y, n·∫øu trong c√¥ng vi·ªác, ch√∫ng ta s·∫Ω c·∫ßn l·∫•y d·ªØ li·ªáu t·ª´ Data warehouse b·∫±ng SQL ho·∫∑c c√°c ph·∫ßn m·ªÅm Business Intelligence kh√°c. ·ªû ƒë√¢y, nh·∫±m minh h·ªça, m√¨nh ƒë√£ t·∫°o ra code ·ªü ph√≠a d∆∞·ªõi ƒë·ªÉ c√°c b·∫°n luy·ªán t·∫≠p.\n\n\nCode\n# Create a data frame for loading costs\nloading_costs &lt;- data.frame(\n  Warehouse = rep(paste(\"WH\", 1:5), each = 4),\n  ID = rep(1:5, times = 4),\n  Weight_Category = rep(c(\"&lt; 2 tons\", \"2 to 5 tons\", \"5 to 10 tons\", \"&gt; 10 tons\"), times = 5),\n  Has_Machine = rep(c(\"Yes\", \"No\", \"Yes\", \"No\", \"No\"), each = 4),\n  Loading_Cost = c(80, 100, 120, 160,  # Warehouse 1 (with machine)\n                   110, 150, 180, 210,  # Warehouse 2 (without machine)\n                   85, 105, 125, 140,  # Warehouse 3 (with machine)\n                   150, 170, 190, 210,  # Warehouse 4 (without machine)\n                   140, 165, 185, 215)   # Warehouse 5 (without machine)\n)\n\n# Set seed for reproducibility\nset.seed(123)\n\n# Define parameters\nweight_categories &lt;- c(\"&lt; 1.5\", \"1.5 to 2.5\", \"2.5 to 5\", \"5 to 10\", \"&gt; 10\")\n# Create the data frame\nloading_costs &lt;- data.frame(\n  Warehouse = rep(1:5, each = 15),  # 5 warehouses, 15 rows each\n  DC = rep(rep(1:3, each = 5), times = 5),  # Repeat 1, 2, 3 for each warehouse\n  Weight_Category = rep(weight_categories, times = 15),  # Repeat categories for 15 rows\n  Loading_Cost = round(runif(75, 5, 150), 2),\n  Has_Machine = sample(c(\"Yes\", \"No\"), 75, replace = TRUE)\n)\n\n# Define warehouses with coordinates (latitude, longitude)\nwarehouses &lt;- data.frame(\n  ID = 1:5,\n  Latitude = c(21.0285, 16.0545, 10.7769, 14.0583, 19.8060), # Example latitudes (Hanoi, HCMC, Da Nang, etc.)\n  Longitude = c(105.804, 108.2022, 106.6957, 108.2772, 105.7460) # Example longitudes\n)\n\n# Define distribution centers data in Vietnam (example coordinates)\ndistribution_centers &lt;- data.frame(\n  ID = 1:3,\n  Demand = c(90, 30, 150),\n  Latitude = c(17.974855, 11.7769, 15.122327), # Example latitudes (Hanoi, Da Nang, HCMC)\n  Longitude = c(102.630867, 106.6957, 108.799357) # Example longitudes\n)\n\n\nN·∫øu b·∫°n g·∫∑p kh√≥ khƒÉn trong vi·ªác ph·∫£i ƒë·ªëi m·∫∑t v·ªõi c·∫£ ƒë·ªëng d·ªØ li·ªáu t·ª´ h·ªá th·ªëng v√† ch∆∞a bi·∫øt l·∫•y d·ªØ li·ªáu n√†o ƒë·ªÉ ph√¢n t√≠ch ho·∫∑c g·ªôp b·∫£ng n√†o qua b·∫£ng n√†o th√¨ l·ªùi khuy√™n c·ªßa t√¥i l√† h√£y v·∫Ω b·∫£ng Entity relation diagram (ERD). C√°c b·∫°n c√≥ th·ªÉ d·ªÖ d√†ng h√¨nh dung c√°c m·ªëi quan h·ªá th√¥ng qua b·∫£ng Entity relation diagram (ERD) d∆∞·ªõi ƒë√¢y:\n\n\n\n\n\nBi·ªÉu ƒë·ªì 1: EDR model\n\n\nERD l√† m·ªôt c√¥ng c·ª• tr·ª±c quan d√πng ƒë·ªÉ m√¥ t·∫£ c·∫•u tr√∫c d·ªØ li·ªáu trong c∆° s·ªü d·ªØ li·ªáu. ERD th·ªÉ hi·ªán c√°c th·ª±c th·ªÉ (entities), thu·ªôc t√≠nh (attributes), v√† c√°c m·ªëi quan h·ªá (relationships) gi·ªØa ch√∫ng. C√°c th·ª±c th·ªÉ th∆∞·ªùng ƒë∆∞·ª£c bi·ªÉu di·ªÖn d∆∞·ªõi d·∫°ng h√¨nh ch·ªØ nh·∫≠t, thu·ªôc t√≠nh d∆∞·ªõi d·∫°ng h√¨nh ellips, v√† m·ªëi quan h·ªá b·∫±ng h√¨nh thoi ho·∫∑c ƒë∆∞·ªùng n·ªëi. ERD gi√∫p l·∫≠p k·∫ø ho·∫°ch cho thi·∫øt k·∫ø c∆° s·ªü d·ªØ li·ªáu, ƒë·∫£m b·∫£o r·∫±ng c√°c y·∫øu t·ªë d·ªØ li·ªáu v√† quan h·ªá gi·ªØa ch√∫ng ƒë∆∞·ª£c x√°c ƒë·ªãnh r√µ r√†ng, t·∫°o n·ªÅn t·∫£ng cho vi·ªác ph√°t tri·ªÉn v√† qu·∫£n l√Ω d·ªØ li·ªáu hi·ªáu qu·∫£.\n\n\n\n\n\n\nT·∫£i package datamodelr:\n\n\n\nM√¨nh t·∫°o bi·ªÉu ƒë·ªì n√†y b·∫±ng th∆∞ vi·ªán datamodelr. B·∫°n c√≥ th·ªÉ t·∫£i b·∫±ng c√∫ ph√°p: devtools::install_github(\"bergant/datamodelr\")\n\n\nNh∆∞ v·∫≠y, d·ª±a v√†o ƒë√≥, ta s·∫Ω t√≠nh to√°n ƒë∆∞·ª£c 2 b·∫£ng quan tr·ªçng:\n\nB·∫£ng gi√° loading ·ªü c√°c kho. (H√¨nh b√™n tr√°i)\nB·∫£ng chi ph√≠ v·∫≠n chuy·ªÉn t·ª´ t·ª´ng WH ƒë·∫øn c√°c DCs. (H√¨nh b√™n ph·∫£i)\n\n\n\nCode\n## Calculate the transportation cost:\n# Haversine distance function\nhaversine &lt;- function(lat1, lon1, lat2, lon2) {\n  R &lt;- 6371 # Radius of Earth in kilometers\n  dlat &lt;- (lat2 - lat1) * pi / 180\n  dlon &lt;- (lon2 - lon1) * pi / 180\n  a &lt;- sin(dlat / 2) * sin(dlat / 2) +\n       cos(lat1 * pi / 180) * cos(lat2 * pi / 180) * \n       sin(dlon / 2) * sin(dlon / 2)\n  c &lt;- 2 * atan2(sqrt(a), sqrt(1 - a))\n  R * c # Distance in kilometers\n}\n\n# Calculate distance matrix based on coordinates\ndistance_matrix &lt;- matrix(0, nrow = nrow(warehouses), ncol = nrow(distribution_centers))\n\nfor (i in 1:nrow(warehouses)) {\n  for (j in 1:nrow(distribution_centers)) {\n    distance_matrix[i, j] &lt;- haversine(\n      warehouses$Latitude[i], warehouses$Longitude[i],\n      distribution_centers$Latitude[j], distribution_centers$Longitude[j]\n    )\n  }\n}\n\n# Define the fuel price (example value)\nfuel_price &lt;- 20 # Fuel price per kilometer\n\n# Calculate transportation costs\ntransportation_costs &lt;- distance_matrix * fuel_price * 0.4\n\n## Calculate the loading cost:\nweights_per_good &lt;- 0.1\n\nmean_loading_cost&lt;-loading_costs %&gt;% \n  group_by(DC, Warehouse) %&gt;% \n  summarise(mean = mean(Loading_Cost,na.rm = TRUE)/1000/weights_per_good) %&gt;% # Assumes weighted of goods is 0.1kg \n  ungroup()\n\nlibrary(data.table)\n# Reshape the data frame to a wide format\nmean_cost_matrix &lt;- dcast(mean_loading_cost,\n                          Warehouse ~ DC, \n                          value.var = \"mean\")\n\n# Convert the data frame to a matrix and remove the Warehouse column\nloading_costs_per_dc &lt;- as.matrix(mean_cost_matrix[,-1])\n\n# Set row names as the warehouse names\nrownames(loading_costs_per_dc) &lt;- mean_loading_cost$Warehouse[!duplicated(mean_loading_cost$Warehouse)]\n\n\n\n\n\n\n\n\n\n\n\n\n  \n    \n      Loading Costs by weight category in each warehouses\n\n    \n    \n      Table just contains expected loading cost\n\n    \n    \n      Warehouse\n      Distribution Center\n      Weight Category\n      Loading Cost (VNƒê)\n      Has Machine\n    \n  \n  \n    WH 2\nDC 2\n5 to 10\n‚Ç´149,170\nYes\n    WH 3\nDC 1\n&lt; 1.5\n‚Ç´144,640\nNo\n    WH 1\nDC 3\n&lt; 1.5\n‚Ç´143,740\nNo\n    WH 2\nDC 1\n&gt; 10\n‚Ç´143,400\nNo\n    WH 1\nDC 1\n&gt; 10\n‚Ç´141,370\nNo\n    WH 3\nDC 1\n1.5 to 2.5\n‚Ç´135,830\nYes\n  \n  \n    \n      Source: package gt in R\n\n    \n  \n  \n\n\n\n\n\nSau khi ƒë√£ c√≥ ƒë·ªß d·ªØ li·ªáu, b·∫°n s·∫Ω b·∫Øt ƒë·∫ßu vi·∫øt h√†m m·ª•c ti√™u v√† d√πng thu·∫≠t to√°n GA ƒë·ªÉ t√¨m ra gi√° tr·ªã t·ªëi ∆∞u nh·∫•t.\nTrong h√†m ga t·ª´ g√≥i GA trong R, c√≥ m·ªôt s·ªë ƒë·ªëi s·ªë quan tr·ªçng cho ph√©p b·∫°n t√πy ch·ªânh thu·∫≠t to√°n di truy·ªÅn. D∆∞·ªõi ƒë√¢y l√† m·ªôt c√°i nh√¨n t·ªïng quan v·ªÅ m·ªôt s·ªë ƒë·ªëi s·ªë quan tr·ªçng:\n\ntype: Ch·ªâ ƒë·ªãnh lo·∫°i t·ªëi ∆∞u h√≥a (v√≠ d·ª•: \"real-valued\", \"binary\" ho·∫∑c \"permutation\").\nfitness: H√†m ƒë√°nh gi√° ƒë·ªô ph√π h·ª£p; n√≥ n√™n nh·∫≠n m·ªôt vector tham s·ªë l√†m ƒë·∫ßu v√†o v√† tr·∫£ v·ªÅ m·ªôt gi√° tr·ªã s·ªë.\nlower v√† upper: ƒê·ªãnh nghƒ©a gi·ªõi h·∫°n cho c√°c bi·∫øn n·∫øu b·∫°n ƒëang t·ªëi ∆∞u h√≥a trong kh√¥ng gian li√™n t·ª•c (d√πng cho c√°c lo·∫°i gi√° tr·ªã th·ª±c).\npopSize: Thi·∫øt l·∫≠p k√≠ch th∆∞·ªõc qu·∫ßn th·ªÉ cho m·ªói th·∫ø h·ªá.\nmaxiter: Ch·ªâ ƒë·ªãnh s·ªë th·∫ø h·ªá t·ªëi ƒëa ƒë·ªÉ ch·∫°y thu·∫≠t to√°n.\nrun: Ch·ªâ ƒë·ªãnh s·ªë th·∫ø h·ªá ƒë·ªÉ ch·∫°y thu·∫≠t to√°n m√† kh√¥ng c√≥ s·ª± c·∫£i thi·ªán tr∆∞·ªõc khi d·ª´ng l·∫°i.\npmutation: X√°c su·∫•t x·∫£y ra ƒë·ªôt bi·∫øn trong qu·∫ßn th·ªÉ.\nelitism: X√°c ƒë·ªãnh xem c√°c c√° th·ªÉ t·ªët nh·∫•t c√≥ n√™n ƒë∆∞·ª£c gi·ªØ l·∫°i trong th·∫ø h·ªá ti·∫øp theo hay kh√¥ng.\n\nNh·ªØng ƒë·ªëi s·ªë n√†y gi√∫p ƒëi·ªÅu ch·ªânh thu·∫≠t to√°n di truy·ªÅn cho c√°c nhu c·∫ßu t·ªëi ∆∞u h√≥a c·ª• th·ªÉ c·ªßa b·∫°n, cho ph√©p hi·ªáu su·∫•t t·ªët h∆°n v√† h·ªôi t·ª• v·ªÅ c√°c gi·∫£i ph√°p t·ªëi ∆∞u.\nNgo√†i ra, c√≤n c√≥ c√°c l∆∞u √Ω cho b·∫°n khi s·ª≠ d·ª•ng R nh∆∞ sau:\n\n\n\n\n\n\nL∆∞u √Ω khi d√πng h√†m ga():\n\n\n\nH√†m ga() ph·∫£i c√≥ √≠t nh·∫•t 2 ƒë·ªëi s·ªë l√† type v√† fitness th√¨ R m·ªõi ch·∫°y ƒë∆∞·ª£c.\n\nRi√™ng khi type = ‚Äúbinary‚Äù th√¨ c·∫ßn th√™m ƒë·ªëi s·ªë nBits.\nC√≤n khi type = \"real-valued\"/\"permutation\" th√¨ c·∫ßn th√™m ƒë·ªëi s·ªë min v√† max.\n\n\n\n\n\nCode\n# Load necessary library\nlibrary(GA)\ndemand&lt;-c(distribution_centers$Demand)\n\n# Define the objective function\nobjective_function &lt;- function(quantities) {\n    quantities_matrix &lt;- matrix(quantities, \n                                nrow = 5, \n                                ncol = 3, \n                                byrow = TRUE)\n    \n    # Calculate total loading costs\n    loading_costs &lt;- rowSums(quantities_matrix) * loading_costs_per_dc  # Total loading costs for each DC\n    # Calculate total transportation costs\n    transportation_costs &lt;- sum(quantities_matrix * transportation_costs)\n    \n    # Combine both costs\n    total_cost &lt;- sum(loading_costs) + transportation_costs\n    \n    # Check if demands are met\n    if (any(colSums(quantities_matrix) &lt; demand)) {\n        return(Inf)  # Penalize if demands are not met\n    }\n    \n    return(total_cost)\n}\n\n# Set up the Genetic Algorithm\nnum_vars &lt;- 5 * 3  # 5 warehouses, 3 distribution centers\nga_result &lt;- ga(\n    type = \"real-valued\",\n    fitness = function(x) -objective_function(x),  # Negate for minimization\n    lower = rep(0, num_vars),  # Minimum quantity\n    upper = rep(100, num_vars),  # Maximum quantity (adjust as needed)\n    popSize = 50,\n    maxiter = 100,\n    run = 10,\n    monitor = TRUE\n)\n\n\nV√† cu·ªëi c√πng, sau khi c√≥ k·∫øt qu·∫£, m√¨nh s·∫Ω d√πng c√°c th∆∞ vi·ªán g·ªìm: Leaflet, gt, v√† bi·ªÉu ƒë·ªì Sankey ph·ª•c v·ª• nh·ªØng m·ª•c ƒë√≠ch kh√°c nhau cho tr·ª±c quan h√≥a d·ªØ li·ªáu.\n\nLeaflet: ƒê√¢y l√† m·ªôt th∆∞ vi·ªán m·∫°nh m·∫Ω ƒë·ªÉ t·∫°o b·∫£n ƒë·ªì t∆∞∆°ng t√°c. N√≥ cho ph√©p ng∆∞·ªùi d√πng d·ªÖ d√†ng th√™m c√°c l·ªõp, ƒëi·ªÉm ƒë√°nh d·∫•u v√† pop-up, r·∫•t l√Ω t∆∞·ªüng ƒë·ªÉ tr·ª±c quan h√≥a d·ªØ li·ªáu ƒë·ªãa l√Ω. Leaflet ƒë·∫∑c bi·ªát h·ªØu √≠ch ƒë·ªÉ hi·ªÉn th·ªã c√°c d·ªØ li·ªáu nh∆∞ v·ªã tr√≠, l·ªô tr√¨nh, ho·∫∑c ph√¢n b·ªë kh√¥ng gian.\ngt: G√≥i gt ƒë∆∞·ª£c thi·∫øt k·∫ø ƒë·ªÉ t·∫°o ra c√°c b·∫£ng ch·∫•t l∆∞·ª£ng cao trong R. N√≥ cho ph√©p ng∆∞·ªùi d√πng ƒë·ªãnh d·∫°ng v√† t·∫°o ki·ªÉu cho b·∫£ng m·ªôt c√°ch d·ªÖ d√†ng, gi√∫p ch√∫ng tr·ªü n√™n h·∫•p d·∫´n v√† d·ªÖ ƒë·ªçc. gt h·ªó tr·ª£ c√°c t√≠nh nƒÉng nh∆∞ ƒë·ªãnh d·∫°ng t√πy ch·ªânh, d√≤ng t√≥m t·∫Øt, v√† th·∫≠m ch√≠ th√™m ch√∫ th√≠ch, n√¢ng cao c√°ch tr√¨nh b√†y d·ªØ li·ªáu trong b√°o c√°o.\nBi·ªÉu ƒë·ªì Sankey: Nh·ªØng bi·ªÉu ƒë·ªì n√†y ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ tr·ª±c quan h√≥a lu·ªìng v√† m·ªëi quan h·ªá gi·ªØa c√°c danh m·ª•c kh√°c nhau. Trong R, g√≥i networkD3 ho·∫∑c ggalluvial c√≥ th·ªÉ t·∫°o ra bi·ªÉu ƒë·ªì Sankey, gi√∫p hi·ªÉu c√°ch c√°c gi√° tr·ªã di chuy·ªÉn gi·ªØa c√°c n√∫t, ch·∫≥ng h·∫°n nh∆∞ theo d√µi h√†nh tr√¨nh ng∆∞·ªùi d√πng ho·∫∑c hi·ªÉn th·ªã ph√¢n b·ªï t√†i nguy√™n.\n\nNh√¨n chung, nh·ªØng c√¥ng c·ª• n√†y cung c·∫•p c√°c l·ª±a ch·ªçn m·∫°nh m·∫Ω ƒë·ªÉ tr√¨nh b√†y d·ªØ li·ªáu m·ªôt c√°ch h·∫•p d·∫´n v√† th√¥ng tin. B·∫°n c√≥ th·ªÉ l·ª±a ch·ªçn 1 trong 3 ch√∫ng, v√¨ l√Ω do h·ªçc n√™n m√¨nh tr√¨nh b√†y c·∫£ 3 lu√¥n!.\n\n\nCode\n# Assuming ga_result@solution contains optimal quantities\nga_result_solution &lt;- c(ga_result@solution)\n\n# Reshape the solution into a matrix (5 warehouses x 3 DCs)\noptimal_quantities &lt;- matrix(ga_result@solution,\n                             nrow = 5, \n                             ncol = 3, \n                             byrow = TRUE)\n\n# Convert the matrix to a data frame\nweights&lt;-optimal_quantities* weights_per_good\n\nrownames(weights) &lt;- 1:5\ncolnames(weights) &lt;- 1:3\n\nlibrary(reshape2)\nreal_weighted &lt;- melt(weights)\n\n# Rename the columns\ncolnames(real_weighted) &lt;- c(\"Warehouse\", \"DC\", \"Total_Weight\")\n\n# Perform left join\nresult &lt;- real_weighted %&gt;%\n  left_join(loading_costs, by = c(\"Warehouse\", \"DC\"))\n\nresult &lt;-result %&gt;% \n  mutate(Price = case_when(\n    Total_Weight &lt; 1.5 ~ \"&lt; 1.5\",\n    Total_Weight &lt;2.5 ~ \"1.5 to 2.5\",\n    Total_Weight &lt; 5 ~ \"2.5 to 5\",\n    Total_Weight &lt; 10 ~ \"5 to 10\",\n    Total_Weight &gt;= 10 ~ \"&gt; 10\",\n      is.na(Total_Weight) ~ NA_character_  # Handle NA explicitly if needed\n  ))\n  \nresult&lt;-result %&gt;% \n  filter(Weight_Category == Price) %&gt;% \n  select(-Price)\n\n# Join with tranportation cost table:\nrownames(transportation_costs) &lt;- 1:5\ncolnames(transportation_costs) &lt;- 1:3\n\ntransport&lt;-melt(transportation_costs)\n\n# Rename the columns\ncolnames(transport) &lt;- c(\"Warehouse\", \"DC\", \"Transport_cost\")\n\n\nresult&lt;-left_join(result,\n                  transport,\n                  by=c(\"Warehouse\", \"DC\"))\n\n# Adjust:\n\nresult&lt;-result %&gt;% \n      mutate(Loading_Cost = Loading_Cost*1000,\n             Transport_cost = Transport_cost*1000,\n             DC = paste(\"DC\",DC),\n             Warehouse = paste(\"WH\",Warehouse)) \n\n# Reorder cols in table:\nresult&lt;-result[,c(\"Warehouse\",\n                 \"DC\",\n                 \"Has_Machine\",\n                 \"Total_Weight\",\n                 \"Weight_Category\",\n                 \"Loading_Cost\",\n                 \"Transport_cost\")]\n\n\n\n\n\n\n2.1.1 B√°o c√°o:\nCu·ªëi c√πng l√† hi·ªÉn th·ªã k·∫øt qu·∫£ ƒë√£ ph√¢n t√≠ch ƒë∆∞·ª£c.\nƒê·ªÉ k·∫øt n·ªëi c√°c bi·ªÉu ƒë·ªì l·∫°i v·ªõi nhau, ta th∆∞·ªùng nghƒ© Shiny trong R nh∆∞ng v√¨ ch√∫ng ta ƒëang t·∫°o website b·∫±ng Quarto n√™n output cu·ªëi c√πng s·∫Ω l√† m·ªôt trang web tƒ©nh - static website. Do ƒë√≥, n√≥ s·∫Ω kh√¥ng ph·∫£n h·ªìi v·ªõi th√¥ng tin ƒë·∫ßu v√†o c·ªßa ng∆∞·ªùi d√πng ho·∫∑c ch·∫°y b·∫•t k·ª≥ m√£ R n√†o. B·∫°n c√≥ th·ªÉ h√¨nh dung gi·ªëng nh∆∞ b·∫°n ƒëang mu·ªën xem bi·ªÉu ƒë·ªì v·ªÅ doanh thu trong th√°ng ti·∫øp theo tr√™n 1 bi·ªÉu ƒë·ªì trong Word - kh√¥ng th·ªÉ l√†m ƒë∆∞·ª£c v√¨ n√≥ thu·ªôc d·∫°ng vƒÉn b·∫£n, b·∫°n ch·ªâ ƒë·ªçc ho·∫∑c nh√¨n ch·ª© kh√¥ng t∆∞∆°ng t√°c ƒë∆∞·ª£c.\nTuy v·∫≠y, sau m·ªôt th·ªùi gian t√¨m hi·ªÉu, m√¨nh c≈©ng t√¨m ƒë∆∞·ª£c c√°ch ƒë·ªÉ nh√∫ng Shiny v√†o R ƒë·ªÉ hi·ªÉn th·ªã tr√™n Quarto. Ngu·ªìn t√†i li·ªáu b·∫°n c√≥ th·ªÉ kham kh·∫£o ·ªü trang n√†y r-shinylive-demo.\nT√≥m t·∫Øt cho b·∫°n n√†o l∆∞·ªùi ƒë·ªçc th√¨ b·∫°n c·∫ßn ƒë·ªïi chunk t·ª´ {r} th√†nh shinylive-r v√† th√™m c√°c tham s·ªë nh∆∞ d∆∞·ªõi ƒë√¢y.\n```{shinylive-r}\n#| standalone: true\n#| viewHeight: 1000\n```\n#| viewerHeight: 1000\n#| standalone: true\n\n## Prepare data:\n\n# Convert GA solution to a matrix\n# Optimal quantities matrix\noptimal_quantities &lt;- matrix(c(\n  43.306058, 10.87137, 13.26283,\n  15.524054, 30.42748, 48.86716,\n  7.599769, 44.93531, 27.46289,\n  18.556927, 17.60396, 41.85203,\n  16.305016, 13.15498, 21.79634\n), nrow = 5, ncol = 3, byrow = TRUE)\n\n\n# Warehouse data:\nwarehouses &lt;- data.frame(\n  ID = 1:5,\n  Latitude = c(21.0285, 16.0545, 10.7769, 14.0583, 19.8060),\n  Longitude = c(105.8040, 108.2022, 106.6957, 108.2772, 105.7460),\n  District = c(\"ƒê·ªëng ƒêa\", \"H·∫£i Ch√¢u\", \"Qu·∫≠n 1\", \"Mang Yang\", \"ƒê√¥ng S∆°n\"),\n  Province = c(\"H√† N·ªôi\", \"ƒê√† N·∫µng\", \"H·ªì Ch√≠ Minh\", \"Gia Lai\", \"Thanh H√≥a\"),\n  Address = c(\n    \"2RH3+9HX ƒê·ªëng ƒêa, H√† N·ªôi, Vi·ªát Nam\",\n    \"3632+RV4 H·∫£i Ch√¢u, ƒê√† N·∫µng, Vi·ªát Nam\",\n    \"QMGW+Q74 Qu·∫≠n 1, H·ªì Ch√≠ Minh, Vi·ªát Nam\",\n    \"375G+8VG Mang Yang, Gia Lai, Vi·ªát Nam\",\n    \"RP4W+99X ƒê√¥ng S∆°n, Thanh H√≥a, Vi·ªát Nam\"\n  )\n)\n\n# Distribution center data:\ndistribution_centers &lt;- data.frame(\n  ID = 1:3,\n  Latitude = c(17.97486, 11.77690, 15.12233),\n  Longitude = c(102.6309, 106.6957, 108.7994),\n  District = c(\"Vi√™ng ChƒÉn\", \"L·ªôc Ninh\", \"Qu·∫£ng Ng√£i\"),\n  Province = c(\"L√†o\", \"B√¨nh Ph∆∞·ªõc\", \"Qu·∫£ng Ng√£i\"),\n  Address = c(\n    \"XJFJ+W8X Vi√™ng ChƒÉn, L√†o\",\n    \"QMGW+Q74 L·ªôc Ninh, B√¨nh Ph∆∞·ªõc, Vi·ªát Nam\",\n    \"4QCX+WPQ Qu·∫£ng Ng√£i, Vi·ªát Nam\"\n  )\n)\n\n# Custom icon:\nwarehouse_icon &lt;- makeIcon(\n      iconUrl = \"C:/Users/locca/Documents/Xu√¢n L·ªôc/R/Project R/Genetic-Algorithm/warehouse_icon.png\",  # Update with your actual file path\n      iconWidth = 30, \n      iconHeight = 30\n    )\n\ndc_icon &lt;- makeIcon(\n      iconUrl = \"C:/Users/locca/Documents/Xu√¢n L·ªôc/R/Project R/Genetic-Algorithm/distribution_center.png\",  # Update with your actual file path\n      iconWidth = 30, \n      iconHeight = 30\n    )\n\n# Load required libraries\npacman::p_load(leaflet, \n               dplyr, \n               networkD3)\nlibrary(shiny)\nlibrary(bslib)\n\n# Define UI\nui &lt;- fluidPage(\n  titlePanel(\"Warehouse Distribution Dashboard\"),\n  \n  sidebarLayout(\n    sidebarPanel(\n      checkboxGroupInput(inputId = \"warehouse\", \n                         label = \"Select Warehouse:\", \n                         choices = paste(\"Warehouse\", 1:5), \n                         selected = paste(\"Warehouse\", 1))\n    ), \n    mainPanel(\n      tabsetPanel(\n        tabPanel(\"Map\", \n                 leafletOutput(\"map\", height = \"400px\")),\n        tabPanel(\"Data & Sankey\",\n                 fluidRow(\n                   column(8, dataTableOutput(\"cost_table\")),\n                   column(4, uiOutput(\"sankey_ui\"))\n                 )\n        )\n      )\n    )\n  )\n)\n\n# Define server logic\nserver &lt;- function(input, output, session) {\n  \n  location &lt;- reactive({\n    req(input$warehouse) \n    as.numeric(sub(\"Warehouse \", \"\", input$warehouse))\n  })\n  \n  # Create the leaflet map\n  output$map &lt;- renderLeaflet({\n    req(location())\n    \n    # Initialize the map\n    map &lt;- leaflet() %&gt;%\n      addTiles() %&gt;%\n      addProviderTiles(providers$CartoDB.Positron) %&gt;%\n      addMarkers(data = warehouses %&gt;% filter(ID %in% location()), \n                 lat = ~Latitude, \n                 lng = ~Longitude, \n                 label = ~paste0(\"&lt;strong&gt; ID Warehouse: &lt;/strong&gt; \", ID, \"&lt;br/&gt; \",\n                                 \"&lt;strong&gt; Province: &lt;/strong&gt; \", Province, \"&lt;br/&gt; \",\n                                 \"&lt;strong&gt; District: &lt;/strong&gt; \", District, \"&lt;br/&gt; \",\n                                 \"&lt;strong&gt; Address: &lt;/strong&gt; \", Address, \"&lt;br/&gt; \") %&gt;% \n                   lapply(htmltools::HTML),\n                 icon = warehouse_icon) %&gt;%\n      addMarkers(data = distribution_centers, \n                 lat = ~Latitude, \n                 lng = ~Longitude, \n                 label = ~paste0(\"&lt;strong&gt; ID Distribution Center: &lt;/strong&gt; \", ID, \"&lt;br/&gt; \",\n                                 \"&lt;strong&gt; Province: &lt;/strong&gt; \", Province, \"&lt;br/&gt; \",\n                                 \"&lt;strong&gt; District: &lt;/strong&gt; \", District, \"&lt;br/&gt; \",\n                                 \"&lt;strong&gt; Address: &lt;/strong&gt; \", Address, \"&lt;br/&gt; \") %&gt;% \n                   lapply(htmltools::HTML),\n                 icon = dc_icon)\n    \n    qty_data &lt;- optimal_quantities[location(), , drop = FALSE]  \n    \n    # Add routes based on the optimal quantities\n    for (i in 1:nrow(qty_data)) {\n      for (j in 1:ncol(qty_data)) {\n        if (qty_data[i, j] &gt; 0) {\n          route_start &lt;- warehouses[warehouses$ID == i, c(\"Longitude\", \"Latitude\")]\n          route_end &lt;- distribution_centers[distribution_centers$ID == j, c(\"Longitude\", \"Latitude\")]\n          \n          map &lt;- map %&gt;%\n            addPolylines(lat = c(route_start$Latitude, route_end$Latitude),\n                         lng = c(route_start$Longitude, route_end$Longitude),\n                         color = \"black\", weight = 2, opacity = 0.5)\n        }\n      }\n    }\n    \n    map  # Return the modified map\n  })\n  \n  # Render the cost table\n  output$cost_table &lt;- renderDataTable({\n    req(location())\n    \n    gt &lt;- result %&gt;% \n      filter(Warehouse %in% paste(\"WH\", location())) %&gt;% \n      select(c(Warehouse, DC, Loading_Cost, Transport_cost))\n    \n    gt\n  })\n  \n  # Render the Sankey diagram\n  output$sankey_ui &lt;- renderUI({\n    req(location())\n    \n    qty_data &lt;- optimal_quantities[location(), , drop = FALSE] \n    req(nrow(qty_data) &gt; 0)  # Ensure there is data to display\n    \n    # Create links data frame\n    links &lt;- data.frame(\n      source = rep(0:(nrow(qty_data) - 1), each = ncol(qty_data)),  \n      target = as.vector(sapply(0:(ncol(qty_data) - 1), \n                                function(j) rep(nrow(qty_data) + j, nrow(qty_data)))),\n      value = as.vector(qty_data)  \n    )\n    \n    # Filter for selected warehouses\n    links &lt;- links %&gt;% filter(source %in% (location() - 1))  \n    \n    # Create nodes data frame\n    nodes &lt;- data.frame(name = c(paste(\"Warehouse\", location()), paste(\"DC\", 1:ncol(qty_data))))\n    \n    # Create the Sankey network\n    sankey &lt;- sankeyNetwork(Links = links, \n                            Nodes = nodes, \n                            Source = \"source\", \n                            Target = \"target\", \n                            Value = \"value\",\n                            NodeID = \"name\",\n                        height = 500,  \n                        width = 400,\n                        fontSize = 12,\n                        nodeWidth = 20,\n                        sinksRight = FALSE) # Change this value to make it thinner\n    \n    # Customize tooltips and add click functionality to show a value panel\nsankey &lt;- htmlwidgets::onRender(sankey, \"\n  function(el, x) {\n    // Create a div for the value panel\n    var valuePanel = d3.select('body').append('div')\n      .attr('class', 'value-panel')\n      .style('position', 'absolute')\n      .style('padding', '8px')\n      .style('background', 'lightgray')\n      .style('border', '1px solid gray')\n      .style('border-radius', '4px')\n      .style('opacity', 0);  // Start hidden\n\n    // Append title for tooltips on hover\n    d3.selectAll('.link')\n      .append('title')\n      .text(function(d) { return d.value; });  // Show value on hover\n\n    // Add click event to show the value panel\n    d3.selectAll('.link')\n      .on('click', function(event, d) {\n        // Ensure we get the correct value\n        var value = d3.select(this).datum().value;\n\n        // Position the value panel near the mouse cursor\n        valuePanel\n          .style('left', (event.pageX + 5) + 'px')\n          .style('top', (event.pageY + 5) + 'px')\n          .style('opacity', 1)  // Make it visible\n          .html('Value: ' + value);  // Set the text to the link value\n\n        // Hide the panel after a delay\n        setTimeout(function() {\n          valuePanel.style('opacity', 0);\n        }, 2000);  // Change the delay as needed\n      });\n  }\n\")\n    \n    ## Add title and caption:\nsankey &lt;- htmlwidgets::appendContent(sankey, htmltools::tags$p(style = \"font-size: 12px; text-align: right;\", \" A wider arrow indicates that a larger quantity is being sent from that warehouse to a distribution center.\"))\n    sankey  # Output the Sankey diagram\n  })\n}\n\n# Run the application \nshinyApp(ui = ui, server = server)\nB·∫°n c√≥ th·ªÉ th·∫•y v·ªõi dashboard nh∆∞ v·∫≠y, ta c√≥ th·ªÉ xem ƒë∆∞·ª£c nhi·ªÅu th√¥ng tin h∆°n nh∆∞:\n\nV·ªã tr√≠ c·ª• th·ªÉ c·ªßa t·ª´ng WH v√† DC c≈©ng nh∆∞ l√† c√°c tuy·∫øn ƒë∆∞·ªùng d·ª± ki·∫øn b·∫±ng c√°c ƒë∆∞·ªùng th·∫≥ng minh h·ªça. (Xem Map tab)\nTh√¥ng tin v·ªÅ chi ph√≠ Loading cost v√† Transporation cost c≈©ng nh∆∞ l∆∞·ª£ng h√†ng c·∫ßn v·∫≠n chuy·ªÉn cho t·ª´ng nh√† kho. (Xem Table and Sankey tab)\n\nB·∫°n c√≥ th·ªÉ xem cho 1 ho·∫∑c nhi·ªÅu nh√† kho b·∫±ng c√°ch click tr√™n thanh Filter. Ngo√†i ra, ƒë·∫∑c bi·ªát v·ªõi Sankey chart, b·∫°n c·∫ßn gi·ªØ ho·∫∑c click chu·ªôt v√†o tuy·∫øn ƒë·ªÉ xem ƒë∆∞·ª£c s·ªë l∆∞·ª£ng h√†ng.\nTuy r·∫•t th√≠ch R nh∆∞ng m√¨nh v·∫´n kh√¥ng th√≠ch x√¢y d·ª±ng dashboard b·∫±ng R l·∫Øm v√¨ qu√° n·∫∑ng v·ªÅ code v√† kh√¥ng hi·ªáu qu·∫£ v·ªÅ th·ªùi gian, ngu·ªìn l·ª±c. C√°c tools kh√°c m√¨nh ∆∞u ti√™n h∆°n nh∆∞ Power BI, Tableau ho·∫∑c c√°c BIs m√† c√¥ng ty b·∫°n s·ª≠ d·ª•ng trong c√¥ng vi·ªác h·∫±ng ng√†y."
  },
  {
    "objectID": "GA.html#m√¥-h√¨nh-milp",
    "href": "GA.html#m√¥-h√¨nh-milp",
    "title": "Genetic Algorithms in R",
    "section": "2.2 M√¥ h√¨nh MILP:",
    "text": "2.2 M√¥ h√¨nh MILP:\n\n2.2.1 Gi·ªõi thi·ªáu s∆° l∆∞·ª£c:\nMILP (Mixed Integer Linear Programming) l√† m·ªôt ph∆∞∆°ng ph√°p t·ªëi ∆∞u h√≥a ƒë∆∞·ª£c s·ª≠ d·ª•ng trong c√°c b√†i to√°n l·∫≠p k·∫ø ho·∫°ch, ph√¢n b·ªï t√†i nguy√™n, v√† quy·∫øt ƒë·ªãnh trong c√°c lƒ©nh v·ª±c nh∆∞ logistics, s·∫£n xu·∫•t, t√†i ch√≠nh, v√† nhi·ªÅu lƒ©nh v·ª±c kh√°c. MILP l√† m·ªôt ph·∫ßn m·ªü r·ªông c·ªßa l·∫≠p tr√¨nh tuy·∫øn t√≠nh (Linear Programming - LP), trong ƒë√≥ c√≥ c√°c bi·∫øn l√† s·ªë nguy√™n (integer variables) b√™n c·∫°nh c√°c bi·∫øn li√™n t·ª•c (continuous variables).\nTrong ƒë√≥, c·∫•u tr√∫c c·ªßa m·ªôt b√†i to√°n MILP bao g·ªìm:\n\nH√†m m·ª•c ti√™u: L√† m·ªôt h√†m tuy·∫øn t√≠nh m√† b·∫°n mu·ªën t·ªëi ∆∞u h√≥a (t·ªëi ƒëa h√≥a ho·∫∑c t·ªëi thi·ªÉu h√≥a).\n\\[\n\\text{Maximize or Minimize } Z = c_1x_1 + c_2x_2 + \\ldots + c_nx_n\n\\]\nR√†ng bu·ªôc: Bao g·ªìm c√°c ƒëi·ªÅu ki·ªán tuy·∫øn t√≠nh m√† c√°c bi·∫øn ph·∫£i th·ªèa m√£n.\n\\[\na_{11}x_1 + a_{12}x_2 + \\ldots + a_{1n}x_n \\leq b_1\n\\]\n\\[\na_{21}x_1 + a_{22}x_2 + \\ldots + a_{2n}x_n \\leq b_2\n\\]\n‚Ä¶ v√† nhi·ªÅu r√†ng bu·ªôc kh√°c.\nBi·∫øn quy·∫øt ƒë·ªãnh: C√°c bi·∫øn trong b√†i to√°n c√≥ th·ªÉ l√†:\n\nBi·∫øn li√™n t·ª•c: C√≥ th·ªÉ nh·∫≠n m·ªçi gi√° tr·ªã th·ª±c (v√≠ d·ª•: s·ªë l∆∞·ª£ng s·∫£n ph·∫©m).\nBi·∫øn nguy√™n: Ch·ªâ nh·∫≠n gi√° tr·ªã nguy√™n (v√≠ d·ª•: s·ªë l∆∞·ª£ng xe t·∫£i).\nBi·∫øn nh·ªã ph√¢n: Ch·ªâ nh·∫≠n gi√° tr·ªã 0 ho·∫∑c 1 (v√≠ d·ª•: c√≥ ho·∫∑c kh√¥ng s·ª≠ d·ª•ng m·ªôt nh√† m√°y).\n\n\n·ª®ng d·ª•ng c·ªßa MILP\n\nQu·∫£n l√Ω chu·ªói cung ·ª©ng: T·ªëi ∆∞u h√≥a vi·ªác ph√¢n ph·ªëi h√†ng h√≥a t·ª´ c√°c kho ƒë·∫øn c√°c kh√°ch h√†ng.\nL·∫≠p k·∫ø ho·∫°ch s·∫£n xu·∫•t: X√°c ƒë·ªãnh s·ªë l∆∞·ª£ng s·∫£n ph·∫©m c·∫ßn s·∫£n xu·∫•t ƒë·ªÉ t·ªëi ƒëa h√≥a l·ª£i nhu·∫≠n ho·∫∑c gi·∫£m chi ph√≠.\nT·ªëi ∆∞u h√≥a l·ªãch tr√¨nh: L·∫≠p l·ªãch cho nh√¢n vi√™n, m√°y m√≥c, ho·∫∑c t√†i nguy√™n ƒë·ªÉ t·ªëi ∆∞u h√≥a hi·ªáu su·∫•t.\nQuy ho·∫°ch ƒë√¥ th·ªã: T·ªëi ∆∞u h√≥a vi·ªác s·ª≠ d·ª•ng ƒë·∫•t v√† t√†i nguy√™n trong quy ho·∫°ch th√†nh ph·ªë.\n\nTrong R c√≥ c√°c th∆∞ vi·ªán nh∆∞ lpSolve, ompr, v√† ROI c√≥ th·ªÉ ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ gi·∫£i quy·∫øt c√°c b√†i to√°n MILP.\n\n\n2.2.2 V√≠ d·ª•:\nMILP l√† m·ªôt c√¥ng c·ª• m·∫°nh m·∫Ω cho vi·ªác t·ªëi ∆∞u h√≥a trong nhi·ªÅu lƒ©nh v·ª±c kh√°c nhau. V·ªõi kh·∫£ nƒÉng k·∫øt h·ª£p gi·ªØa c√°c bi·∫øn li√™n t·ª•c v√† s·ªë nguy√™n, MILP c√≥ th·ªÉ gi·∫£i quy·∫øt nhi·ªÅu b√†i to√°n ph·ª©c t·∫°p m√† c√°c ph∆∞∆°ng ph√°p t·ªëi ∆∞u h√≥a kh√°c kh√¥ng th·ªÉ th·ª±c hi·ªán hi·ªáu qu·∫£.\nG·ªâa s·ª≠ ta c√≥ b√†i to√°n v·ªÅ v·∫•n ƒë·ªÅ Transshipment c√≥ y√™u c·∫ßu l√† t√¨m ra ph∆∞∆°ng √°n v·∫≠n t·∫£i t·ªëi ∆∞u nh·∫•t ƒë·ªÉ v·∫≠n chuy·ªÉn h√†ng h√≥a t·ª´ nh√† m√°y (Factory) th√¥ng qua Crossdocking v√† ƒë·∫øn ƒë∆∞·ª£c Distribution Center v·ªõi m·ª•c ti√™u l√† ƒë·∫°t chi ph√≠ th·∫•p nh·∫•t.\n\n\n\nH√¨nh 5: V·∫•n ƒë·ªÅ Transshipment\n\n\nV√¨ b√†i to√°n n√†y thu·ªôc d·∫°ng tuy·∫øn t√≠nh, ph∆∞∆°ng ph√°p MILP s·∫Ω l√†m t·ªët h∆°n nhi·ªÅu so v·ªõi thu·∫≠t to√°n GA b√™n tr√™n.\n\n\nCode\nlibrary(ompr)\nlibrary(ompr.roi)\nlibrary(ROI.plugin.glpk)\n#Input:\nSupply &lt;-c(200,300,100,150,220)\nDemand &lt;-c(150,100,110,200,180)\nDC&lt;-2\nm&lt;-length(Supply)\nn&lt;-length(Demand)\n\nCost_CD&lt;-read.table(text = \n                    \"CD1 CD2\n                     30 50\n                     23 66\n                     35 14\n                     70 12\n                     65 70\",header = T)\nCost_DC&lt;-read.table(text = \n                      \"DC1 DC2 DC3 DC4 DC5\n                       12 25 22 40 41\n                       65 22 23 12 15\",header = T)\n\n#MILP model from the \nmodel5 &lt;- MIPModel() %&gt;%\n  # Add variable\n  add_variable(x[i, j], i = 1:m, j = 1:DC) %&gt;%\n  add_variable(y[j, k], j = 1:DC, k = 1:n) %&gt;%\n  # minimize the cost of transshipment:\n  set_objective(sum_expr(x[i, j]*Cost_CD[i, j],i = 1:m, j = 1:DC)+ sum_expr(y[j, k]*Cost_DC[j, k], k = 1:n, j = 1:DC),\"min\") %&gt;%\n  add_constraint(sum_expr(y[j, k], j = 1:DC) &gt;= Demand[k], k = 1:n) %&gt;%\n  # The amount of inventory in Crossdocking is smaller than production goods\n  add_constraint(sum_expr(x[i, j], j = 1:DC) &lt;= Supply[i], i = 1:m) %&gt;% \n  # The amount of is bigger than demand in DC\n  add_constraint(sum_expr(x[i, j], i = 1:m) - sum_expr(y[j, k], k = 1:n) &gt;= 0,j = 1:DC) %&gt;%\n  add_constraint(x[i, j] &gt;= 0, j = 1:DC, i = 1:m)%&gt;% \n  add_constraint(y[j, k] &gt;= 0, j = 1:DC, k = 1:n)%&gt;% \n  #Solve the model:\n  solve_model(with_ROI(solver = \"glpk\", verbose = TRUE))\n\n\n\n\n\n\n\n\n\n  \n    \n      Transshipment flows from Manufacturers to Distribution Centers\n\n    \n    \n    \n      Manufacturer\n\n      Distribution Center\n\n      Flow Amount\n\n    \n  \n  \n    Manufacturer 1\nDC 1\n60.00\n    Manufacturer 2\nDC 1\n300.00\n    Manufacturer 1\nDC 2\n130.00\n    Manufacturer 3\nDC 2\n100.00\n    Manufacturer 4\nDC 2\n150.00\n  \n  \n  \n\n\n\n\n\n\n\n\n\n\nNh∆∞ v·∫≠y, ch√∫ng ta ƒë√£ ƒë∆∞·ª£c bi·∫øt s∆° l∆∞·ª£c v·ªÅ thu·∫≠t to√°n Genetic v√† m√¥ h√¨nh MILP c≈©ng nh∆∞ c√°ch th·ª±c hi·ªán trong Rstudio.\nN·∫øu b·∫°n c√≥ c√¢u h·ªèi hay th·∫Øc m·∫Øc n√†o, ƒë·ª´ng ng·∫ßn ng·∫°i li√™n h·ªá v·ªõi m√¨nh qua Gmail. B√™n c·∫°nh ƒë√≥, n·∫øu b·∫°n mu·ªën xem l·∫°i c√°c b√†i vi·∫øt tr∆∞·ªõc ƒë√¢y c·ªßa m√¨nh, h√£y nh·∫•n v√†o hai n√∫t d∆∞·ªõi ƒë√¢y ƒë·ªÉ truy c·∫≠p trang Rpubs ho·∫∑c m√£ ngu·ªìn tr√™n Github. R·∫•t vui ƒë∆∞·ª£c ƒë·ªìng h√†nh c√πng b·∫°n, h·∫πn g·∫∑p l·∫°i! üòÑüòÑüòÑ\n\n\n\n    \n    \n    Contact Me\n    \n    \n    \n\n\n    \n        Contact Me\n        \n            Your Email:\n            \n            Please enter a valid email address.\n            Send Email\n        \n        \n            \n                \n                     View Code on GitHub\n                \n            \n        \n        \n            \n                \n                     Visit my RPubs"
  }
]