[
  {
    "objectID": "GA.html",
    "href": "GA.html",
    "title": "Genetic Algorithms in R",
    "section": "",
    "text": "GA hay Genetic Algorithm l√† 1 thu·∫≠t to√°n t·ªëi ∆∞u h√≥a ng·∫´u nhi√™n (stochastic search algorithms), ƒë∆∞·ª£c ph√°t tri·ªÉn d·ª±a tr√™n l√Ω thuy·∫øt ti·∫øn h√≥a v√† s·ª± ch·ªçn l·ªçc t·ª± nhi√™n c·ªßa sinh h·ªçc (Luca Scrucca 2013).\n·ªû th·ªùi c·∫•p 3, b·∫°n ƒë√£ t·ª´ng h·ªçc v·ªÅ l√Ω thuy·∫øt ti·∫øn h√≥a v√† ch·ªçn l·ªçc t·ª± nhi√™n c·ªßa Charles Darwin v√† Alfred Russel ·ªü m√¥n Sinh h·ªçc. N·∫øu b·∫°n c≈©ng t·ª´ng li·ªát Sinh nh∆∞ t√¥i th√¨ b·∫°n qu√™n c≈©ng kh√¥ng sao üòÖüòÖ. V·∫≠y th√¨ ƒë·ªÉ t√¥i gi·∫£i th√≠ch l·∫°i nh∆∞ sau:\nS·ª± ti·∫øn h√≥a l√† s·ª± thay ƒë·ªïi ƒë·∫∑c ƒëi·ªÉm di truy·ªÅn c·ªßa 1 qu·∫ßn th·ªÉ sinh v·∫≠t, v√≠ d·ª• ƒëi·ªÉn h√¨nh ch√≠nh l√† t·ª´ lo·∫°i v∆∞·ª£n ƒë√£ ti·∫øn h√≥a th√†nh h√¨nh d·∫°ng con ng∆∞·ªùi vƒÉn minh nh∆∞ c√°c b·∫°n b√¢y gi·ªù. V·∫≠y qu√° tr√¨nh ti·∫øn h√≥a ƒë√≥ di·ªÖn ra khi c√≥ s·ª± ch·ªçn l·ªçc t·ª± nhi√™n t·∫°o ra c√°c bi·∫øn d·ªã di truy·ªÅn (V√≠ d·ª•: ƒë·ªôt bi·∫øn,‚Ä¶) v√† k·∫øt qu·∫£ l√† c√°c c√° th·ªÉ ƒë·ªôt bi·∫øn tr·ªü n√™n ph·ªï bi·∫øn h∆°n ho·∫∑c hi·∫øm g·∫∑p h∆°n trong qu·∫ßn th·ªÉ. V·∫≠y ƒëi·ªÅu ki·ªán ƒë·ªÉ x·∫£y ra s·ª± ch·ªçn l·ªçc t·ª± nhi√™n c√≥ th·ªÉ l√† s·ª± thay ƒë·ªïi v·ªÅ m√¥i tr∆∞·ªùng s·ªëng, ƒë·ªãa l√Ω,‚Ä¶ d·∫´n t·ªõi s·ª± kh√°c nhau v·ªÅ kh·∫£ nƒÉng s·ªëng s√≥t v√† sinh s·∫£n.\nK·∫øt c·ª•c l√† xu·∫•t hi·ªán c√°c c√° th·ªÉ ƒë·ªôt bi·∫øn ‚Äúm·∫°nh m·∫Ω h∆°n‚Äù ho·∫∑c ƒë√∫ng l√† ‚Äúƒë·∫∑c bi·ªát h∆°n‚Äù c√≥ kh·∫£ nƒÉng t·ªìn t·∫°i khi xu·∫•t hi·ªán s·ª± thay ƒë·ªïi l·ªõn, v√≠ d·ª• nh∆∞ d∆∞·ªõi ƒë√¢y, do s·ª± thay ƒë·ªïi v·ªÅ ƒë·ªãa ƒëi·ªÉm s·ªëng, t·ª´ m·ªôt lo·∫°i chim s·∫ª ƒë√£ ph√°t tri·ªÉn th√†nh 3 ph√¢n h·ªç kh√°c nhau.\n\n\n\nH√¨nh 1: V√≠ d·ª• v·ªÅ ch·ªçn l·ªçc t·ª± nhi√™n\n\n\nV·∫≠y l√≠ thuy·∫øt n√†y li√™n quan g√¨ t·ªõi v·∫•n ƒë·ªÅ t·ªëi ∆∞u h√≥a. Th√¥ng th∆∞·ªùng khi b·∫°n mu·ªën t·ªëi ∆∞u h√≥a m·ªôt v·∫•n ƒë·ªÅ g√¨ ƒë√≥, b·∫°n c·∫ßn x√¢y d·ª±ng m√¥ h√¨nh ƒë·ªãnh l∆∞·ª£ng n√≥, v√≠ d·ª• nh∆∞ d∆∞·ªõi ·∫£nh n√†y ta ƒëang c√≥ m√¥ h√¨nh MILP nh·∫±m ho·∫°ch ƒë·ªãnh tuy·∫øn ƒë∆∞·ªùng v√† t·ªëi ∆∞u h√≥a qu√£ng ƒë∆∞·ªùng di chuy·ªÉn.\n\n\n\nH√¨nh 2: M√¥ h√¨nh VRP\n\n\nM·ª•c ti√™u c·ªßa h√†m ch√≠nh l√† t√¨m ra gi√° tr·ªã nh·ªè nh·∫•t nghƒ©a l√† chi ph√≠ cho vi·ªác di chuy·ªÉn c·ªßa xe l√† nh·ªè nh·∫•t. Do ƒë√≥, b·∫°n c√≥ th·ªÉ h√¨nh dung r·∫±ng gi√° tr·ªã nh·ªè nh·∫•t ƒë√≥ nh∆∞ l√† c√°c c√° th·ªÉ ƒë·ªôt bi·∫øn c√≥ kh·∫£ nƒÉng s·ªëng s√≥t cao nh·∫•t trong qu·∫©n th·ªÉ.\nV√¨ v·∫≠y thu·∫≠t to√°n Genetic (GA) ch√≠nh l√† l·∫∑p ƒëi l·∫∑p l·∫°i s·ª± ch·ªçn l·ªçc t·ª± nhi√™n trong m·ªôt qu·∫ßn th·ªÉ ho·∫∑c m·ªôt m·∫´u ƒë·ªÉ ƒë·∫øn cu·ªëi c√πng t√¨m ra c√° th·ªÉ v∆∞·ª£t tr·ªôi nh·∫•t.\n\n\n\nTrong Machine Learning, GA nh·∫±m t√¨m ra ƒë√∫ng c√°c bi·∫øn c·∫ßn thi·∫øt ƒë·ªÉ x√¢y d·ª±ng m√¥ h√¨nh t·ªët nh·∫•t. G·ªâa s·ª≠ ch√∫ng ta c√≥ 2 m√¥ h√¨nh l√†:\n\nM√¥ h√¨nh 1: g·ªìm c√°c bi·∫øn A,C,D.\nM√¥ h√¨nh 2: g·ªìm bi·∫øn A,B,E.\n\nV·∫≠y m√¥ h√¨nh n√†o m·ªõi l√† t·ªët nh·∫•t cho m√¥ h√¨nh d·ª± ƒëo√°n ? Ch√∫ng ta ch∆∞a bi·∫øt ƒë∆∞·ª£c v√† ch·ªâ c√≥ th·ªÉ so s√°nh n√≥ th√¥ng qua thu·∫≠t to√°n Genetic.\nV·ªÅ quy tr√¨nh, thu·∫≠t to√°n Genetic s·∫Ω c√≥ c√°ch ho·∫°t ƒë·ªông nh∆∞ d∆∞·ªõi ƒë√¢y. Quy tr√¨nh n√†y m√¨nh tham kh·∫£o c·ªßa (Rohith Gandhi 2018).\n\n\n\nH√¨nh 3: Thu·∫≠t to√°n Genetic\n\n\nDi·ªÖn gi·∫£i c√°ch ho·∫°t ƒë·ªông:\n\nB∆∞·ªõc 1 (Initialisation): m·ªói bi·∫øn ƒë∆∞·ª£c xem l√† Gene v√† nhi·ªÅu Gene g·ªôp l·∫°i th√†nh m·ªôt m√¥ h√¨nh hay g·ªçi l√† Chromosome v√† nhi·ªÅu Chromosome s·∫Ω t·∫°o th√†nh m·ªôt qu·∫ßn th·ªÉ (Population). Vi·ªác n√†y gi·ªëng nh∆∞ l√† b·∫°n ƒëang tr√¨nh b√†y h·∫øt c√°c ph∆∞∆°ng √°n c√≥ th·ªÉ s·ª≠ d·ª•ng.\n\n\n\n\nH√¨nh 4: C√°c thu·∫≠t ng·ªØ trong GA\n\n\n\nB∆∞·ªõc 2 (Fitness Function): B·∫°n c·∫ßn x√¢y d·ª±ng m·ªôt h√†m m·ª•c ti√™u ƒë·ªÉ t√≠nh to√°n gi√° tr·ªã cho c√°c m√¥ h√¨nh ·ªü b∆∞·ªõc 1.\nB∆∞·ªõc 3 (Selection): Bi·∫øn n√†o c√≥ gi√° tr·ªã y·∫øu k√©m s·∫Ω b·ªã lo·∫°i v√† qu√° tr√¨nh t√≠nh to√°n s·∫Ω ti·∫øp t·ª•c ·ªü th·∫ø h·ªá c·ªßa n√≥ ti·∫øp theo. Di·ªÖn gi·∫£i ƒë∆°n gi·∫£n h∆°n l√† ch√∫ng ta th·ª≠ m·ªôt c√°ch kh√°c v√† c·ªë g·∫Øng c·∫£i thi·ªán k·∫øt qu·∫£.\nB∆∞·ªõc 4 (Crossover): T·∫°o ra m√¥ h√¨nh g·ªìm c√°c bi·∫øn t·ªët ƒë√£ l·ª±a ch·ªçn ·ªü b∆∞·ªõc 3. V√≠ d·ª• nh∆∞ bi·∫øn A, B l√† t·ªët cho m√¥ h√¨nh.\nB∆∞·ªõc 5 (Mutation): Thay ƒë·ªïi m√¥ h√¨nh ƒë·∫ßu v√†o ƒë√£ bao g·ªìm c√°c bi·∫øn ·ªü b∆∞·ªõc 4 v√† b·∫Øt ƒë·∫ßu l·∫°i t·ª´ b∆∞·ªõc 1. V√≠ d·ª• m√¥ h√¨nh c·∫ßn ch·ªçn g·ªìm 5 bi·∫øn v√† ta ƒë√£ ch·ªçn ƒë∆∞·ª£c bi·∫øn A,B l√† t·ªët. Do ƒë√≥, khi quay l·∫°i b∆∞·ªõc 1, ta ch·ªâ c·∫ßn ch·ªçn th√™m 3 bi·∫øn thay v√¨ 5 bi·∫øn nh∆∞ th√¥ng th∆∞·ªùng."
  },
  {
    "objectID": "GA.html#v√†i-ƒëi·ªÉm-v·ªÅ-thu·∫≠t-to√°n-genetic",
    "href": "GA.html#v√†i-ƒëi·ªÉm-v·ªÅ-thu·∫≠t-to√°n-genetic",
    "title": "Genetic Algorithms in R",
    "section": "",
    "text": "GA hay Genetic Algorithm l√† 1 thu·∫≠t to√°n t·ªëi ∆∞u h√≥a ng·∫´u nhi√™n (stochastic search algorithms), ƒë∆∞·ª£c ph√°t tri·ªÉn d·ª±a tr√™n l√Ω thuy·∫øt ti·∫øn h√≥a v√† s·ª± ch·ªçn l·ªçc t·ª± nhi√™n c·ªßa sinh h·ªçc (Luca Scrucca 2013).\n·ªû th·ªùi c·∫•p 3, b·∫°n ƒë√£ t·ª´ng h·ªçc v·ªÅ l√Ω thuy·∫øt ti·∫øn h√≥a v√† ch·ªçn l·ªçc t·ª± nhi√™n c·ªßa Charles Darwin v√† Alfred Russel ·ªü m√¥n Sinh h·ªçc. N·∫øu b·∫°n c≈©ng t·ª´ng li·ªát Sinh nh∆∞ t√¥i th√¨ b·∫°n qu√™n c≈©ng kh√¥ng sao üòÖüòÖ. V·∫≠y th√¨ ƒë·ªÉ t√¥i gi·∫£i th√≠ch l·∫°i nh∆∞ sau:\nS·ª± ti·∫øn h√≥a l√† s·ª± thay ƒë·ªïi ƒë·∫∑c ƒëi·ªÉm di truy·ªÅn c·ªßa 1 qu·∫ßn th·ªÉ sinh v·∫≠t, v√≠ d·ª• ƒëi·ªÉn h√¨nh ch√≠nh l√† t·ª´ lo·∫°i v∆∞·ª£n ƒë√£ ti·∫øn h√≥a th√†nh h√¨nh d·∫°ng con ng∆∞·ªùi vƒÉn minh nh∆∞ c√°c b·∫°n b√¢y gi·ªù. V·∫≠y qu√° tr√¨nh ti·∫øn h√≥a ƒë√≥ di·ªÖn ra khi c√≥ s·ª± ch·ªçn l·ªçc t·ª± nhi√™n t·∫°o ra c√°c bi·∫øn d·ªã di truy·ªÅn (V√≠ d·ª•: ƒë·ªôt bi·∫øn,‚Ä¶) v√† k·∫øt qu·∫£ l√† c√°c c√° th·ªÉ ƒë·ªôt bi·∫øn tr·ªü n√™n ph·ªï bi·∫øn h∆°n ho·∫∑c hi·∫øm g·∫∑p h∆°n trong qu·∫ßn th·ªÉ. V·∫≠y ƒëi·ªÅu ki·ªán ƒë·ªÉ x·∫£y ra s·ª± ch·ªçn l·ªçc t·ª± nhi√™n c√≥ th·ªÉ l√† s·ª± thay ƒë·ªïi v·ªÅ m√¥i tr∆∞·ªùng s·ªëng, ƒë·ªãa l√Ω,‚Ä¶ d·∫´n t·ªõi s·ª± kh√°c nhau v·ªÅ kh·∫£ nƒÉng s·ªëng s√≥t v√† sinh s·∫£n.\nK·∫øt c·ª•c l√† xu·∫•t hi·ªán c√°c c√° th·ªÉ ƒë·ªôt bi·∫øn ‚Äúm·∫°nh m·∫Ω h∆°n‚Äù ho·∫∑c ƒë√∫ng l√† ‚Äúƒë·∫∑c bi·ªát h∆°n‚Äù c√≥ kh·∫£ nƒÉng t·ªìn t·∫°i khi xu·∫•t hi·ªán s·ª± thay ƒë·ªïi l·ªõn, v√≠ d·ª• nh∆∞ d∆∞·ªõi ƒë√¢y, do s·ª± thay ƒë·ªïi v·ªÅ ƒë·ªãa ƒëi·ªÉm s·ªëng, t·ª´ m·ªôt lo·∫°i chim s·∫ª ƒë√£ ph√°t tri·ªÉn th√†nh 3 ph√¢n h·ªç kh√°c nhau.\n\n\n\nH√¨nh 1: V√≠ d·ª• v·ªÅ ch·ªçn l·ªçc t·ª± nhi√™n\n\n\nV·∫≠y l√≠ thuy·∫øt n√†y li√™n quan g√¨ t·ªõi v·∫•n ƒë·ªÅ t·ªëi ∆∞u h√≥a. Th√¥ng th∆∞·ªùng khi b·∫°n mu·ªën t·ªëi ∆∞u h√≥a m·ªôt v·∫•n ƒë·ªÅ g√¨ ƒë√≥, b·∫°n c·∫ßn x√¢y d·ª±ng m√¥ h√¨nh ƒë·ªãnh l∆∞·ª£ng n√≥, v√≠ d·ª• nh∆∞ d∆∞·ªõi ·∫£nh n√†y ta ƒëang c√≥ m√¥ h√¨nh MILP nh·∫±m ho·∫°ch ƒë·ªãnh tuy·∫øn ƒë∆∞·ªùng v√† t·ªëi ∆∞u h√≥a qu√£ng ƒë∆∞·ªùng di chuy·ªÉn.\n\n\n\nH√¨nh 2: M√¥ h√¨nh VRP\n\n\nM·ª•c ti√™u c·ªßa h√†m ch√≠nh l√† t√¨m ra gi√° tr·ªã nh·ªè nh·∫•t nghƒ©a l√† chi ph√≠ cho vi·ªác di chuy·ªÉn c·ªßa xe l√† nh·ªè nh·∫•t. Do ƒë√≥, b·∫°n c√≥ th·ªÉ h√¨nh dung r·∫±ng gi√° tr·ªã nh·ªè nh·∫•t ƒë√≥ nh∆∞ l√† c√°c c√° th·ªÉ ƒë·ªôt bi·∫øn c√≥ kh·∫£ nƒÉng s·ªëng s√≥t cao nh·∫•t trong qu·∫©n th·ªÉ.\nV√¨ v·∫≠y thu·∫≠t to√°n Genetic (GA) ch√≠nh l√† l·∫∑p ƒëi l·∫∑p l·∫°i s·ª± ch·ªçn l·ªçc t·ª± nhi√™n trong m·ªôt qu·∫ßn th·ªÉ ho·∫∑c m·ªôt m·∫´u ƒë·ªÉ ƒë·∫øn cu·ªëi c√πng t√¨m ra c√° th·ªÉ v∆∞·ª£t tr·ªôi nh·∫•t."
  },
  {
    "objectID": "GA.html#c√°ch-ho·∫°t-ƒë·ªông-ga-trong-ml",
    "href": "GA.html#c√°ch-ho·∫°t-ƒë·ªông-ga-trong-ml",
    "title": "Genetic Algorithms in R",
    "section": "",
    "text": "Trong Machine Learning, GA nh·∫±m t√¨m ra ƒë√∫ng c√°c bi·∫øn c·∫ßn thi·∫øt ƒë·ªÉ x√¢y d·ª±ng m√¥ h√¨nh t·ªët nh·∫•t. G·ªâa s·ª≠ ch√∫ng ta c√≥ 2 m√¥ h√¨nh l√†:\n\nM√¥ h√¨nh 1: g·ªìm c√°c bi·∫øn A,C,D.\nM√¥ h√¨nh 2: g·ªìm bi·∫øn A,B,E.\n\nV·∫≠y m√¥ h√¨nh n√†o m·ªõi l√† t·ªët nh·∫•t cho m√¥ h√¨nh d·ª± ƒëo√°n ? Ch√∫ng ta ch∆∞a bi·∫øt ƒë∆∞·ª£c v√† ch·ªâ c√≥ th·ªÉ so s√°nh n√≥ th√¥ng qua thu·∫≠t to√°n Genetic.\nV·ªÅ quy tr√¨nh, thu·∫≠t to√°n Genetic s·∫Ω c√≥ c√°ch ho·∫°t ƒë·ªông nh∆∞ d∆∞·ªõi ƒë√¢y. Quy tr√¨nh n√†y m√¨nh tham kh·∫£o c·ªßa (Rohith Gandhi 2018).\n\n\n\nH√¨nh 3: Thu·∫≠t to√°n Genetic\n\n\nDi·ªÖn gi·∫£i c√°ch ho·∫°t ƒë·ªông:\n\nB∆∞·ªõc 1 (Initialisation): m·ªói bi·∫øn ƒë∆∞·ª£c xem l√† Gene v√† nhi·ªÅu Gene g·ªôp l·∫°i th√†nh m·ªôt m√¥ h√¨nh hay g·ªçi l√† Chromosome v√† nhi·ªÅu Chromosome s·∫Ω t·∫°o th√†nh m·ªôt qu·∫ßn th·ªÉ (Population). Vi·ªác n√†y gi·ªëng nh∆∞ l√† b·∫°n ƒëang tr√¨nh b√†y h·∫øt c√°c ph∆∞∆°ng √°n c√≥ th·ªÉ s·ª≠ d·ª•ng.\n\n\n\n\nH√¨nh 4: C√°c thu·∫≠t ng·ªØ trong GA\n\n\n\nB∆∞·ªõc 2 (Fitness Function): B·∫°n c·∫ßn x√¢y d·ª±ng m·ªôt h√†m m·ª•c ti√™u ƒë·ªÉ t√≠nh to√°n gi√° tr·ªã cho c√°c m√¥ h√¨nh ·ªü b∆∞·ªõc 1.\nB∆∞·ªõc 3 (Selection): Bi·∫øn n√†o c√≥ gi√° tr·ªã y·∫øu k√©m s·∫Ω b·ªã lo·∫°i v√† qu√° tr√¨nh t√≠nh to√°n s·∫Ω ti·∫øp t·ª•c ·ªü th·∫ø h·ªá c·ªßa n√≥ ti·∫øp theo. Di·ªÖn gi·∫£i ƒë∆°n gi·∫£n h∆°n l√† ch√∫ng ta th·ª≠ m·ªôt c√°ch kh√°c v√† c·ªë g·∫Øng c·∫£i thi·ªán k·∫øt qu·∫£.\nB∆∞·ªõc 4 (Crossover): T·∫°o ra m√¥ h√¨nh g·ªìm c√°c bi·∫øn t·ªët ƒë√£ l·ª±a ch·ªçn ·ªü b∆∞·ªõc 3. V√≠ d·ª• nh∆∞ bi·∫øn A, B l√† t·ªët cho m√¥ h√¨nh.\nB∆∞·ªõc 5 (Mutation): Thay ƒë·ªïi m√¥ h√¨nh ƒë·∫ßu v√†o ƒë√£ bao g·ªìm c√°c bi·∫øn ·ªü b∆∞·ªõc 4 v√† b·∫Øt ƒë·∫ßu l·∫°i t·ª´ b∆∞·ªõc 1. V√≠ d·ª• m√¥ h√¨nh c·∫ßn ch·ªçn g·ªìm 5 bi·∫øn v√† ta ƒë√£ ch·ªçn ƒë∆∞·ª£c bi·∫øn A,B l√† t·ªët. Do ƒë√≥, khi quay l·∫°i b∆∞·ªõc 1, ta ch·ªâ c·∫ßn ch·ªçn th√™m 3 bi·∫øn thay v√¨ 5 bi·∫øn nh∆∞ th√¥ng th∆∞·ªùng."
  },
  {
    "objectID": "GA.html#thu·∫≠t-to√°n-genetic",
    "href": "GA.html#thu·∫≠t-to√°n-genetic",
    "title": "Genetic Algorithms in R",
    "section": "2.1 Thu·∫≠t to√°n Genetic:",
    "text": "2.1 Thu·∫≠t to√°n Genetic:\nV·∫≠y b√¢y gi·ªù ch√∫ng ta s·∫Ω x·ª≠ l√≠ b√†i to√°n tr√™n theo thu·∫≠t to√°n Genetic\nG·ªâa s·ª≠ ch√∫ng ta c√≥ b√†i to√°n v·ªÅ v·∫≠n chuy·ªÉn h√†ng t·ª´ nh√† kho ƒë·ªÉ th·ªèa m√£n nhu c·∫ßu ·ªü c√°c ƒëi·ªÉm DC (Distribution center). V√† c√¥ng th·ª©c ƒë·ªÉ t√≠nh to√°n ƒë∆∞·ª£c chi ph√≠ l√†:\nH√†m chi ph√≠ t·ªïng th·ªÉ ƒë∆∞·ª£c x√°c ƒë·ªãnh nh∆∞ sau:\n\\[\nTC = \\sum_{i=1}^{m} \\left( D_{ij} \\times \\frac{P}{F} \\times 0.4 + LC_i \\right) \\times Q_j\n\\] V√¨ v·∫≠y, n·∫øu trong c√¥ng vi·ªác, ch√∫ng ta s·∫Ω c·∫ßn l·∫•y d·ªØ li·ªáu t·ª´ Data warehouse b·∫±ng SQL ho·∫∑c c√°c ph·∫ßn m·ªÅm Business Intelligence kh√°c. ·ªû ƒë√¢y, nh·∫±m minh h·ªça, m√¨nh ƒë√£ t·∫°o ra code ·ªü ph√≠a d∆∞·ªõi ƒë·ªÉ c√°c b·∫°n luy·ªán t·∫≠p.\n\n\nCode\n# Create a data frame for loading costs\nloading_costs &lt;- data.frame(\n  Warehouse = rep(paste(\"Warehouse\", 1:5), each = 4),\n  ID = rep(1:5, times = 4),\n  Weight_Category = rep(c(\"&lt; 2 tons\", \"2 to 5 tons\", \"5 to 10 tons\", \"&gt; 10 tons\"), times = 5),\n  Has_Machine = rep(c(\"Yes\", \"No\", \"Yes\", \"No\", \"No\"), each = 4),\n  Loading_Cost = c(80, 100, 120, 160,  # Warehouse 1 (with machine)\n                   110, 150, 180, 210,  # Warehouse 2 (without machine)\n                   85, 105, 125, 140,  # Warehouse 3 (with machine)\n                   150, 170, 190, 210,  # Warehouse 4 (without machine)\n                   140, 165, 185, 215)   # Warehouse 5 (without machine)\n)\n\n# Define warehouses with coordinates (latitude, longitude)\nwarehouses &lt;- data.frame(\n  ID = 1:5,\n  Latitude = c(21.0285, 16.0545, 10.7769, 14.0583, 19.8060), # Example latitudes (Hanoi, HCMC, Da Nang, etc.)\n  Longitude = c(105.804, 108.2022, 106.6957, 108.2772, 105.7460) # Example longitudes\n)\n\n# Define distribution centers data in Vietnam (example coordinates)\ndistribution_centers &lt;- data.frame(\n  ID = 1:3,\n  Demand = c(90, 30, 150),\n  Latitude = c(17.974855, 10.7769, 15.122327), # Example latitudes (Hanoi, Da Nang, HCMC)\n  Longitude = c(102.630867, 106.6957, 108.799357) # Example longitudes\n)\n\n\nN·∫øu b·∫°n g·∫∑p kh√≥ khƒÉn trong vi·ªác ph·∫£i ƒë·ªëi m·∫∑t v·ªõi c·∫£ ƒë·ªëng d·ªØ li·ªáu t·ª´ h·ªá th·ªëng v√† ch∆∞a bi·∫øt l·∫•y d·ªØ li·ªáu n√†o ƒë·ªÉ ph√¢n t√≠ch ho·∫∑c g·ªôp b·∫£ng n√†o qua b·∫£ng n√†o th√¨ l·ªùi khuy√™n c·ªßa t√¥i l√† h√£y v·∫Ω b·∫£ng Entity relation diagram (ERD).\nERD l√† m·ªôt c√¥ng c·ª• tr·ª±c quan d√πng ƒë·ªÉ m√¥ t·∫£ c·∫•u tr√∫c d·ªØ li·ªáu trong c∆° s·ªü d·ªØ li·ªáu. ERD th·ªÉ hi·ªán c√°c th·ª±c th·ªÉ (entities), thu·ªôc t√≠nh (attributes), v√† c√°c m·ªëi quan h·ªá (relationships) gi·ªØa ch√∫ng. C√°c th·ª±c th·ªÉ th∆∞·ªùng ƒë∆∞·ª£c bi·ªÉu di·ªÖn d∆∞·ªõi d·∫°ng h√¨nh ch·ªØ nh·∫≠t, thu·ªôc t√≠nh d∆∞·ªõi d·∫°ng h√¨nh ellips, v√† m·ªëi quan h·ªá b·∫±ng h√¨nh thoi ho·∫∑c ƒë∆∞·ªùng n·ªëi. ERD gi√∫p l·∫≠p k·∫ø ho·∫°ch cho thi·∫øt k·∫ø c∆° s·ªü d·ªØ li·ªáu, ƒë·∫£m b·∫£o r·∫±ng c√°c y·∫øu t·ªë d·ªØ li·ªáu v√† quan h·ªá gi·ªØa ch√∫ng ƒë∆∞·ª£c x√°c ƒë·ªãnh r√µ r√†ng, t·∫°o n·ªÅn t·∫£ng cho vi·ªác ph√°t tri·ªÉn v√† qu·∫£n l√Ω d·ªØ li·ªáu hi·ªáu qu·∫£.\nC√°c b·∫°n c√≥ th·ªÉ th·∫•y m·ªëi quan h·ªá th√¥ng qua b·∫£ng Entity relation diagram (ERD) d∆∞·ªõi ƒë√¢y:\n\n\n\n\n\n\n\n\n\n\n\n\n\nT·∫£i package datamodelr:\n\n\n\nM√¨nh t·∫°o bi·ªÉu ƒë·ªì n√†y b·∫±ng th∆∞ vi·ªán datamodelr. B·∫°n c√≥ th·ªÉ t·∫£i b·∫±ng c√∫ ph√°p: devtools::install_github(\"bergant/datamodelr\")\n\n\nNh∆∞ v·∫≠y, d·ª±a v√†o ƒë√≥, ta s·∫Ω t√≠nh to√°n ƒë∆∞·ª£c 2 b·∫£ng quan tr·ªçng:\n\nB·∫£ng gi√° loading ·ªü c√°c kho. (H√¨nh b√™n tr√°i)\nB·∫£ng chi ph√≠ v·∫≠n chuy·ªÉn t·ª´ t·ª´ng WH ƒë·∫øn c√°c DCs. (H√¨nh b√™n ph·∫£i)\n\n\n\nCode\n## Calculate the transportation cost:\n# Haversine distance function\nhaversine &lt;- function(lat1, lon1, lat2, lon2) {\n  R &lt;- 6371 # Radius of Earth in kilometers\n  dlat &lt;- (lat2 - lat1) * pi / 180\n  dlon &lt;- (lon2 - lon1) * pi / 180\n  a &lt;- sin(dlat / 2) * sin(dlat / 2) +\n       cos(lat1 * pi / 180) * cos(lat2 * pi / 180) * \n       sin(dlon / 2) * sin(dlon / 2)\n  c &lt;- 2 * atan2(sqrt(a), sqrt(1 - a))\n  R * c # Distance in kilometers\n}\n\n# Calculate distance matrix based on coordinates\ndistance_matrix &lt;- matrix(0, nrow = nrow(warehouses), ncol = nrow(distribution_centers))\n\nfor (i in 1:nrow(warehouses)) {\n  for (j in 1:nrow(distribution_centers)) {\n    distance_matrix[i, j] &lt;- haversine(\n      warehouses$Latitude[i], warehouses$Longitude[i],\n      distribution_centers$Latitude[j], distribution_centers$Longitude[j]\n    )\n  }\n}\n\n# Define the fuel price (example value)\nfuel_price &lt;- 20 # Fuel price per kilometer\n\n# Calculate transportation costs\ntransportation_costs &lt;- distance_matrix * fuel_price * 0.4\n\n## Calculate the loading cost:\nweights_per_good &lt;- 0.1\n\n# Calculate total weight for each distribution center\ntotal_weight &lt;- distribution_centers$Demand * weights_per_good\n\n# Function to get loading cost based on total weight\nget_loading_cost &lt;- function(total_weight) {\n  if (total_weight &lt; 2) {\n    loading_costs %&gt;% filter(Weight_Category == \"&lt; 2 tons\") %&gt;% pull(Loading_Cost)\n  } else if (total_weight &gt;= 2 & total_weight &lt; 5) {\n    loading_costs %&gt;% filter(Weight_Category == \"2 to 5 tons\") %&gt;% pull(Loading_Cost)\n  } else if (total_weight &gt;= 5 & total_weight &lt; 10) {\n    loading_costs %&gt;% filter(Weight_Category == \"5 to 10 tons\") %&gt;% pull(Loading_Cost)\n  } else {\n    loading_costs %&gt;% filter(Weight_Category == \"&gt; 10 tons\") %&gt;% pull(Loading_Cost)\n  }\n}\n\n# Calculate loading costs based on total weights for each distribution center\nloading_costs_per_dc &lt;- sapply(total_weight, \n                               get_loading_cost)\n\n\n\n\n\n\n\n\n\n\n\n\nSau khi ƒë√£ c√≥ ƒë·ªß d·ªØ li·ªáu, b·∫°n s·∫Ω b·∫Øt ƒë·∫ßu vi·∫øt h√†m m·ª•c ti√™u v√† d√πng thu·∫≠t to√°n GA ƒë·ªÉ t√¨m ra gi√° tr·ªã t·ªëi ∆∞u nh·∫•t.\nTrong h√†m ga t·ª´ g√≥i GA trong R, c√≥ m·ªôt s·ªë ƒë·ªëi s·ªë quan tr·ªçng cho ph√©p b·∫°n t√πy ch·ªânh thu·∫≠t to√°n di truy·ªÅn. D∆∞·ªõi ƒë√¢y l√† m·ªôt c√°i nh√¨n t·ªïng quan v·ªÅ m·ªôt s·ªë ƒë·ªëi s·ªë quan tr·ªçng:\n\ntype: Ch·ªâ ƒë·ªãnh lo·∫°i t·ªëi ∆∞u h√≥a (v√≠ d·ª•: \"real-valued\", \"binary\" ho·∫∑c \"permutation\").\nfitness: H√†m ƒë√°nh gi√° ƒë·ªô ph√π h·ª£p; n√≥ n√™n nh·∫≠n m·ªôt vector tham s·ªë l√†m ƒë·∫ßu v√†o v√† tr·∫£ v·ªÅ m·ªôt gi√° tr·ªã s·ªë.\nlower v√† upper: ƒê·ªãnh nghƒ©a gi·ªõi h·∫°n cho c√°c bi·∫øn n·∫øu b·∫°n ƒëang t·ªëi ∆∞u h√≥a trong kh√¥ng gian li√™n t·ª•c (d√πng cho c√°c lo·∫°i gi√° tr·ªã th·ª±c).\npopSize: Thi·∫øt l·∫≠p k√≠ch th∆∞·ªõc qu·∫ßn th·ªÉ cho m·ªói th·∫ø h·ªá.\nmaxiter: Ch·ªâ ƒë·ªãnh s·ªë th·∫ø h·ªá t·ªëi ƒëa ƒë·ªÉ ch·∫°y thu·∫≠t to√°n.\nrun: Ch·ªâ ƒë·ªãnh s·ªë th·∫ø h·ªá ƒë·ªÉ ch·∫°y thu·∫≠t to√°n m√† kh√¥ng c√≥ s·ª± c·∫£i thi·ªán tr∆∞·ªõc khi d·ª´ng l·∫°i.\npmutation: X√°c su·∫•t x·∫£y ra ƒë·ªôt bi·∫øn trong qu·∫ßn th·ªÉ.\nelitism: X√°c ƒë·ªãnh xem c√°c c√° th·ªÉ t·ªët nh·∫•t c√≥ n√™n ƒë∆∞·ª£c gi·ªØ l·∫°i trong th·∫ø h·ªá ti·∫øp theo hay kh√¥ng.\n\nNh·ªØng ƒë·ªëi s·ªë n√†y gi√∫p ƒëi·ªÅu ch·ªânh thu·∫≠t to√°n di truy·ªÅn cho c√°c nhu c·∫ßu t·ªëi ∆∞u h√≥a c·ª• th·ªÉ c·ªßa b·∫°n, cho ph√©p hi·ªáu su·∫•t t·ªët h∆°n v√† h·ªôi t·ª• v·ªÅ c√°c gi·∫£i ph√°p t·ªëi ∆∞u.\nNgo√†i ra, c√≤n c√≥ c√°c l∆∞u √Ω cho b·∫°n khi s·ª≠ d·ª•ng R nh∆∞ sau:\n\n\n\n\n\n\nL∆∞u √Ω khi d√πng h√†m ga():\n\n\n\nH√†m ga() ph·∫£i c√≥ √≠t nh·∫•t 2 ƒë·ªëi s·ªë l√† type v√† fitness th√¨ R m·ªõi ch·∫°y ƒë∆∞·ª£c.\n\nRi√™ng khi type = ‚Äúbinary‚Äù th√¨ c·∫ßn th√™m ƒë·ªëi s·ªë nBits.\nC√≤n khi type = \"real-valued\"/\"permutation\" th√¨ c·∫ßn th√™m ƒë·ªëi s·ªë min v√† max.\n\n\n\n\n\nCode\n# Load necessary library\nlibrary(GA)\ndemand&lt;-c(distribution_centers$Demand)\n\ncost_matrix = transportation_costs + loading_costs_per_dc\n# Define the transportation cost matrix\n\n# Define the objective function\nobjective_function &lt;- function(quantities) {\n    quantities_matrix &lt;- matrix(quantities, \n                                nrow = 5, \n                                ncol = 3, \n                                byrow = TRUE)\n    \n    total_cost &lt;- sum(quantities_matrix * cost_matrix)\n    \n    # Check if demands are met\n    if (any(colSums(quantities_matrix) &lt; demand)) {\n        return(Inf)  # Penalize if demands are not met\n    }\n    \n    return(total_cost)\n}\n\n# Set up the Genetic Algorithm\nnum_vars &lt;- 5 * 3  # 5 warehouses, 3 distribution centers\nga_result &lt;- ga(\n    type = \"real-valued\",\n    fitness = function(x) -objective_function(x),  # Negate for maximization\n    lower = rep(0, num_vars),  # Minimum quantity\n    upper = rep(100, num_vars),  # Maximum quantity (adjust as needed)\n    popSize = 50,\n    maxiter = 100,\n    run = 10,\n    monitor = TRUE\n)\n\n\nV√† cu·ªëi c√πng, sau khi c√≥ k·∫øt qu·∫£, m√¨nh s·∫Ω d√πng c√°c th∆∞ vi·ªán g·ªìm: Leaflet, gt, v√† bi·ªÉu ƒë·ªì Sankey ph·ª•c v·ª• nh·ªØng m·ª•c ƒë√≠ch kh√°c nhau cho tr·ª±c quan h√≥a d·ªØ li·ªáu.\n\nLeaflet: ƒê√¢y l√† m·ªôt th∆∞ vi·ªán m·∫°nh m·∫Ω ƒë·ªÉ t·∫°o b·∫£n ƒë·ªì t∆∞∆°ng t√°c. N√≥ cho ph√©p ng∆∞·ªùi d√πng d·ªÖ d√†ng th√™m c√°c l·ªõp, ƒëi·ªÉm ƒë√°nh d·∫•u v√† pop-up, r·∫•t l√Ω t∆∞·ªüng ƒë·ªÉ tr·ª±c quan h√≥a d·ªØ li·ªáu ƒë·ªãa l√Ω. Leaflet ƒë·∫∑c bi·ªát h·ªØu √≠ch ƒë·ªÉ hi·ªÉn th·ªã c√°c d·ªØ li·ªáu nh∆∞ v·ªã tr√≠, l·ªô tr√¨nh, ho·∫∑c ph√¢n b·ªë kh√¥ng gian.\ngt: G√≥i gt ƒë∆∞·ª£c thi·∫øt k·∫ø ƒë·ªÉ t·∫°o ra c√°c b·∫£ng ch·∫•t l∆∞·ª£ng cao trong R. N√≥ cho ph√©p ng∆∞·ªùi d√πng ƒë·ªãnh d·∫°ng v√† t·∫°o ki·ªÉu cho b·∫£ng m·ªôt c√°ch d·ªÖ d√†ng, gi√∫p ch√∫ng tr·ªü n√™n h·∫•p d·∫´n v√† d·ªÖ ƒë·ªçc. gt h·ªó tr·ª£ c√°c t√≠nh nƒÉng nh∆∞ ƒë·ªãnh d·∫°ng t√πy ch·ªânh, d√≤ng t√≥m t·∫Øt, v√† th·∫≠m ch√≠ th√™m ch√∫ th√≠ch, n√¢ng cao c√°ch tr√¨nh b√†y d·ªØ li·ªáu trong b√°o c√°o.\nBi·ªÉu ƒë·ªì Sankey: Nh·ªØng bi·ªÉu ƒë·ªì n√†y ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ tr·ª±c quan h√≥a lu·ªìng v√† m·ªëi quan h·ªá gi·ªØa c√°c danh m·ª•c kh√°c nhau. Trong R, g√≥i networkD3 ho·∫∑c ggalluvial c√≥ th·ªÉ t·∫°o ra bi·ªÉu ƒë·ªì Sankey, gi√∫p hi·ªÉu c√°ch c√°c gi√° tr·ªã di chuy·ªÉn gi·ªØa c√°c n√∫t, ch·∫≥ng h·∫°n nh∆∞ theo d√µi h√†nh tr√¨nh ng∆∞·ªùi d√πng ho·∫∑c hi·ªÉn th·ªã ph√¢n b·ªï t√†i nguy√™n.\n\nNh√¨n chung, nh·ªØng c√¥ng c·ª• n√†y cung c·∫•p c√°c l·ª±a ch·ªçn m·∫°nh m·∫Ω ƒë·ªÉ tr√¨nh b√†y d·ªØ li·ªáu m·ªôt c√°ch h·∫•p d·∫´n v√† th√¥ng tin. B·∫°n c√≥ th·ªÉ l·ª±a ch·ªçn 1 trong 3 ch√∫ng, v√¨ l√Ω do h·ªçc n√™n m√¨nh tr√¨nh b√†y c·∫£ 3 lu√¥n!.\n\n\nCode\nlibrary(leaflet)\n\n# Create custom icons\nwarehouse_icon &lt;- makeIcon(\n      iconUrl = \"C:/Users/locca/Documents/Xu√¢n L·ªôc/R/Project R/Genetic-Algorithm/warehouse_icon.png\",  # Update with your actual file path\n      iconWidth = 30, \n      iconHeight = 30\n    )\n\ndc_icon &lt;- makeIcon(\n      iconUrl = \"C:/Users/locca/Documents/Xu√¢n L·ªôc/R/Project R/Genetic-Algorithm/distribution_center.png\",  # Update with your actual file path\n      iconWidth = 30, \n      iconHeight = 30\n    )\n    \n    # Assuming ga_result@solution contains optimal quantities\nga_result_solution &lt;- c(ga_result@solution)\n\n# Reshape the solution into a matrix (5 warehouses x 3 DCs)\noptimal_quantities &lt;- matrix(ga_result@solution,\n                             nrow = 5, \n                             ncol = 3, \n                             byrow = TRUE)\n\n    # Create the leaflet map\nmap &lt;- leaflet() %&gt;% \n      addTiles() %&gt;%\n      addMarkers(data = warehouses, \n                 lat = ~Latitude, lng = ~Longitude, \n                 popup = ~paste(\"Warehouse ID:\", ID), \n                 icon = warehouse_icon) %&gt;%\n      addMarkers(data = distribution_centers, \n                 lat = ~Latitude, lng = ~Longitude, \n                 popup = ~paste(\"DC ID:\", ID, \"&lt;br&gt;Demand:\", Demand), \n                 icon = dc_icon)\n\n    # Add routes based on the optimal quantities\n    for (i in 1:nrow(optimal_quantities)) {\n      for (j in 1:ncol(optimal_quantities)) {\n        if (optimal_quantities[i, j] &gt; 0) {\n          route_start &lt;- warehouses[warehouses$ID == i, c(\"Longitude\", \"Latitude\")]\n          route_end &lt;- distribution_centers[distribution_centers$ID == j, c(\"Longitude\", \"Latitude\")]\n          \nmap &lt;- map %&gt;%\n            addPolylines(lat = c(route_start$Latitude, route_end$Latitude),\n                         lng = c(route_start$Longitude, route_end$Longitude),\n                         color = \"black\", weight = 2, opacity = 0.5)\n        }\n      }\n    }\n\nmap %&gt;%\n  addProviderTiles(providers$CartoDB.Positron) \nlibrary(gt)\nlibrary(gtExtras)\n\n    # Convert GA solution to a data frame\nresult &lt;- as.data.frame(matrix(ga_result@solution, nrow = 5, byrow = TRUE))\n    colnames(result) &lt;- c(\"DC1\", \"DC2\", \"DC3\")\n    rownames(result) &lt;- c(\"WH1\", \"WH2\", \"WH3\", \"WH4\", \"WH5\")\nresult &lt;- cbind(Workload = rownames(result), result)\n\nresult_long &lt;- result %&gt;% \n  pivot_longer(cols = starts_with(\"DC\"), names_to = \"Distribution_Center\", values_to = \"Quantity\")\n    # Create and display the table\nresult_long %&gt;%\n  gt() %&gt;%\n  tab_header(title = \"Details Planning Table\") %&gt;%\n  cols_label(Distribution_Center = \"Distribution Center\") %&gt;% \n  tab_row_group(\n    label = html(\"&lt;strong&gt;&lt;img src='https://upload.wikimedia.org/wikipedia/commons/5/56/Flag_of_Laos.svg' width='20' /&gt; Laos&lt;/strong&gt;\"),\n    rows = Distribution_Center == \"DC1\"\n  ) %&gt;% \n  tab_row_group(\n    label = html(\"&lt;strong&gt;&lt;img src='https://upload.wikimedia.org/wikipedia/commons/thumb/2/21/Flag_of_Vietnam.svg/345px-Flag_of_Vietnam.svg.png' width='20' /&gt; Vietnam&lt;/strong&gt;\"),\n    rows = Distribution_Center %in% c(\"DC2\", \"DC3\")\n  ) %&gt;% \n  fmt_number(columns = c(Quantity), decimals = 2) %&gt;%\n  cols_label(Workload = \"Warehouse\") %&gt;%\n  tab_style(style = list(cell_text(align = \"center\")),\n            locations = cells_body(columns = everything())) %&gt;%\n  tab_source_note(source = md(\"*Source: package gt in R*\")) %&gt;%\n  gt_theme_excel() %&gt;%\n  summary_rows(\n    groups = everything(),\n    columns = Quantity, \n    fns = list(Total = ~sum(.),\n               Count = ~n()))%&gt;% \n  tab_footnote(\n    footnote = md(\"**Count** means number of shipment.\"),\n    locations = cells_summary(rows = \"Count\")\n  ) %&gt;% \n  tab_footnote(\n    footnote = md(\"**Total** means the optimal quantity of good.\"),\n    locations = cells_summary(rows = \"Total\")\n  ) \nlibrary(networkD3)\nlibrary(jsonlite)\n\n# Define colors for nodes\ncolors &lt;- c(\"#1f77b4\", \"#ff7f0e\", \"#2ca02c\", \"#d62728\", \"#9467bd\", \"#8c564b\", \"#e377c2\", \"#7f7f7f\", \"#bcbd22\", \"#17becf\")\n\n# Define example data\nWarehouses &lt;- c(\"Warehouse 1\", \"Warehouse 2\", \"Warehouse 3\", \"Warehouse 4\", \"Warehouse 5\")\nDistribution_centers &lt;- c(\"DC 1\", \"DC 2\", \"DC 3\")\n\n# Create nodes data frame\nnodes &lt;- data.frame(name = c(Warehouses, Distribution_centers))\n\n# Assign colors based on node index\nnode_colors &lt;- c(rep(1:length(Warehouses), each = 1), rep(length(Warehouses) + 1:length(Distribution_centers), each = 1))\n\n# Create links data frame\nlinks &lt;- data.frame(\n  source = rep(0:(nrow(optimal_quantities) - 1), each = ncol(optimal_quantities)),  \n  target = as.vector(sapply(0:(ncol(optimal_quantities) - 1), \n                             function(j) rep(nrow(optimal_quantities) + j, nrow(optimal_quantities)))),  \n  value = as.vector(optimal_quantities)  \n)\n\n# Create a Sankey diagram with node colors\nsankey &lt;- sankeyNetwork(Links = links, \n                        Nodes = nodes, \n                        Source = \"source\", \n                        Target = \"target\", \n                        Value = \"value\",\n                        NodeID = \"name\",\n                        colourScale = JS(paste0(\"d3.scaleOrdinal().domain([0,\", length(colors) - 1, \"]).range(\", toJSON(colors), \");\")),\n                        height = 900,  # Adjust height to reduce vertical space\n                        width = 1000)   # Adjust width to fit more nodes in one line\n\n\n## Add title and caption:\nsankey &lt;- htmlwidgets::prependContent(sankey, htmltools::tags$h1(\"Sankey chart\"))\nsankey &lt;- htmlwidgets::appendContent(sankey, htmltools::tags$p(style = \"font-size: 14px; text-align: center;\", \" A wider arrow indicates that a larger quantity is being sent from that warehouse to a distribution center.\"))\n\n# Display the Sankey diagram\nsankey\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  \n    \n      Details Planning Table\n    \n    \n    \n      \n      Warehouse\n      Distribution Center\n      Quantity\n    \n  \n  \n    \n       Vietnam\n    \n    \nWH1\nDC2\n11.14\n    \nWH1\nDC3\n9.35\n    \nWH2\nDC2\n33.06\n    \nWH2\nDC3\n45.37\n    \nWH3\nDC2\n80.42\n    \nWH3\nDC3\n70.16\n    \nWH4\nDC2\n12.31\n    \nWH4\nDC3\n24.31\n    \nWH5\nDC2\n12.82\n    \nWH5\nDC3\n13.95\n    Total\n‚Äî1\n‚Äî1\n312.86831\n    Count\n‚Äî2\n‚Äî2\n10.00002\n    \n       Laos\n    \n    \nWH1\nDC1\n27.76\n    \nWH2\nDC1\n25.81\n    \nWH3\nDC1\n19.06\n    \nWH4\nDC1\n17.24\n    \nWH5\nDC1\n11.38\n    Total\n‚Äî1\n‚Äî1\n101.25231\n    Count\n‚Äî2\n‚Äî2\n5.00002\n  \n  \n    \n      Source: package gt in R\n\n    \n  \n  \n    \n      1 Total means the optimal quantity of good.\n\n    \n    \n      2 Count means number of shipment.\n\n    \n  \n\n\n\n\nSankey chart\n\n A wider arrow indicates that a larger quantity is being sent from that warehouse to a distribution center."
  },
  {
    "objectID": "GA.html#m√¥-h√¨nh-milp",
    "href": "GA.html#m√¥-h√¨nh-milp",
    "title": "Genetic Algorithms in R",
    "section": "2.2 M√¥ h√¨nh MILP:",
    "text": "2.2 M√¥ h√¨nh MILP:\n\n2.2.1 Gi·ªõi thi·ªáu s∆° l∆∞·ª£c:\nMILP (Mixed Integer Linear Programming) l√† m·ªôt ph∆∞∆°ng ph√°p t·ªëi ∆∞u h√≥a ƒë∆∞·ª£c s·ª≠ d·ª•ng trong c√°c b√†i to√°n l·∫≠p k·∫ø ho·∫°ch, ph√¢n b·ªï t√†i nguy√™n, v√† quy·∫øt ƒë·ªãnh trong c√°c lƒ©nh v·ª±c nh∆∞ logistics, s·∫£n xu·∫•t, t√†i ch√≠nh, v√† nhi·ªÅu lƒ©nh v·ª±c kh√°c. MILP l√† m·ªôt ph·∫ßn m·ªü r·ªông c·ªßa l·∫≠p tr√¨nh tuy·∫øn t√≠nh (Linear Programming - LP), trong ƒë√≥ c√≥ c√°c bi·∫øn l√† s·ªë nguy√™n (integer variables) b√™n c·∫°nh c√°c bi·∫øn li√™n t·ª•c (continuous variables).\nTrong ƒë√≥, c·∫•u tr√∫c c·ªßa m·ªôt b√†i to√°n MILP bao g·ªìm:\n\nH√†m m·ª•c ti√™u: L√† m·ªôt h√†m tuy·∫øn t√≠nh m√† b·∫°n mu·ªën t·ªëi ∆∞u h√≥a (t·ªëi ƒëa h√≥a ho·∫∑c t·ªëi thi·ªÉu h√≥a).\n\\[\n\\text{Maximize or Minimize } Z = c_1x_1 + c_2x_2 + \\ldots + c_nx_n\n\\]\nR√†ng bu·ªôc: Bao g·ªìm c√°c ƒëi·ªÅu ki·ªán tuy·∫øn t√≠nh m√† c√°c bi·∫øn ph·∫£i th·ªèa m√£n.\n\\[\na_{11}x_1 + a_{12}x_2 + \\ldots + a_{1n}x_n \\leq b_1\n\\]\n\\[\na_{21}x_1 + a_{22}x_2 + \\ldots + a_{2n}x_n \\leq b_2\n\\]\n‚Ä¶ v√† nhi·ªÅu r√†ng bu·ªôc kh√°c.\nBi·∫øn quy·∫øt ƒë·ªãnh: C√°c bi·∫øn trong b√†i to√°n c√≥ th·ªÉ l√†:\n\nBi·∫øn li√™n t·ª•c: C√≥ th·ªÉ nh·∫≠n m·ªçi gi√° tr·ªã th·ª±c (v√≠ d·ª•: s·ªë l∆∞·ª£ng s·∫£n ph·∫©m).\nBi·∫øn nguy√™n: Ch·ªâ nh·∫≠n gi√° tr·ªã nguy√™n (v√≠ d·ª•: s·ªë l∆∞·ª£ng xe t·∫£i).\nBi·∫øn nh·ªã ph√¢n: Ch·ªâ nh·∫≠n gi√° tr·ªã 0 ho·∫∑c 1 (v√≠ d·ª•: c√≥ ho·∫∑c kh√¥ng s·ª≠ d·ª•ng m·ªôt nh√† m√°y).\n\n\n·ª®ng d·ª•ng c·ªßa MILP\n\nQu·∫£n l√Ω chu·ªói cung ·ª©ng: T·ªëi ∆∞u h√≥a vi·ªác ph√¢n ph·ªëi h√†ng h√≥a t·ª´ c√°c kho ƒë·∫øn c√°c kh√°ch h√†ng.\nL·∫≠p k·∫ø ho·∫°ch s·∫£n xu·∫•t: X√°c ƒë·ªãnh s·ªë l∆∞·ª£ng s·∫£n ph·∫©m c·∫ßn s·∫£n xu·∫•t ƒë·ªÉ t·ªëi ƒëa h√≥a l·ª£i nhu·∫≠n ho·∫∑c gi·∫£m chi ph√≠.\nT·ªëi ∆∞u h√≥a l·ªãch tr√¨nh: L·∫≠p l·ªãch cho nh√¢n vi√™n, m√°y m√≥c, ho·∫∑c t√†i nguy√™n ƒë·ªÉ t·ªëi ∆∞u h√≥a hi·ªáu su·∫•t.\nQuy ho·∫°ch ƒë√¥ th·ªã: T·ªëi ∆∞u h√≥a vi·ªác s·ª≠ d·ª•ng ƒë·∫•t v√† t√†i nguy√™n trong quy ho·∫°ch th√†nh ph·ªë.\n\nTrong R c√≥ c√°c th∆∞ vi·ªán nh∆∞ lpSolve, ompr, v√† ROI c√≥ th·ªÉ ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ gi·∫£i quy·∫øt c√°c b√†i to√°n MILP.\n\n\n2.2.2 V√≠ d·ª•:\nMILP l√† m·ªôt c√¥ng c·ª• m·∫°nh m·∫Ω cho vi·ªác t·ªëi ∆∞u h√≥a trong nhi·ªÅu lƒ©nh v·ª±c kh√°c nhau. V·ªõi kh·∫£ nƒÉng k·∫øt h·ª£p gi·ªØa c√°c bi·∫øn li√™n t·ª•c v√† s·ªë nguy√™n, MILP c√≥ th·ªÉ gi·∫£i quy·∫øt nhi·ªÅu b√†i to√°n ph·ª©c t·∫°p m√† c√°c ph∆∞∆°ng ph√°p t·ªëi ∆∞u h√≥a kh√°c kh√¥ng th·ªÉ th·ª±c hi·ªán hi·ªáu qu·∫£.\nG·ªâa s·ª≠ ta c√≥ b√†i to√°n v·ªÅ v·∫•n ƒë·ªÅ Transshipment c√≥ y√™u c·∫ßu l√† t√¨m ra ph∆∞∆°ng √°n v·∫≠n t·∫£i t·ªëi ∆∞u nh·∫•t ƒë·ªÉ v·∫≠n chuy·ªÉn h√†ng h√≥a t·ª´ nh√† m√°y (Factory) th√¥ng qua Crossdocking v√† ƒë·∫øn ƒë∆∞·ª£c Distribution Center v·ªõi m·ª•c ti√™u l√† ƒë·∫°t chi ph√≠ th·∫•p nh·∫•t.\n\n\n\nH√¨nh 5: V·∫•n ƒë·ªÅ Transshipment\n\n\nV√¨ b√†i to√°n n√†y thu·ªôc d·∫°ng tuy·∫øn t√≠nh, ph∆∞∆°ng ph√°p MILP s·∫Ω l√†m t·ªët h∆°n nhi·ªÅu so v·ªõi thu·∫≠t to√°n GA b√™n tr√™n.\n\n\nCode\nlibrary(ompr)\nlibrary(ompr.roi)\nlibrary(ROI.plugin.glpk)\n#Input:\nSupply &lt;-c(200,300,100,150,220)\nDemand &lt;-c(150,100,110,200,180)\nDC&lt;-2\nm&lt;-length(Supply)\nn&lt;-length(Demand)\n\nCost_CD&lt;-read.table(text = \n                    \"CD1 CD2\n                     30 50\n                     23 66\n                     35 14\n                     70 12\n                     65 70\",header = T)\nCost_DC&lt;-read.table(text = \n                      \"DC1 DC2 DC3 DC4 DC5\n                       12 25 22 40 41\n                       65 22 23 12 15\",header = T)\n\n#MILP model from the \nmodel5 &lt;- MIPModel() %&gt;%\n  # Add variable\n  add_variable(x[i, j], i = 1:m, j = 1:DC) %&gt;%\n  add_variable(y[j, k], j = 1:DC, k = 1:n) %&gt;%\n  # minimize the cost of transshipment:\n  set_objective(sum_expr(x[i, j]*Cost_CD[i, j],i = 1:m, j = 1:DC)+ sum_expr(y[j, k]*Cost_DC[j, k], k = 1:n, j = 1:DC),\"min\") %&gt;%\n  add_constraint(sum_expr(y[j, k], j = 1:DC) &gt;= Demand[k], k = 1:n) %&gt;%\n  # The amount of inventory in Crossdocking is smaller than production goods\n  add_constraint(sum_expr(x[i, j], j = 1:DC) &lt;= Supply[i], i = 1:m) %&gt;% \n  # The amount of is bigger than demand in DC\n  add_constraint(sum_expr(x[i, j], i = 1:m) - sum_expr(y[j, k], k = 1:n) &gt;= 0,j = 1:DC) %&gt;%\n  add_constraint(x[i, j] &gt;= 0, j = 1:DC, i = 1:m)%&gt;% \n  add_constraint(y[j, k] &gt;= 0, j = 1:DC, k = 1:n)%&gt;% \n  #Solve the model:\n  solve_model(with_ROI(solver = \"glpk\", verbose = TRUE))\n\n\n\n\nCode\n## Barchart:\nsolution &lt;- get_solution(model5, x[i, j]) %&gt;% \n     filter(value &gt; 0)\n\nlibrary(ggplot2)\nlibrary(dplyr)\n\n# Assuming `solution` contains the results of x[i, j]\n# Transform the solution into a tidy format for plotting\nplot_data &lt;- solution %&gt;%\n  rename(Manufacter= i, DC = j, Flow = value) %&gt;%\n  mutate(Manufacter = paste(\"Manufacter\", Manufacter),\n         DC = paste(\"DC\", DC))\n\n# Create a plot\nggplot(plot_data, aes(x = Manufacter, y = Flow, fill = DC)) +\n  geom_bar(stat = \"identity\", position = \"dodge\") +\n  theme_minimal() +\n  labs(title = \"Transshipment Flow from Manufacters to Distribution Centers\",\n       x = \"Manufacters\",\n       y = \"Flow Amount\",\n       fill = \"Distribution Centers\") +\n  theme(text = element_text(size = 12),\n        axis.text.x = element_text(angle = 45, hjust = 1)) +\n  scale_fill_brewer(palette = \"Set2\")\nlibrary(gt)\n\n# Assuming `solution` contains the results of x[i, j]\n# Transform the solution into a tidy format for the table\ntable_data &lt;- solution %&gt;%\n  rename(Manufacturer = i, DC = j, Flow = value) %&gt;%\n  mutate(Manufacturer = paste(\"Manufacturer\", Manufacturer),\n         DC = paste(\"DC\", DC)) %&gt;% \n  select(-variable)\n\n# Create a gt table\ntable_data %&gt;%\n  gt() %&gt;%\n  tab_header(\n    title = md(\"**Transshipment Flows from Manufacturers to Distribution Centers**\")\n  ) %&gt;%\n  cols_label(\n    Manufacturer = \"Manufacturer\",\n    DC = \"Distribution Center\",\n    Flow = \"Flow Amount\"\n  ) %&gt;%\n  fmt_number(\n    columns = c(Flow),\n    decimals = 2\n  ) %&gt;%\n  tab_style(\n    style = list(\n      cell_fill(color = \"lightblue\")\n    ),\n    locations = cells_body(\n      columns = c(Flow),\n      rows = Flow &gt; 0\n    )\n  ) %&gt;%\n  tab_options(\n    table.width = pct(100)\n  ) %&gt;% \n  gt_theme_excel()\n\n\n\n\n\n\n\n\n\n\n\n\n\n  \n    \n      Transshipment Flows from Manufacturers to Distribution Centers\n\n    \n    \n    \n      Manufacturer\n      Distribution Center\n      Flow Amount\n    \n  \n  \n    Manufacturer 1\nDC 1\n60.00\n    Manufacturer 2\nDC 1\n300.00\n    Manufacturer 1\nDC 2\n130.00\n    Manufacturer 3\nDC 2\n100.00\n    Manufacturer 4\nDC 2\n150.00\n  \n  \n  \n\n\n\n\n\n\n\n\n\nShare\n\nVisit my GitHub"
  }
]